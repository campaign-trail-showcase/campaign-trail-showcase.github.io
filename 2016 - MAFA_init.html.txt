campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 25,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 20,
        "fields": {
            "year": 2016,
            "summary": "<p>Donald Trump has won the Democratic nomination against Hillary Clinton against all odds, while Marco Rubio has narrowly gained the Republican nomination against Ted Cruz. Trump will need to convince the public that he is the right choice to fight back against the 1%, even if he's a billionaire. With most of the media focusing on Trump and his star power, Rubio will likely struggle to spread his message to the public.</p><p>How will their campaign play out? Will Rubio win despite all odds, and convince America that radicalism isn't the way to go, or will Trump manage to win against the establishment and Make America Fair Again?  </p>",
            "image_url": "https://i.imgur.com/qUuI50t.png",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://i.imgur.com/GqWaw2V.png",
            "recommended_reading": "<h4 style=\"margin-top: 0.5em;\">Articles</h4>FiveThirtyEight - <a href=\"http://projects.fivethirtyeight.com/2016-swing-the-election/\" target=\"_blank\"> What Would It Take To Turn Blue States Red?</a></br><a href=\"http://thehill.com/blogs/ballot-box/presidential-races/274317-anti-trump-forces-point-to-losing-match-ups-with-clinton\">Anti-Trump forces seize on grim polls for Clinton match-up</a></br><a href=\"http://www.slate.com/blogs/the_slatest/2016/02/24/donald_trump_could_beat_hillary_clinton_in_the_general.html\">Think Hillary Clinton Will Crush Donald Trump in the General Election? Donâ€™t Be So Sure.</a></br><a href=\"http://www.slate.com/blogs/the_slatest/2016/03/01/hillary_clinton_plots_her_general_election_trump_strategy.html\">How Team Clinton Is Planning to Defeat Trump</a></br><a href=\"http://www.vox.com/2016/2/10/10961324/donald-trump-win-november\">Here's Donald Trump's Best Strategy for Winning the White House</a><h4>Books</h4>\nHillary Clinton - <a href=\"http://www.amazon.com/exec/obidos/ASIN/1476751471/amhius20-20\" target=\"_blank\">Hard Choices</a></br>\nHillary Clinton - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0743222253/amhius20-20\" target=\"_blank\">Living History</a></br>\nDonald Trump - <a href=\"http://www.amazon.com/exec/obidos/ASIN/1501137964/amhius20-20\" target=\"_blank\">Crippled America: How to Make America Great Again</a></br>\nDonald Trump - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0399594493/amhius20-20\" target=\"_blank\">The Art of the Deal</a></br>\nGary Johnson - <a href=\"http://www.amazon.com/exec/obidos/ASIN/B008PXW0C0/amhius20-20\" target=\"_blank\">Seven Principles of Good Government</a>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/2012-no-majority.jpg",
            "creator": "Dan Bryan",
            "display_year": "2016 - MAFA"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 200,
        "fields": {
            "first_name": "Marco",
            "last_name": "Rubio",
            "election": 20,
            "party": "Republican",
            "state": "Florida",
            "priority": 1,
            "description": "<p>(NOT PLAYABLE, FOR CONTEXT ONLY)</p> \n<P>Marco Rubio won the Republican nomination after a tough fight with Ted Cruz. With populists disheartened from his nomination, and with the media mostly focusing on Trump, Marco will probably lose, unless he manages to point out Trump's radicalism.</p>\n\n<p>Even though the chances of him winning this election aren't high, Rubio will try his best on the campaign trail. Perhaps a miracle could happen?",
            "color_hex": "#c70000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 1,
            "image_url": "https://i.imgur.com/MEeWpc4.png",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2016 election.</h3><p>In spite of a hard-fought challenge from Donald Trump, you have shocked the nation with your election victory.</p><p>On the political front, you have the bully pulpit in your favor, but support in Congress in uncertain. Will you govern as a more traditional conservative, or will you become more of a populist?</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>Ah, well, this was to be expected. You couldn't withstand the mere star power of Trump, maybe you were too boring, or maybe it was fate. Alas, your presidential ambitions are probably over. You should probably hide your disappointment when you concede the election.</p>",
            "no_electoral_majority_message": "<h3>Wow! You have pulled out 2016 election.</h3><p>No candidate secured a majority in the Electoral College. However, the Republicans won a majority in Congress and will elevate you to the Presidency. Time will tell how things go in that regard. Any mutual affection between you and Congress is predicted to be short-lived, but you've pulled off a number of surprises to get this far.</p>",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 201,
        "fields": {
            "first_name": "Donald ",
            "last_name": "Trump",
            "election": 20,
            "party": "Democrat",
            "state": "New York",
            "priority": 2,
            "description": "<p>In a shocking turn of events, Donald J. Trump ran in the Democratic primaries. He managed to defeat Hillary Clinton after Bernie dropped out and endorsed him. He runs on a leftist populist platform, advocating for higher taxes on billionaires (even though he is one himself) and Medicare for All. Some Democratic moderates are afraid of his very left-wing policies and could stay home this election.</p> \n<p>Trump will need to get moderate Democrats to support him, while keeping his core supporters happy. Trump will need to utilize the media's attention on his ticket to get people to vote for him. Trump must remember his goal to Make America Fair Again.",
            "color_hex": "#000066",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://i.imgur.com/Z56yvBS.png",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2016 election.</h3><p> This was expected by everyone except Republicans and moderate Democrats. Your supporters expect a lot from you, so you'd better keep your promises. </p><p>On the political front, Congress has returned to a Democratic majority, with moderates warming up to you, you should be able to pass most of your agenda. </p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>Many of your supporters are confused on how you could've lost to the establishment. Many in the moderate wing of the party are furious that you cost Hillary the nomination and the election.</p>\n\n<p>As for you, you will probably never be the candidate again, but this doesn't mean that your political ambitions are over. You could influence the next Democratic candidate.",
            "no_electoral_majority_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>No candidate secured a majority in the Electoral College. However, the Republicans won a majority in Congress and will elevate Trump to the Presidency. Time will tell how things go in that regard. As for you, a quick and controversial political career appears to be coming to an end.</p>",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 202,
        "fields": {
            "first_name": "Gary",
            "last_name": "Johnson/Others",
            "election": 20,
            "party": "Libertarian",
            "state": "New Mexico",
            "priority": 3,
            "description": "'",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 203,
        "fields": {
            "first_name": "Jill",
            "last_name": "Stein",
            "election": 20,
            "party": "Green",
            "state": "Massachusetts",
            "priority": 4,
            "description": "'",
            "color_hex": "#00C100",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 204,
        "fields": {
            "first_name": "Mike",
            "last_name": "Pence",
            "election": 20,
            "party": "Republican",
            "state": "Indiana",
            "priority": 5,
            "description": "'",
            "color_hex": "#FF0000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/mike-pence-2016.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Mike Pence is a former Congressman and the current Governor of Indiana. He is a popular figure among social conservatives. He'd help you make amends with evangelicals who supported Ted Cruz in the primaries. He would add executive experience to the ticket and make few mistakes on the campaign trail, but he isn't a headline-grabbing name, which could cost you the election. He's the only one willing to be on the ticket right now.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 209,
        "fields": {
            "first_name": "Oprah",
            "last_name": "Winfrey",
            "election": 20,
            "party": "Democrat",
            "state": "California",
            "priority": 9,
            "description": "'",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://i.imgur.com/kbx4S3f.png",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Every American who has a TV has heard of Oprah Winfrey. She would add a lot of star power to a ticket that already has a celebrity at the helm.</p><p>Oprah would help make your campaign more palatable to moderate democrats while keeping your progressive supporters happy. Oprah would be the first black woman chosen as vice president, which is why she'd be open to running with you. </p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 214,
        "fields": {
            "first_name": "William",
            "last_name": "Weld",
            "election": 20,
            "party": "Libertarian",
            "state": "Massachusetts",
            "priority": 14,
            "description": "'",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 215,
        "fields": {
            "first_name": "Ajamu",
            "last_name": "Baraka",
            "election": 20,
            "party": "Green",
            "state": "Washington DC",
            "priority": 15,
            "description": "'",
            "color_hex": "#00C100",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 210,
        "fields": {
            "first_name": "Mike",
            "last_name": "Flynn",
            "election": 20,
            "party": "Democratic",
            "state": "Rhode Island",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://i.imgur.com/VotmO8X.png",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Mike Flynn is currently one of your biggest supporters. The former general has expressed interest in being your running mate. He has criticized the Obama administration's foreign policy for the past two years.</p>\n\n<p>As for what he'd bring to the table, Flynn would easily excite the MAFA base once he makes his domestic policy known, and he would appeal to voters concerned about foreign policy. There are a few downsides to picking him, though. Flynn has spread several conspiracy theories, which could severely harm your campaign. ",
            "candidate_score": 1,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 161,
        "fields": {
            "candidate": 203,
            "running_mate": 215
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 160,
        "fields": {
            "candidate": 202,
            "running_mate": 214
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 155,
        "fields": {
            "candidate": 201,
            "running_mate": 209
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 150,
        "fields": {
            "candidate": 200,
            "running_mate": 204
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 120559,
        "fields": {
            "candidate": 201,
            "running_mate": 210
        }
    }
]

campaignTrail_temp.credits = "u/Intrigued_coin (Based on An Alternate World's MAFA series, music player made by Thatchmaster)"

campaignTrail_temp.opponents_default_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202,
            203
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202,
            203
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 20,
        "year": 2016,
        "is_premium": 0,
        "display_year": "2016 - MAFA"
    }
]

jet_data = {
    "headerColor": "#06247f",
    "windowColor": "#19689a",
    "containerColor": "#193b71",
    "innerWindowColor": "#3c3e67",
    "bannerImageUrl": "https://i.imgur.com/bPQtkfH.png",
    "backgroundImageUrl": "https://i.imgur.com/JpLXwkr.jpeg",
    "endingTextColor": "#000000",
    "customQuote": "",
    "gameTitle": "Make America Fair Again"
}

//#startcode


corrr = '\n              <h2>Make America Fair Again</h2>\n            ';


nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#06247f";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#19689a";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#193b71";

document.getElementById("header").src = "https://i.imgur.com/bPQtkfH.png";
campaignTrail_temp.modBoxTheme = {
    "header_color": "#06247f",
    "header_text_color": "#ffffff",
    "description_text_color": "#ffffff",
    "description_background_color": "#19689a",
    "main_color": "#073f6e",
    "secondary_color": "#06247f",
    "ui_text_color": "#FFFFFF"
}

document.body.background = "https://i.imgur.com/JpLXwkr.jpeg";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#3c3e67!important;}</style>";
    
    HistHexcolour=["#000066","#c70000","#FFFF00","#00C100"];
    HistName=[" Donald Trump"," Marco Rubio"," Gary Johnson"," Jill Stein"];
    HistEV=[302,236,0,0];
    HistPV=["62,302,717","60,096,528","6,654,452","1,566,490"];
    HistPVP=["47.6%","46.0%","5.0%","1.1%"];
//#endcode

// Music Player
  // Select the node that will be observed for mutations
  const windowsAdvisorTargetNode = document.getElementById("game_window");
  
  // Options for the observer (which mutations to observe)
  const windowsAdvisorConfig = { attributes: true, childList: true, subtree: true };
  
  // Callback function to execute when mutations are observed
  const callback = (mutationList, observer) => {
      visitWindow = document.getElementsByClassName("overlay_window")[0];
  
      if(visitWindow == null || visitWindow.classList.contains("done")) {
          return;
      }
      visitWindow.classList.add("done");
      visitWindow.classList.add("window");
      let titleBar = visitWindow.querySelector("h3");
      titleBar.classList.add("title-bar");
      titleBar.classList.add("title-bar-text")
      titleBar.style.paddingLeft = "3px";
  };
  
  class Song {
    constructor(title, artist, coverLink, audioLink) {
      this.title = title;
      this.artist = artist;
      this.coverLink = coverLink;
      this.audioLink = audioLink;
    }
    getTitle() {
      return this.title;
    }
  
    getArtist() {
      return this.artist;
    }
  
    getCoverLink() {
      return this.coverLink;
    }
  
    getAudioLink() {
      return this.audioLink;
    }
  }
  
  class Playlist {
    constructor() {
      this.songs = [];
      this.currentSongIndex = 0;
    }
  
    addSong(song) {
      this.songs.push(song);
    }
  
    getCurrentSong() {
      return this.songs[this.currentSongIndex];
    }
  
    playNext() {
      this.currentSongIndex = (this.currentSongIndex + 1) % this.songs.length;
    }
  
    playPrevious() {
      this.currentSongIndex = (this.currentSongIndex - 1 + this.songs.length) % this.songs.length;
    }
  }
  window.Playlist=Playlist
  window.Song=Song
  
  function changePlaylist(newPlaylist) {
    playlist = newPlaylist;
    playlist.currentSongIndex = 0;
    updateUI(playlist);
    const audio = document.getElementById("audio");
    audio.src = playlist.getCurrentSong().audioLink;
    audio.play();
  }
  window.changePlaylist=changePlaylist
  
  function updateUI(playlist) {
      const currentSong = playlist.getCurrentSong();
      var player = document.getElementById("player");
      player.querySelector("#cover").src = currentSong.getCoverLink();
      player.querySelector("#title").textContent = currentSong.getTitle();
      player.querySelector("#artist").textContent = currentSong.getArtist();
  }
  
  window.updateUI=updateUI
  
  
  function setupMusicPlayer() {
    playlist = new Playlist();
  
  
    const song1 = new Song(
      "Bang Bang",
      "Green Day",
      "https://upload.wikimedia.org/wikipedia/en/c/ca/Green_Day_-_Bang_Bang_Single_Cover.jpg",
      "https://audio.jukehost.co.uk/9ItE6o6x1Q6sLMv5R0jizuZ1j5SQ0YSi"
    );
    
    const song2 = new Song(
      "Radioactive",
      "Imagine Dragons",
      "https://upload.wikimedia.org/wikipedia/en/3/3f/Night_Visions_Album_Cover.jpeg",
      "https://audio.jukehost.co.uk/TEMCUUSmT6bNsyW9GCzxsI3J6rDxf2R1"
    );
  
    const song3 = new Song(
      "Pumped Up Kicks",
      "Foster The People",
      "https://upload.wikimedia.org/wikipedia/en/e/ed/PumpedUpKicks.jpg",
      "https://audio.jukehost.co.uk/xqJ5Bn5Hllcq13KOyuyZfDb3D0XRZYyE"
    );
  
    const song4 = new Song(
      "Revolution Radio",
      "Green Day",
      "https://upload.wikimedia.org/wikipedia/en/8/8d/RevRad.jpeg",
      "https://audio.jukehost.co.uk/tFt4aVqvHft7X4wyIihW5alljK6AnxWl"
    );
  
    const song5 = new Song(
      "Now That's What I Call Polka!",
      "Weird Al Yankovic",
      "https://upload.wikimedia.org/wikipedia/en/3/32/MandatoryFun.jpg",
      "https://audio.jukehost.co.uk/mdZOmVGjKKG7AMrwb7h5PsGVAaTBn4Sk"
    );
  
    const song6 = new Song(
      "Touch Tone Telephone",
      "Lemon Demon",
      "https://upload.wikimedia.org/wikipedia/en/5/50/Touch-Tone_Telephone_Single.jpg",
      "https://audio.jukehost.co.uk/XGEg84MCmndXoV1nk2YaHM5pLjWwbFKx"
    );

    const song7 = new Song(
      "Faded",
      "Alan Walker",
      "https://upload.wikimedia.org/wikipedia/en/d/da/Alan_Walker_-_Faded.png",
      "https://audio.jukehost.co.uk/ErPWBYQmqiYh25i7SpiD763Phd31Sab4"
    );
  
    const song8 = new Song(
      "Hotline Bling",
      "Drake",
      "https://upload.wikimedia.org/wikipedia/commons/c/c9/Drake_-_Hotline_Bling.png",
      "https://audio.jukehost.co.uk/IcvfmrKNkcyj1igLi0WUzrhcU6XyNSs0"
    );

    const song9 = new Song(
      "Go Away",
      "Weezer",
      "https://upload.wikimedia.org/wikipedia/en/3/32/Cover_of_Weezer%27s_album_Everything_Will_Be_Alright_in_the_End.jpg",
      "https://audio.jukehost.co.uk/4urmwCZZlw1hGz0Vd8PQog6QDy3FZKzY"
    );

    const song10 = new Song(
      "Restless Heart Syndrome",
      "Green Day",
      "https://upload.wikimedia.org/wikipedia/en/c/c8/Green_Day_-_21st_Century_Breakdown_cover.jpg",
      "https://audio.jukehost.co.uk/AwHNUEpNonupVDmwjX520t70uuxUGOkq"
    );

    const song11 = new Song(
      "Harvey",
      "Her's",
      "https://upload.wikimedia.org/wikipedia/en/d/dd/InvitationToHers.png",
      "https://audio.jukehost.co.uk/ZioIpufxQUge0d7njYtE2XRvbmVibnvy"
    );

    const song12 = new Song(
      "New Divide",
      "Linkin Park",
      "https://upload.wikimedia.org/wikipedia/en/b/b1/New_Divide_%28Linkin_Park_single_-_cover_art%29.jpg",
      "https://audio.jukehost.co.uk/Ia5ZHqCTD3vnOLZVHLGYHMK6RTQFt0Iv"
    );

    playlist.addSong(song1);
    playlist.addSong(song2);
    playlist.addSong(song3);
    playlist.addSong(song4);
    playlist.addSong(song5);
    playlist.addSong(song6);
    playlist.addSong(song7);
    playlist.addSong(song8);
    playlist.addSong(song9);
    playlist.addSong(song10);
    playlist.addSong(song11);
    playlist.addSong(song12);
  
    const playerContainer = document.createElement("div");
    playerContainer.id = "player";
  
   const displayBox = document.createElement("div");
  displayBox.id = "display-box";
  
  const coverElement = document.createElement("img");
  coverElement.id = "cover";
  displayBox.appendChild(coverElement);
  
  const infoContainer = document.createElement("div");
  infoContainer.id = "info-container";
  infoContainer.style.backgroundImage = "url('https://i.imgur.com/BB1ejv6.png')";
  infoContainer.style.backgroundSize = "cover"; // Optional: adjust based on your needs
  infoContainer.style.color = "white"; // Set text color to white
  
  const songInfo = document.createElement("div");
  songInfo.id = "song-info";
  
  const titleElement = document.createElement("h3");
  titleElement.id = "title";
  titleElement.style.fontWeight = 'large'; // Make it normal as per previous request
  songInfo.appendChild(titleElement);
  
  const artistElement = document.createElement("p");
  artistElement.id = "artist";
  songInfo.appendChild(artistElement);
  
  infoContainer.appendChild(songInfo);
  displayBox.appendChild(infoContainer);
  
  playerContainer.appendChild(displayBox);
  
  const controlsContainer = document.createElement("div");
  controlsContainer.id = "controls-container";
  
  const controls = document.createElement("div");
  controls.id = "controls";
  
  const prevButton = document.createElement("img");
  prevButton.id = "prevButton";
  prevButton.src = "https://i.imgur.com/imIqTEA.png";
  prevButton.alt = "Previous";
  controls.appendChild(prevButton);
  
  const playPauseButton = document.createElement("img");
  playPauseButton.id = "playPauseButton";
  playPauseButton.src = "https://i.imgur.com/oQbfTxw.png"; // Set the default play image
  playPauseButton.alt = "Play/Pause";
  controls.appendChild(playPauseButton);
  
  const nextButton = document.createElement("img");
  nextButton.id = "nextButton";
  nextButton.src = "https://i.imgur.com/7TtaN04.png";
  nextButton.alt = "Next";
  controls.appendChild(nextButton);
  
  controlsContainer.appendChild(controls);
  
  playPauseButton.addEventListener("click", function () {
    const audio = document.getElementById("audio");
    if (audio.paused) {
      audio.play();
      playPauseButton.src = "https://i.imgur.com/oQbfTxw.png"; // Set the pause image
    } else {
      audio.pause();
      playPauseButton.src = "https://i.imgur.com/ttdoyfG.png"; // Set the play image
    }
  });
  
  nextButton.addEventListener("click", function () {
    playlist.playNext();
    updateUI(playlist);
    const audio = document.getElementById("audio");
    audio.src = playlist.getCurrentSong().audioLink;
    audio.play();
  });
  
  prevButton.addEventListener("click", function () {
    playlist.playPrevious();
    updateUI(playlist);
    const audio = document.getElementById("audio");
    audio.src = playlist.getCurrentSong().audioLink;
    audio.play();
  });
  
    const progressBarContainer = document.createElement("div");
    progressBarContainer.id = "progress-bar-container";
  
    const progressBar = document.createElement("progress");
    progressBar.type = "range";
    progressBar.id = "progress-bar";
    progressBar.value = "0";
    progressBar.max = "100";
  
  
    progressBarContainer.appendChild(progressBar);
    controlsContainer.appendChild(progressBarContainer);
    playerContainer.appendChild(controlsContainer);
  
   const volumeContainer = document.createElement("div");
    volumeContainer.id = "volume-container";
  
  const volumeLabel = document.createElement("img");
  volumeLabel.src = "https://i.imgur.com/0BJYsXt.png";
  volumeLabel.alt = "Volume";
  volumeContainer.appendChild(volumeLabel);
  
    const volumeSliderContainer = document.createElement("div");
    volumeSliderContainer.classList.add("is-vertical");
    volumeSliderContainer.style.marginLeft = "23%";
    volumeSliderContainer.style.height = "126px";
  
    const volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.id = "volumeSlider";
    volumeSlider.min = 0;
    volumeSlider.max = 9;
    volumeSlider.step = 1;
    volumeSlider.value = 1; // Initial volume
  
    volumeSliderContainer.appendChild(volumeSlider);
  
    const volumeDisplay = document.createElement("span");
    volumeDisplay.id = "volume-display";
    volumeDisplay.style.fontWeight = 'bold'; 
    volumeDisplay.style.display = 'none';
    volumeDisplay.textContent = "1";
  
    volumeContainer.appendChild(volumeSliderContainer);
    volumeContainer.appendChild(volumeDisplay);
  
    playerContainer.appendChild(volumeContainer);
  
    gameWindow_player.insertAdjacentElement("afterend", playerContainer);
  
  
    function updateProgressBar() {
      const audio = document.getElementById("audio");
      const progress = (audio.currentTime / audio.duration) * 100;
      try{progressBar.value = progress}
    catch{}
    }
  
   
    progressBar.addEventListener("input", function () {
      const audio = document.getElementById("audio");
      const seekTime = (progressBar.value / 100) * audio.duration;
      audio.currentTime = seekTime;
    });
  
    const audio = document.createElement("audio");
    audio.id = "audio";
    audio.src = playlist.getCurrentSong().audioLink;
    audio.volume = 1/9;
  
    audio.addEventListener("timeupdate", updateProgressBar);
    audio.addEventListener("ended", function () {
      // Play the next song when the current song ends
      playlist.playNext();
      updateUI(playlist);
      audio.src = playlist.getCurrentSong().audioLink;
      audio.play();
    });
  
      let currentVolume = 1; // Initial volume
  
    volumeSlider.addEventListener("input", function () {
      currentVolume = parseInt(volumeSlider.value, 10);
      updateVolumeDisplay();
      updateAudioVolume();
    });
  
    function updateVolumeDisplay() {
      volumeDisplay.textContent = currentVolume;
    }
  
     function updateAudioVolume() {
      const audio = document.getElementById("audio");
      audio.volume = currentVolume / 9; // Set volume between 0 and 1
    }
  
    document.body.appendChild(audio);
    audio.play();
  
    // Update the UI when the page loads
    updateUI(playlist);
  }
  
  const style = document.createElement("style");
  style.textContent = `
  #player {
      border: 3px solid #C9C9C9; /* Add your desired border style */
      display: flex;
      flex-direction: row;
    height:191px;
      background-Image: url("https://itsastronomical.com/assets/music/blackbar.png");
    }
  
    #display-box {
      display: flex;
      align-items: center;
      width: 50%;
    }
  
    #cover {
      width: 176px;
    height:176px;
    }
  
    #info-container {
      display: flex;
      flex-direction: row;
      height:178px;
    width:127px;
    margin-top: 3px;
    }
  
    #song-info {
      width: 100%;
    padding:5px;
    }
  
    #controls-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 10px;
      width:100%;
    padding-top:15px;
  
    }
.is-vertical #volumeSlider {
  width: 16px;
  height: 100%;
  writing-mode: vertical-rl;
  direction: rtl;
}
  
    #controls {
      display: flex;
      flex-direction: row;
      justify-content: center;
      width: 80%;
    }
  
    #progress-bar-container {
      width: 100%;
    }
  
    #progress-bar {
      width: 80%;
      margin: auto;
      display: flex;
      margin-Top: 20px;
    }
    
  `;

document.head.appendChild(style);

const gameWindow_player = document.getElementById("game_window");
//use this function directly or put it in an event listener to start the music on the press of a certain button
setupMusicPlayer();

