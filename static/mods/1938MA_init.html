if (!e.temp) {
  e.temp = "[undertale reference here]";
document.getElementById('header').src = "https://i.imgur.com/lqpROgt.jpeg"
RecReading=true
campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 15, \"fields\": {\"year\": 1938, \"summary\": \"<p>Legendary rebel-rousing former governor and mayor of Boston, James Michael Curley, returns in a quest to reclaim his former job. Leverett Saltonstall, former Speaker of the House of the state legislature, seeks to return Massachusetts to Republican governance.</p><p>Curley has made his name as the Irish champion of the lower classes, but after a troubled term as governor years earlier, and with a frosty relationship with the national Democratic Party, is the Purple Shamrock out of luck?</p>\", \"image_url\": \"https://i.imgur.com/LblLK1y.jpeg\", \"winning_electoral_vote_number\": 0, \"advisor_url\": \"https://i.imgur.com/bRMn5Fg.jpeg\", \"recommended_reading\": \"<h4 style=\\\"margin-top: 0.5em;\\\">Resources</h4><a href=\\\"https://www.tcm.com/tcmdb/title/80863/the-last-hurrah#overview\\\" target=\\\"_blank\\\">John Ford - <i>The Last Hurrah</i> (1958) [<b>FILM</b>]</a><br><a href=\\\"https://archive.org/details/rascalking00jack\\\" target=\\\"_blank\\\">Jack Beatty - <i>The Rascal King: The Life And Times Of James Michael Curley</i> (1992) [<b>NOVEL</b>]</a><br><a href=\\\"https://archive.org/details/purpleshamrock0000jose\\\" target=\\\"_blank\\\">Joseph F. Dinneen - <i>The Purple Shamrock: The Hon. James Michael Curley of Boston</i> (1949) [<b>NOVEL</b>]</a><br><a href=\\\"https://archive.org/details/iddoitagain0000jame\\\" target=\\\"_blank\\\">James Michael Curley - <i>I'd Do It Again: A Record Of All My Uproarious Years</i> (1957) [<b>NOVEL</b>]</a>\", \"has_visits\": 1, \"no_electoral_majority_image\": \"/static/images/2012-no-majority.jpg\"}}]");
campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 152, \"fields\": {\"first_name\": \"Leverett\", \"last_name\": \"Saltonstall\", \"election\": 15, \"party\": \"Republican\", \"state\": \"Newton, Massachusetts\", \"priority\": 1, \"description\": \"<p><div style='overflow-y:scroll;height:200px;'><b>NOT PLAYABLE</b></p><p>Leverett Saltonstall is a former Speaker of the Massachusetts House of Representatives and president of the Unitarian Club of Boston. A member of the prestigious Saltonstall family, the wealthiest in the state, Saltonstall is a tenth-generation Harvard graduate and descendant of eight Massachusetts governors and a Lord Mayor of London from during the reign of Elizabeth I.</p><p>A blue blooded Boston Brahmin, Saltonstall couldn't be further removed from Curley, the son of Irish immigrants born from poverty. Depending on the circumstances however, Saltonstall may not suffer too much of a penalty for his origins, as the eccentric and rambunctious Curley may have made himself far too many enemies to muster much of a challenge. As far as Saltonstall is concerned, he only needs to make as little noise as possible to win this November.</p>\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 1, \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/4/42/Leverett_Saltonstall_%28MA%29.jpg\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1988 election.</h3><p>In spite of a hard-fought challenge from Michael Dukakis, you have held on to succeed Ronald Reagan.</p><p>Whatever you did, it must have worked. Observers were leaving your campaign for dead just a few months ago. On the political front, you can continue the policies of Reagan or turn in a more moderate direction. Internationally, you can hopefully oversee a period of relaxed tension with the Soviet Union.</p>\", \"electoral_loss_message\": \"<h3>Sorry. You have lost the 1988 election.</h3><p>Perhaps it was always a long-shot -- the American people just seemed ready to move on from Reagan.</p><p>Time will tell if Dukakis governs as a moderate, a liberal, or a technocrat. A lot can happen in four years, but the early gossip is that Bob Dole has the inside track for the 1992 nomination. Your next steps are unclear.</p>\", \"no_electoral_majority_message\": \"<h3>Sorry. You have lost the 1988 election.</h3><p>Although the Electoral College was tied, the Democrats have won a solid majority in the House, and will elevate Michael Dukakis to the Presidency.</p><p>Time will tell if Dukakis governs as a moderate, a liberal, or a technocrat. A lot can happen in four years, but the early gossip is that Bob Dole has the inside track for the 1992 nomination. Your next steps are unclear.</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 153, \"fields\": {\"first_name\": \"James Michael\", \"last_name\": \"Curley\", \"election\": 15, \"party\": \"Democratic\", \"state\": \"Boston, Massachusetts\", \"priority\": 2, \"description\": \"<p><div style='overflow-y:scroll;height:200px;'>James Michael Curley is a former governor of Massachusetts, elected in 1934 during the second New Deal wave of Democratic victories. Curley was previously mayor of Boston, where he served three nonconsecutive terms, a state representative, and a congressman.<br></br>An unabashedly proud Irish American populist politician, Curley has built a loyal and dedicated constituency of voters in his native Boston thanks to his organizational efforts, which revolved primarily around Curley's eponymous James M. Curley Club (formerly known as the Tammany Club), the base of operations for his Irish political machine. During his tenure, Curley led many public works projects for the city, where he improved infastructure, expanded medical resources, and greatly reduced poverty. To afford these initiatives, Curley increased taxation on the wealthy Boston Brahmins, which also had the effect of encouraging the aforementioned Boston Brahmins to relocate out of Boston, further dwindling Curley's electoral opposition. He also instituted patronage, hiring city employees on a basis of loyalty and donations.</p><p>Curley's tenure as governor was less successful, however. His 'Work and Wages' agenda partially passed, despite staunch opposition from his now opponent, Speaker Saltonstall, but it mostly marked by the failure of Curley to make good on federal funding for numerous public works projects. Curley left office unceremoniously and went on to lose to Henry Cabot Lodge Jr. for the Senate in 1936. Returning once again, Curley will have to rebuild bridges and convince skeptical voters, all too familiar with his schtick, that he can redeem himself and deliver for Massachusetts.</p>\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/OA12i03.jpeg\", \"electoral_victory_message\": \"<h3>I'd Do It Again</h3><p><ul><li>“I'd prefer an engaging rogue to a complete fool.” - Cardinal Martin Burke (Donald Crisp) [<b>The Last Hurrah</b> (1958) - Dir. John Ford]</ul></li></p><p>You've sent the Brahmin in retreat and the Republicans back on the streets, you've won the day, Jim!</p><p>Finishing the rest of 'Work and Wages' will be your top priority, good luck dealing with the Republicans in the state legislature when it comes to that. But you need not worry, you're Jim Curly, and even if you have to get your hands a bit dirty you're going to get the people what the asked for. The Purple Shamrock rides again!</p>\", \"electoral_loss_message\": \"<h3>The Last Hurrah?</h3><p><ul><li>“Well, at least he made his peace with God. There's one thing we all can be sure of - if he had it to do over again, there's no doubt in the world he would do it very, very differently.” - Roger Sugrue (Willis Bouchey)</p><p>“Like hell I would!” - Frank Skeffington (Spencer Tracy) [<i>The Last Hurrah</i> (1958) - Dir. John Ford]</ul></li></p><p>Unfortunately, Saltonstall bested you, and the Republicans have regained control of the state governorship.</p><p>You know this isn't the end of your story, though. There's campaigns still left to be won. You brush yourself off, and think, what's next? Congress? Mayor of Boston once again? The world is your oyster, Jim.</p>\", \"no_electoral_majority_message\": \"<h3>Congratulations! You have won the 1988 election.</h3><p>Although the Electoral College was tied, the Democrats have won a solid majority in the House, and will elevate Michael Dukakis to the Presidency.</p><p>On the political front, you can work a Democratic House to overturn the worst excesses of Reagan. Internationally, you can hopefully oversee a period of relaxed tension with the Soviet Union.</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 156, \"fields\": {\"first_name\": \"Boston\", \"last_name\": \"Brahmins\", \"election\": 15, \"party\": \"Republican\", \"state\": \"Originally from Boston, Massachusetts; Primarily in Boston Exurbs (Lexington, Dover, etc.)\", \"priority\": 5, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/upe6hK7.jpeg\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p><div style='overflow-y:scroll;height:200px;'>What was once the great shadowy cabal of Boston, the Boston Brahmins are the affluent, wealthy Anglo-Saxon Protestant class of Bostonians descended from the aristocratic early English colonists who came to America long ago. Many political dynasties in Massachusetts may be categorized under this elite, exclusive banner, from the Lodges to the Cabots, Shaws and Coolidges, and lest we forget, the Saltonstalls. The Brahmins are distinct from the elite of Newport and other parts of Massachusetts, as they are distinctly Bostonian, known for their quiet and secretive demeanor and their philanthropic endeavors. Politically, they are majorly Republicans, with their ancestors before them having been Federalists and Whigs.</p><p>They had maintained their control of Boston with an iron grip until the beginnings of the Industrial Revolution, when immigrant families of Irish, Jewish, and Italian descent, known collectively as the 'undesirables,' began filtering into their local neighborhoods. Ethnic and economic conflict would arise, and today the Brahmins, while far from extinct, have been weakened considerably from where they once stood.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 159, \"fields\": {\"first_name\": \"Irish\", \"last_name\": \"Americans\", \"election\": 15, \"party\": \"Mostly Democratic\", \"state\": \"Predominantly in Boston, Massachusetts\", \"priority\": 8, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/3m8L7sc.jpeg\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Irish Americans have had a presence in America since the days of the Thirteen Colonies, but it wasn't until the Great Famine of the mid-18th century did they become much more prominent and notable. The large influx of Irish immigrants would mostly settle in Boston and New York City, before making a great impact on the Union effort during the Civil War, with hundreds of thousands of soldiers being Irish-born.<br></br>Since then, the Irish of America have made their voices heard at the ballot box, becoming a force in the northeastern pockets they occupied. They would become the driving force for the elections of Irish American politicians, such as William R. Grace of New York City in 1880 and Hugh O'Brien of Boston in 1884. With their rise came resistance, and clashes with nativist groups followed. Yet, their power and influence in the large cities of the north remain undefeated, and they continue to wield it effectively to ensure their interests are met.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 162, \"fields\": {\"first_name\": \"William\", \"last_name\": \"McMasters\", \"election\": 15, \"party\": \"Townsend\", \"state\": \"Cambridge, Massachusetts\", \"priority\": 1, \"description\": \"<p><b>NOT PLAYABLE</b></p><p>William H. McMasters is one of Curley's stalwart lieutenants, having served as a publicist for him, who previously ran in the Republican primary, and is now running as a Townsend Plan candidate in hopes of siphoning the Republican vote from Saltonstall. Outside of that, McMasters also helped work on Calvin Coolidge's 1918 gubernatorial campaign, and continues to work for the Calvin Coolidge Memorial Foundation.<p></p>McMasters is most notable, though, for having been the journalist who exposed Charles Ponzi for having defrauded investors with his Securities Exchange Company in Lexington. Despite the notability of such an accomplishment, McMasters has otherwise failed to receive much fame for it, however.</p>\", \"color_hex\": \"#FFE14A\", \"secondary_color_hex\": \"#FFDE38\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/9TDbjXQ.jpeg\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1988 election.</h3><p>In spite of a hard-fought challenge from Michael Dukakis, you have held on to succeed Ronald Reagan.</p><p>Whatever you did, it must have worked. Observers were leaving your campaign for dead just a few months ago. On the political front, you can continue the policies of Reagan or turn in a more moderate direction. Internationally, you can hopefully oversee a period of relaxed tension with the Soviet Union.</p>\", \"electoral_loss_message\": \"<h3>Sorry. You have lost the 1988 election.</h3><p>Perhaps it was always a long-shot -- the American people just seemed ready to move on from Reagan.</p><p>Time will tell if Dukakis governs as a moderate, a liberal, or a technocrat. A lot can happen in four years, but the early gossip is that Bob Dole has the inside track for the 1992 nomination. Your next steps are unclear.</p>\", \"no_electoral_majority_message\": \"<h3>Sorry. You have lost the 1988 election.</h3><p>Although the Electoral College was tied, the Democrats have won a solid majority in the House, and will elevate Michael Dukakis to the Presidency.</p><p>Time will tell if Dukakis governs as a moderate, a liberal, or a technocrat. A lot can happen in four years, but the early gossip is that Bob Dole has the inside track for the 1992 nomination. Your next steps are unclear.</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 163, \"fields\": {\"first_name\": \"Townsend Plan\", \"last_name\": \"Movement\", \"election\": 15, \"party\": \"Nonpartisan\", \"state\": \"Conceived in Long Beach, California\", \"priority\": 8, \"description\": \"'\", \"color_hex\": \"#FFE14A\", \"secondary_color_hex\": \"#FFDE38\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/tnnrNjx.jpeg\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>The Townsend Plan Movement was first proposed by Dr. Francis Townsend of California, who first wrote of it in a letter to the editor of a local newspaper. The plan revolves around all Americans over the age of 60 to receive a pension of $200 dollars at the start of each new month. The intention of the plan was to remove advanced aged Americans from the workforce, and also help bring younger ones in.<br></br>Townsend organized clubs and other gatherings in support of the proposal, with unofficial reports claiming a membership of 20 million Americans who were members of various groups pushing for the idea. Around this year's gubernatorial election, the Townsend Plan is reaching its peak support, predominately among older Americans, and, with McMasters among them, many candidates are on the ballot promising to enact it if elected.</p>\", \"candidate_score\": 0.0}}]");
campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 47, \"fields\": {\"candidate\": 70, \"running_mate\": 76}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 56, \"fields\": {\"candidate\": 79, \"running_mate\": 89}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 76, \"fields\": {\"candidate\": 116, \"running_mate\": 120}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 81, \"fields\": {\"candidate\": 118, \"running_mate\": 125}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 66, \"fields\": {\"candidate\": 93, \"running_mate\": 103}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 82, \"fields\": {\"candidate\": 119, \"running_mate\": 126}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 97, \"fields\": {\"candidate\": 145, \"running_mate\": 151}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 96, \"fields\": {\"candidate\": 144, \"running_mate\": 150}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 46, \"fields\": {\"candidate\": 69, \"running_mate\": 73}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 67, \"fields\": {\"candidate\": 94, \"running_mate\": 104}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 207, \"fields\": {\"candidate\": 302, \"running_mate\": 311}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 205, \"fields\": {\"candidate\": 301, \"running_mate\": 309}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 200, \"fields\": {\"candidate\": 300, \"running_mate\": 304}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 7, \"fields\": {\"candidate\": 18, \"running_mate\": 38}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 8, \"fields\": {\"candidate\": 19, \"running_mate\": 39}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 74, \"fields\": {\"candidate\": 107, \"running_mate\": 114}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 161, \"fields\": {\"candidate\": 203, \"running_mate\": 215}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 160, \"fields\": {\"candidate\": 202, \"running_mate\": 214}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 208, \"fields\": {\"candidate\": 303, \"running_mate\": 312}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 116, \"fields\": {\"candidate\": 168, \"running_mate\": 178}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 57, \"fields\": {\"candidate\": 80, \"running_mate\": 90}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 115, \"fields\": {\"candidate\": 167, \"running_mate\": 177}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 1, \"fields\": {\"candidate\": 16, \"running_mate\": 30}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 87, \"fields\": {\"candidate\": 131, \"running_mate\": 135}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 94, \"fields\": {\"candidate\": 143, \"running_mate\": 148}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 89, \"fields\": {\"candidate\": 132, \"running_mate\": 137}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 155, \"fields\": {\"candidate\": 201, \"running_mate\": 209}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 3, \"fields\": {\"candidate\": 17, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 92, \"fields\": {\"candidate\": 142, \"running_mate\": 146}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 48, \"fields\": {\"candidate\": 77, \"running_mate\": 81}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 22, \"fields\": {\"candidate\": 20, \"running_mate\": 45}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 41, \"fields\": {\"candidate\": 25, \"running_mate\": 62}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 68, \"fields\": {\"candidate\": 105, \"running_mate\": 108}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 26, \"fields\": {\"candidate\": 21, \"running_mate\": 49}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 77, \"fields\": {\"candidate\": 117, \"running_mate\": 121}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 33, \"fields\": {\"candidate\": 23, \"running_mate\": 55}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 150, \"fields\": {\"candidate\": 200, \"running_mate\": 204}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 37, \"fields\": {\"candidate\": 24, \"running_mate\": 58}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 52, \"fields\": {\"candidate\": 78, \"running_mate\": 85}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 45, \"fields\": {\"candidate\": 68, \"running_mate\": 72}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 44, \"fields\": {\"candidate\": 67, \"running_mate\": 71}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 18, \"fields\": {\"candidate\": 36, \"running_mate\": 18}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 101, \"fields\": {\"candidate\": 153, \"running_mate\": 159}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 62, \"fields\": {\"candidate\": 92, \"running_mate\": 99}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 71, \"fields\": {\"candidate\": 106, \"running_mate\": 111}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 98, \"fields\": {\"candidate\": 152, \"running_mate\": 156}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 13, \"fields\": {\"candidate\": 29, \"running_mate\": 27}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 12, \"fields\": {\"candidate\": 27, \"running_mate\": 29}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 58, \"fields\": {\"candidate\": 91, \"running_mate\": 95}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 63, \"fields\": {\"candidate\": 92, \"running_mate\": 100}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 83, \"fields\": {\"candidate\": 67, \"running_mate\": 127}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 107, \"fields\": {\"candidate\": 165, \"running_mate\": 169}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 111, \"fields\": {\"candidate\": 166, \"running_mate\": 173}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 85, \"fields\": {\"candidate\": 68, \"running_mate\": 129}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 59, \"fields\": {\"candidate\": 91, \"running_mate\": 96}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 15, \"fields\": {\"candidate\": 29, \"running_mate\": 40}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 60, \"fields\": {\"candidate\": 91, \"running_mate\": 97}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 108, \"fields\": {\"candidate\": 165, \"running_mate\": 170}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 109, \"fields\": {\"candidate\": 165, \"running_mate\": 171}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 112, \"fields\": {\"candidate\": 166, \"running_mate\": 174}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 113, \"fields\": {\"candidate\": 166, \"running_mate\": 175}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 73, \"fields\": {\"candidate\": 106, \"running_mate\": 113}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 10, \"fields\": {\"candidate\": 27, \"running_mate\": 40}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 53, \"fields\": {\"candidate\": 78, \"running_mate\": 86}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 110, \"fields\": {\"candidate\": 165, \"running_mate\": 172}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 34, \"fields\": {\"candidate\": 23, \"running_mate\": 44}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 9, \"fields\": {\"candidate\": 27, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 69, \"fields\": {\"candidate\": 105, \"running_mate\": 109}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 19, \"fields\": {\"candidate\": 36, \"running_mate\": 41}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 20, \"fields\": {\"candidate\": 36, \"running_mate\": 42}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 151, \"fields\": {\"candidate\": 200, \"running_mate\": 205}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 16, \"fields\": {\"candidate\": 29, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 49, \"fields\": {\"candidate\": 77, \"running_mate\": 82}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 93, \"fields\": {\"candidate\": 142, \"running_mate\": 147}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 72, \"fields\": {\"candidate\": 106, \"running_mate\": 112}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 55, \"fields\": {\"candidate\": 78, \"running_mate\": 88}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 54, \"fields\": {\"candidate\": 78, \"running_mate\": 87}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 84, \"fields\": {\"candidate\": 67, \"running_mate\": 128}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 61, \"fields\": {\"candidate\": 91, \"running_mate\": 98}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 78, \"fields\": {\"candidate\": 117, \"running_mate\": 122}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 43, \"fields\": {\"candidate\": 25, \"running_mate\": 64}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 42, \"fields\": {\"candidate\": 25, \"running_mate\": 63}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 40, \"fields\": {\"candidate\": 24, \"running_mate\": 61}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 39, \"fields\": {\"candidate\": 24, \"running_mate\": 60}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 86, \"fields\": {\"candidate\": 68, \"running_mate\": 130}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 38, \"fields\": {\"candidate\": 24, \"running_mate\": 59}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 95, \"fields\": {\"candidate\": 143, \"running_mate\": 149}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 30, \"fields\": {\"candidate\": 21, \"running_mate\": 51}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 28, \"fields\": {\"candidate\": 21, \"running_mate\": 50}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 24, \"fields\": {\"candidate\": 20, \"running_mate\": 47}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 17, \"fields\": {\"candidate\": 29, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 11, \"fields\": {\"candidate\": 27, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 79, \"fields\": {\"candidate\": 117, \"running_mate\": 123}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 80, \"fields\": {\"candidate\": 117, \"running_mate\": 124}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 90, \"fields\": {\"candidate\": 132, \"running_mate\": 138}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 4, \"fields\": {\"candidate\": 17, \"running_mate\": 32}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 2, \"fields\": {\"candidate\": 16, \"running_mate\": 34}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 25, \"fields\": {\"candidate\": 20, \"running_mate\": 48}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 23, \"fields\": {\"candidate\": 20, \"running_mate\": 46}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 36, \"fields\": {\"candidate\": 23, \"running_mate\": 57}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 88, \"fields\": {\"candidate\": 131, \"running_mate\": 136}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 70, \"fields\": {\"candidate\": 105, \"running_mate\": 110}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 152, \"fields\": {\"candidate\": 200, \"running_mate\": 206}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 153, \"fields\": {\"candidate\": 200, \"running_mate\": 207}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 154, \"fields\": {\"candidate\": 200, \"running_mate\": 208}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 157, \"fields\": {\"candidate\": 201, \"running_mate\": 211}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 159, \"fields\": {\"candidate\": 201, \"running_mate\": 213}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 64, \"fields\": {\"candidate\": 92, \"running_mate\": 101}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 6, \"fields\": {\"candidate\": 17, \"running_mate\": 37}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 5, \"fields\": {\"candidate\": 17, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 35, \"fields\": {\"candidate\": 23, \"running_mate\": 56}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 91, \"fields\": {\"candidate\": 132, \"running_mate\": 139}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 21, \"fields\": {\"candidate\": 36, \"running_mate\": 43}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 50, \"fields\": {\"candidate\": 77, \"running_mate\": 83}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 32, \"fields\": {\"candidate\": 21, \"running_mate\": 53}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 31, \"fields\": {\"candidate\": 21, \"running_mate\": 52}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 158, \"fields\": {\"candidate\": 201, \"running_mate\": 212}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 156, \"fields\": {\"candidate\": 201, \"running_mate\": 210}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 75, \"fields\": {\"candidate\": 106, \"running_mate\": 115}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 65, \"fields\": {\"candidate\": 92, \"running_mate\": 102}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 51, \"fields\": {\"candidate\": 77, \"running_mate\": 84}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 201, \"fields\": {\"candidate\": 300, \"running_mate\": 305}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 209, \"fields\": {\"candidate\": 300, \"running_mate\": 313}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 202, \"fields\": {\"candidate\": 300, \"running_mate\": 306}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 203, \"fields\": {\"candidate\": 300, \"running_mate\": 307}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 204, \"fields\": {\"candidate\": 300, \"running_mate\": 308}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 206, \"fields\": {\"candidate\": 301, \"running_mate\": 310}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 210, \"fields\": {\"candidate\": 162, \"running_mate\": 163}}]");
campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 15, \"candidates\": [152, 153, 162]}]");
campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 15, \"candidates\": [153, 152, 162]}]");        
campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"Easy\", \"multiplier\": 1.1}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 4, \"fields\": {\"name\": \"Hard\", \"multiplier\": 0.95}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 5, \"fields\": {\"name\": \"Impossible\", \"multiplier\": 0.9}}]");
campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 15, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");
campaignTrail_temp.candidate_dropout_json = JSON.parse("[{\"model\": \"campaign_trail.candidate_dropout\", \"pk\": 1, \"fields\": {\"candidate\": 36, \"affected_candidate\": 18, \"probability\": 1.0}}]");
campaignTrail_temp.temp_election_list = [{"id": 15, "year": 1938, "is_premium": 0, "display_year": "1938MA"}];
campaignTrail_temp.show_premium = true;
campaignTrail_temp.premier_ab_test_version = -1;
campaignTrail_temp.credits = 'Accurate_Feature9970<br>Special thanks to ItsAstronomics for playtesting and Cat_Box_XD for creating the map<br>2000N for music player';
document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;
$(".container")[0].style.backgroundColor = "#1F2C5C";
$("#game_window")[0].style.borderColor = "#FFFFFF"
$(".container")[0].style.backgroundColor = "#1F2C5C"
$("#game_window")[0].style.backgroundColor = "#FFFFFF"
nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#E6A300" 
nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#1F2C5C"
campaignTrail_temp.modBoxTheme = {
  "header_color" : "#FFE600",
  "header_text_color" : "#000000",
  "description_text_color" : "#000000",
  "description_background_color" : "#FFFFFF",
  "main_color" : "#1F2C5C",
  "secondary_color" : "#FFE600",
  "ui_text_color": "#000000"
}
HistHexcolour=["#FF0000","#0000FF","#FFE14A","#D917D9"];
HistName=[" Leverett Saltonstall"," James M. Curley"," William H. McMasters"," Jeffrey W. Campbell/Others"];
HistEV=[13,1,0,0];
HistPV=["941,465","793,884","7,206","23,314"];
HistPVP=["53.43%","44.87%","0.4%","1.3%"];
document.body.background = "https://i.imgur.com/bAQbZZx.jpeg";
$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"

musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
var date = new Date(null);
date.setSeconds(seconds);
return date.toISOString().substr(11, 8);
}

generateTime = () => {
  // Get the audio element
  var audio = document.getElementById("campaigntrailmusic");

  timeTracker = document.createElement("div");
  timeTracker.style = `
    text-align:left;
    border-style:solid;
    border-width:3px;
    height:150px;
    width:200px;
    background-color:#999999;
    float:right;
    padding: 10px;
  `
  $("#trackSelParent")[0].prepend(timeTracker);
  $("#trackSelParent")[0].prepend(document.createElement("br"));

  // Create a new element to display the current position of the audio
  var positionDisplay = document.createElement("gg");
  positionDisplay.id = "position-display";

  // Create a new slider element to change the time
  var timeSlider = document.createElement("input");
  timeSlider.type = "range";
  timeSlider.min = 0;
  timeSlider.max = 1;
  timeSlider.step = 0.001;
  timeSlider.value = 0;
  timeSlider.style.width = "200px";
  timeSlider.id = "time-slider";

  var pausePlay = document.createElement("button");
  pausePlay.id = "position-display";
  pausePlay.innerHTML = "<b>Pause</b>"
  pausePlay.style.width = "100%";


  pausePlay.addEventListener("click", event => {
    event.preventDefault();
    updatePositionDisplay();
    let audio = document.getElementById("campaigntrailmusic");
    if (audio.paused) {
      audio.play();
      event.target.innerHTML = "<b>Pause</b>";
      return;
    }
    audio.pause();
    event.target.innerHTML = "<b>Play</b>";
    return;
  })

  var volumeLabel = document.createElement("gg");
  volumeLabel.id = "volume-label";
  volumeLabel.innerHTML = "<br><b>Volume: </b>"

  var volumeSlider = document.createElement("input");
  volumeSlider.type = "range";
  volumeSlider.min = 0;
  volumeSlider.max = 1;
  volumeSlider.step = 0.001;
  volumeSlider.value = 0;
  volumeSlider.style.width = "200px";
  volumeSlider.id = "volume-slider";

  volumeSlider.value = audio.volume;

  timeTracker.appendChild(pausePlay);
  timeTracker.appendChild(document.createElement("br"));
  timeTracker.appendChild(document.createElement("br"));
  timeTracker.appendChild(positionDisplay);
  timeTracker.appendChild(timeSlider);
  timeTracker.appendChild(volumeLabel);
  timeTracker.appendChild(volumeSlider);

  updatePositionDisplay();

  //for (let i = 0; i < 10; i++)
  //timeTracker.append(document.createElement("br"));


  // Function to update the position display
  function updatePositionDisplay() {
    positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
    timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
  }

  // Function to change the time of the audio
  function changeTime() {
    positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
    audio.currentTime = timeSlider.value * audio.duration;
  }

  updateVolume = event => {
    audio.volume = event.target.value;
  }
  
  // Update the position display and slider every second
  setInterval(updatePositionDisplay, 1000);

  // Listen for changes to the time slider and change the time of the audio
  timeSlider.addEventListener("input", changeTime);
  volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
trackSel = document.createElement("div");
trackSel.id = "trackSelParent"
let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
for (i in soundtracks) {
  if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
    z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
  }
}
z += `</select></b><br><br>`
// <label><input type="radio" name="option" value="option1">Option 1</label><br>
for (i in soundtracks[e.selectedSoundtrack].tracklist) {
  let a = soundtracks[e.selectedSoundtrack].tracklist[i]
  let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
  z += b
}
z += "</div><br><br>"
trackSel.innerHTML = z

// select correct song

musicBox.appendChild(trackSel);
Array.from(document.getElementById("trackSel").children).filter(f=>{
  return f.tagName == "LABEL"
}).map(f=>f.children[0])[0].checked = true

// set soundtrack changer

soundtrackSelector = document.getElementById("selectSoundtrack")
soundtrackSelector.onchange = function() {
  for (i in soundtracks) {
    if (soundtracks[i].name == soundtrackSelector.value) {
      e.selectedSoundtrack = i
      break
    }
  }
  document.getElementById("trackSelParent").remove()
  newMusicPlayer()
}

var matches = document.querySelectorAll('.trackSelector');

for (match in matches) {
  matches[match].onchange = function() {
    musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
    musicBox.children[2].currentTime = 0
  }
}

musicBox.children[2].loop = false
musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

musicBox.children[2].onended = function() {
  console.log("next track")
  let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
  let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
  let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])
  //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
  buttons[newSel].click()
}

for (w = 0; w < 7; w++) {
  document.getElementById("trackSelParent").appendChild(document.createElement("br"))
}

generateTime();
}

clamp = function(a, max, min, overflow=true) {
if (overflow) {
  return a > max ? min : a < min ? max : a;
}
return a > max ? max : a < min ? min : a;
}

// Track list

var soundtracks = {
0: {
  name: "Opening",
  tracklist: [
    {
      name: "The Rascal King - The Mighty Mighty Bosstones",
      url: "https://file.garden/ZcMGtzRVyFfOaP0T/The%20Rascal%20King%20-%20The%20Mighty%20Mighty%20Bosstones.mp3",
    },
  ],
},
1: {
  name: "Contemporary",
  tracklist: [
    {
      name: "Campaign Song for Mayor James Michael Curley - The Blue Hill Four",
      url: "https://file.garden/ZcMGtzRVyFfOaP0T/Campaign%20Song%20for%20Mayor%20James%20Machael%20Curley.mp3",
    },
    {
      name: "The Star Spangled Banner - 1938 Boston Orchestra",
      url: "https://file.garden/ZcMGtzRVyFfOaP0T/The%20Star%20Spangled%20Banner%20-%201938%20Boston%20Orchestra.mp3",
    },
  ],
},
}
newMusicPlayer()
}
