campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 28,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

RecReading=true

campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 20,
        "fields": {
            "year": 2008,
            "summary": "<p>The post-9/11 era saw a desperate Democratic Party cowardly pivot toward the center and bow to the Bush Administration's whims. Harbingers of war, hell-bent on abusing the mandate bestowed by tragedy, created a crowded but divided opposition. Looking outward for an answer of any kind, the Democrats poached General Wesley K. Clark, who quickly rose to the challenge, first beating out weak fringe candidates and then, against all the odds, beating President George W. Bush.</p><p>With victory secured, he must take on new conquests, either mapping his way through entrenched party lines in Congress or skipping the swamps to repair the alliances that Bush torched. However, as the economy begins to show signs of worry, it's unknown whether he'll be able to fly toward an easy victory.</p>",
            "image_url": "https://i.imgur.com/sMZXhCd.gif",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://file.garden/ZtkQ7oSiCwPQFA3o/IcarusAdvisor.JPG",
            "recommended_reading":  `<div id="tab-select">
                <p class="ftab-active" id="start">Lore</p>
                <p class="ftab">Director's Notes</p>
                <p class="ftab" id="end">Credits</p>
            </div>
            <div style="text-align: left;margin: auto 5em;">
                <span id="rpage0" style="display: inline-block;"><h2>The Election of 2004</h2><br><img src='https://i.imgur.com/Nr5yuP8.png' width='700px'></img><img src='https://i.imgur.com/miFIW4e.png' width='700px'></img><br><h2>President Wesley Clark's Cabinet</h2><br><img src='https://i.imgur.com/EwyyYuc.png' width='700px'></img></span>
                <span id="rpage1" style="display: none;"><h2>Notes from the Director</h2><p>Hi!! Literally Nelson Rockefeller here, and thank you for playing my mod! ❤️</p>
                <p>This mod was the culmination of a TCT mod mockup contest that I held on a TCT offshoot Discord server called the Deepstate and the central TCT server. B.F. Bache created the winning mockup for this mod. The reward for winning the contest was that I would make the mockup into a complete model. I went into this project thinking it would be a quick affair and that I'd get it done in a month. The actual reason I decided to go for a full-fledged multiple-opponents mod was that I couldn't decide between Ron Paul and Mike Huckabee. I never particularly cared for Wesley Clark until I started making this mod.</p>
                <p>It's pretty wild that I put this much effort into an individual I'm not personally attached to, but 2008 Icarus is much less a mod about General Wesley Clark than it is about this era of the Democratic Party. As the opening suggests, post-9/11 Democrats were cowards. They ran away from everything they claimed to believe in, a trend that had already begun after the 80s and was only accelerated after Gore lost. The 2004 Democratic Primaries were a pathetic joke; in reality, Wesley Clark very well could have been the nominee had he contested Iowa. A man who up to that point was a lifelong Republican was getting endorsements from people like George McGovern, whom Clark hadn't even voted for in 1972, and Michael Moore, who was fresh off his soapbox of Nader 2000. Much like 2020, the Democrats were willing to shovel anyone into the nomination as long as he beat the Republican incumbent.</p>
                <p>I don't mean to come off as a full-time Clark hater, as I do believe that people can change, and he has generally stuck to his newfound beliefs since 2004. 2008 was a messy year, and the Bush administration had an all-time cast of Neanderthals; really, any Democrat aside from, like, Dennis Kucinich would have handled the various crises of the term better. However, I think the Democrats' entire way of operating in 2004 cut down much of their credibility. Sticking by the war in Iraq, not putting limits on the Patriot Act, the forever Bush tax cuts—it was all just such cowardice. The meaning of Icarus, as it's told in this story, is not of a man who is overambitious and reckless, but a tale of fearing the fate of Icarus, and how that fear stunted American progress. It's a criticism of the Clintonites who did everything they could to rein Obama in.</p>
                <p>As someone whose family really struggled during and after the recession, this period of politics matters to me, as it does to most Americans. In many ways, the 2008 recession was the end of the American Golden Age. And it didn't need to go the way that it did; the wounds of the recession could have healed much more quickly had the President's response to the crisis acted with more urgency. At least that's how I see it.</p>
                <p>Generally, the process of making this mod was a lot of fun! I made good friends, and the team that stuck by till the end really came through. Shout out to oohweeooh for helping so much with the code and making it fancier. Much love to Shockonomics, who came through with grammar rewriting to make all my writing look excellent. Thank you, Bache, for submitting your mockup to the contest; where would we be without you? You're awesome. Much love to Dyson, who has been in it since the start, advising and contributing a ton of help. Thank you, Script, for contributing to and advising on Romneyism. Thank you to the playtesters who offered their safe feedback. I love y'all.</p>
                <p>Thank you, Playboi Bobby, for hosting the contest!</p>
                <p>Don't be afraid to join the deep state here:<br>
                <a href="https://discord.gg/MBKdefKqY7">Join the Deepstate Discord</a>
                </p>
                <p>And again, thank you for playing 2008 Icarus!</p>
                <p>Press play again.</p></span>
                <span id="rpage2" style="display: none;"><h2>Credits</h2><p>Director, Lead Writer/Coder Literally Nelson Rockefeller</p><p>Co-Coder, special cyoa developer: oohweeooh</p><p>Mockup Contest Winner and creator of the original code 1 concept: Spacenerd4</p><p>Writing Editor, Advisor, Ending Writing, Grammar Police guy: Shockonomics</p><p>Co-Writer, advisor, researcher, and co writer of the Jeb path: Dyson</p><p>Advisor and co writer on the Romney/Crist path: Script1948</p><p>Idea help for geronimo path: The Big Cheese</p><p>Thank you Playboi Bobby for hosting the competition on the deepstate and pief thread.</p><p>This mod was made with the help of Jets Modding Tool. Code borrowed from: 2000N(Music Box), American Carnage, Democracy's Martyrdom, W., Astro's Variable Headquarters, and 2016ALOT</p><p>Playtesters: Massachusetts For Stockdale, Shockonomics, Scottishbozo69, SteamedHams, Mr. Gonkefeller, Carlack, WafflesTheDog, Mack A. Rony, Kaiserin, Ohas, Nidoras, Chungus </p><p>Thank you: Lp_is_here, GloryofRome, AuH20, EmilyEdwinHouse, PatriotHomerSimpson, Jimbo, oohweooh, El Pres, Jane, Some Nerd, Dispenser, Ohas, Count_Nathan, PollingRe, Script For participating in the Mod Mockup Contest!</p></span>
            </div>`,
			"has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/2012-no-majority.jpg",
            "creator": "Dan Bryan",
            "display_year": "2008 ICARUS"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 201,
        "fields": {
            "first_name": "Wesley K.",
            "last_name": "Clark",
            "election": 20,
            "party": "Democratic",
            "state": "Arkansas",
            "priority": 2,
            "description": "<p>Democrats have locked themselves in with General Clark, and their choice will either prove to be the greatest miscalculation since Carter or a stroke of blind and undeserved luck. So what is it that Wesley Clark does that makes Democrats tick? Endorsed by the likes of George McGovern, Max Baucus, Michael Moore, and Madonna, you'd assume he is clothed in riches. Well, the gold these Democrats saw was an impeccable resume that proved capable of beating Bush. The kicker is how badly Democrats misunderstood the man.</p><p>He is his own action figure, believing himself to be above the fray of party and congressional politics. He is the Twelve Knights of the Round Table, or the Three Wise Men, all wrapped in one dominating personality. Blessed with Athena-like wisdom and knowledge, no matter who is locked in the room with him, he's the smartest man. His word is final, and he will not tolerate insubordination within his ranks.</p>",
            "color_hex": "#4b7db6",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://i.imgur.com/xh3nZph.gif",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2016 election.</h3><p>In spite of a hard-fought challenge from Donald Trump, you have become the first woman elected to serve as President.</p><p>On the political front, it is unclear how much of your agenda you will be able to push forward with the current Congress. Hopefully your victory has helped Democrats further down the ballot. Start packing and prepare to move back into the White House!</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>Many of your supporters are despondent that you have faltered to the likes of Donald Trump. Many in the left wing of the party are furious that you pushed their candidate aside, only to lose. Time will tell how Trump operates as President. As for you, a long and sometimes ambiguous political career seems to be coming to its end.</p>",
            "no_electoral_majority_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>No candidate secured a majority in the Electoral College. However, the Republicans won a majority in Congress and will elevate Trump to the Presidency. Time will tell how things go in that regard. As for you, a long and sometimes ambiguous political career seems to be coming to its end.</p>",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 200,
        "fields": {
            "first_name": "Republican",
            "last_name": "Partisan Hacks",
            "election": 20,
            "party": "Republican",
            "state": "N/A",
            "priority": 3,
            "description": "'",
            "color_hex": "#ee4f66",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 202,
        "fields": {
            "first_name": "Christian  ",
            "last_name": "Paranoid Maniacs",
            "election": 20,
            "party": "Libertarians",
            "state": "N/A",
            "priority": 4,
            "description": "'",
            "color_hex": "#b2b27b",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 203,
        "fields": {
            "first_name": "Green",
            "last_name": "Anti-war Firebrands",
            "election": 20,
            "party": "Green",
            "state": "N/A",
            "priority": 5,
            "description": "'",
            "color_hex": "#579457",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/mike-pence-2016.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Mike Pence is a former Congressman and the current Governor of Indiana. He is a popular figure among social conservatives and would help assuage concern about Trump among party insiders. He would add executive experience to the ticket and make few mistakes on the campaign trail, but he could also undercut Trump's outsider credentials.</p>",
            "candidate_score": 0,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 209,
        "fields": {
            "first_name": "Mary",
            "last_name": "Landrieu",
            "election": 20,
            "party": "Democratic",
            "state": "Louisiana",
            "priority": 9,
            "description": "'",
            "color_hex": "#85ada4",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://i.imgur.com/T58SrQl.gif",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Washington had Hamilton, Caesar had Antony, and Clark has Landrieu— a loyal right hand for every great leader. Initially, she came forward to satisfy the establishment and the Blue Dog Caucus, who stood behind the general in his journey to claim the Democratic nomination. With the ticket carved in stone, the general has sky-high goals for his new lieutenant.</p><p>From his view, destiny has granted him his strongest soldier, a superwoman who will jump when he says jump and get in line when he says to do so. However she's no doormat, especially when it comes to wanting to protect her friends, including Senator Joe Lieberman and other feckless party traitors. If push comes to shove, they could draw swords upon each other, but she is a loyal party gal willing to travel to the frontline of his legislative conquests.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 155,
        "fields": {
            "candidate": 201,
            "running_mate": 209
        }
    }
]

campaignTrail_temp.credits = "Dan Bryan"

campaignTrail_temp.opponents_default_json = [
    {
        "election": 20,
        "candidates": [
            201,
            200,
            202,
            203
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 20,
        "candidates": [
            201,
            200,
            202,
            203
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 20,
        "year": 2016,
        "is_premium": 0,
        "display_year": "2008 ICARUS"
    }
]

campaignTrail_temp.credits = "<button onclick='credits()'>Dumbasses at Nothing</button>"

let savedX = null;
let savedY = null;

credits = function() {
  let questions = document.querySelector(".inner_window_question");

    // Check if the menu already exists
    let popOutMenu = document.getElementById('popOutMenu');
    if (!popOutMenu) {
        // Create the pop-out menu container
        popOutMenu = document.createElement('div');
        popOutMenu.id = 'popOutMenu';
        popOutMenu.style.position = 'absolute';
        popOutMenu.style.width = '430px';
        popOutMenu.style.padding = '15px';
        popOutMenu.style.backgroundColor = '#0A2463'; // Dark blue background
        popOutMenu.style.boxShadow = '0 0 10px rgba(10, 36, 99, 0.8)';
        popOutMenu.style.border = '2px solid #D4AF37'; // Gold border
        popOutMenu.style.borderRadius = '8px';
        popOutMenu.style.zIndex = '1000';
        popOutMenu.style.fontFamily = "'Segoe UI', Arial, sans-serif";
        popOutMenu.style.overflowY = 'visible';

        // Create the menu title
        const menuTitle = document.createElement('div');
        menuTitle.innerText = 'CREDITS';
        menuTitle.style.textAlign = 'center';
        menuTitle.style.fontFamily = "'Arial Narrow', sans-serif";
        menuTitle.style.fontWeight = 'bold';
        menuTitle.style.letterSpacing = '1px';
        menuTitle.style.background = "linear-gradient(90deg, #0A2463 0%, #D4AF37 50%, #0A2463 100%)";
        menuTitle.style.color = "white";
        menuTitle.style.padding = "5px";
        menuTitle.style.margin = "-15px -15px 15px -15px";
        menuTitle.style.fontSize = "15px";
        menuTitle.style.textTransform = "uppercase";
        menuTitle.style.borderTopLeftRadius = "6px";
        menuTitle.style.borderTopRightRadius = "6px";
        popOutMenu.appendChild(menuTitle);

        const pests = document.createElement('div');
        pests.innerText = 'Lead Dev';
        pests.style.fontFamily = "'Segoe UI', Arial, sans-serif";
        pests.style.color = '#D4AF37'; // Gold text
        pests.style.fontSize = '18px';
        pests.style.fontWeight = 'bold';
        pests.style.textAlign = 'right';
        pests.style.position = 'relative';
        pests.style.marginTop = '0px';
        pests.style.marginBottom = '5px';
        pests.style.padding = '2px';
        popOutMenu.appendChild(pests);
        
        const pestssubtxt = document.createElement('div');
        pestssubtxt.innerText = 'Our fearless leader.';
        pestssubtxt.style.fontFamily = "'Segoe UI', Arial, sans-serif";
        pestssubtxt.style.color = '#FFFFFF';
        pestssubtxt.style.fontSize = '12px';
        pestssubtxt.style.marginBottom = '10px';
        pestssubtxt.style.textAlign = 'right';
        pestssubtxt.style.position = 'relative';
        pestssubtxt.style.marginTop = '-5px';
        popOutMenu.appendChild(pestssubtxt);

        // Create the menu list
        const menuListA = document.createElement('ul');
        menuListA.style.listStyle = 'none';
        menuListA.style.padding = '0';
        menuListA.style.margin = '0';
        menuListA.style.maxHeight = '140px'; 
        menuListA.style.overflowY = 'auto'; 

        // Add menu items from the array
        creditListA.forEach(item => {
            const menuItem = document.createElement('div');
            menuItem.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';
            menuItem.style.display = 'flex';
            menuItem.style.alignItems = 'flex-start';
            menuItem.style.marginBottom = '10px';
            menuItem.style.padding = '8px';            
            menuItem.style.borderRadius = '4px';     
            menuItem.style.border = '1px solid #D4AF37';

            const photo = document.createElement('img');
            photo.src = item.photo;
            photo.style.border = "1px solid #D4AF37"; 
            photo.style.padding = "1px"; 
            photo.style.width = '100px';
            photo.style.height = '100px';
            photo.style.marginRight = '10px';
            photo.style.borderRadius = '2px';

            const textAndButton = document.createElement('div');

            const text = document.createElement('p');
            text.style.fontSize = "13px"; 
            text.style.color = "#FFFFFF";
            text.classList.add('custom-p');
            text.innerHTML = item.text; 
            text.style.margin = '0';

            textAndButton.appendChild(text);
            menuItem.appendChild(photo);
            menuItem.appendChild(textAndButton);

            menuListA.appendChild(menuItem);
        });
        popOutMenu.appendChild(menuListA);

        const enemies = document.createElement('div');
        enemies.innerText = 'Devs';
        enemies.style.fontFamily = "'Segoe UI', Arial, sans-serif";
        enemies.style.color = '#D4AF37';
        enemies.style.fontSize = '18px';
        enemies.style.fontWeight = 'bold';
        enemies.style.textAlign = 'left';
        enemies.style.position = 'relative';
        enemies.style.marginTop = '10px';
        enemies.style.marginBottom = '5px';
        enemies.style.padding = '2px';
        popOutMenu.appendChild(enemies);
        
        const enemiessubtxt = document.createElement('div');
        enemiessubtxt.innerText = 'The ones who helped develop the project.';
        enemiessubtxt.style.fontFamily = "'Segoe UI', Arial, sans-serif";
        enemiessubtxt.style.color = '#FFFFFF';
        enemiessubtxt.style.fontSize = '12px';
        enemiessubtxt.style.textAlign = 'left';
        enemiessubtxt.style.position = 'relative';
        enemiessubtxt.style.marginTop = '-5px';
        enemiessubtxt.style.marginBottom = '10px';
        popOutMenu.appendChild(enemiessubtxt);
        
        // Create the menu list
        const menuListB = document.createElement('ul');
        menuListB.style.listStyle = 'none';
        menuListB.style.padding = '0';
        menuListB.style.margin = '0';
        menuListB.style.maxHeight = '310px'; 
        menuListB.style.overflowY = 'auto'; 

        // Add menu items from the array
        creditListB.forEach(item => {
            const menuItem = document.createElement('div');
            menuItem.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';
            menuItem.style.display = 'flex';
            menuItem.style.alignItems = 'flex-start';
            menuItem.style.marginBottom = '10px';
            menuItem.style.padding = '8px';            
            menuItem.style.borderRadius = '4px';     
            menuItem.style.border = '1px solid #D4AF37';

            const photo = document.createElement('img');
            photo.src = item.photo;
            photo.style.border = "1px solid #D4AF37"; 
            photo.style.padding = "1px"; 
            photo.style.width = '100px';
            photo.style.height = '100px';
            photo.style.marginRight = '10px';
            photo.style.borderRadius = '2px';

            const textAndButton = document.createElement('div');

            const text = document.createElement('p');
            text.style.fontSize = "13px"; 
            text.style.color = "#FFFFFF";
            text.classList.add('custom-p');
            text.innerHTML = item.text; 
            text.style.margin = '0';

            textAndButton.appendChild(text);
            menuItem.appendChild(photo);
            menuItem.appendChild(textAndButton);

            menuListB.appendChild(menuItem);
        });
        popOutMenu.appendChild(menuListB);

        // Add close button (matching the military style)
        const closeButton = document.createElement('div');
        closeButton.innerHTML = '×';
        closeButton.style.position = 'absolute';
        closeButton.style.top = '0px';
        closeButton.style.right = '15px';
        closeButton.style.cursor = 'pointer';
        closeButton.style.fontSize = '18px';
        closeButton.style.color = '#D4AF37';
        closeButton.style.fontWeight = 'bold';
        closeButton.onclick = closeCredits;
        popOutMenu.appendChild(closeButton);

        // Add NATO-style watermark
        const watermark = document.createElement('div');
        watermark.innerHTML = '★';
        watermark.style.position = 'absolute';
        watermark.style.opacity = '0.1';
        watermark.style.fontSize = '120px';
        watermark.style.top = '50%';
        watermark.style.left = '50%';
        watermark.style.transform = 'translate(-50%, -50%)';
        watermark.style.pointerEvents = 'none';
        watermark.style.zIndex = '-1';
        popOutMenu.appendChild(watermark);

        document.body.appendChild(popOutMenu);

        makeDraggable(popOutMenu);
    } 

    if (savedX !== null && savedY !== null) {
        popOutMenu.style.left = savedX + 'px';
        popOutMenu.style.top = savedY + 'px';
    }
    else {
        const buttonRect = event.target.getBoundingClientRect();
        popOutMenu.style.left = buttonRect.right + 382 + 'px';
        popOutMenu.style.top = buttonRect.top - 406 + 'px';
        savedX = popOutMenu.getBoundingClientRect().left;
        savedY = popOutMenu.getBoundingClientRect().top;
    }

    // Display the menu
    popOutMenu.style.display = 'block';
}

function closeCredits() {
  const popOutMenu = document.getElementById('popOutMenu');
  if (popOutMenu) {
      savedX = popOutMenu.getBoundingClientRect().left;
      savedY = popOutMenu.getBoundingClientRect().top;
      popOutMenu.remove();
  }
}

function makeDraggable(element) {
    let isDragging = false;
    let offsetX, offsetY;

    element.onmousedown = function(event) {
        if (event.target.innerHTML === '×') return; // Don't drag when clicking close button
        isDragging = true;
        offsetX = event.clientX - element.getBoundingClientRect().left;
        offsetY = event.clientY - element.getBoundingClientRect().top;
        element.style.transition = 'none';
        
        // Prevent event bubbling to avoid conflicting with other click events
        event.stopPropagation();
    };

    // Use separate named functions so we can remove them properly
    function handleMouseMove(event) {
        if (isDragging) {
            const newX = event.clientX - offsetX;
            const newY = event.clientY - offsetY;

            element.style.left = newX + 'px';
            element.style.top = newY + 'px';

            savedX = newX;
            savedY = newY;
        }
    }

    function handleMouseUp() {
        isDragging = false;
        document.removeEventListener('mousemove', handleMouseMove);
        document.removeEventListener('mouseup', handleMouseUp);
    }

    // Add the event listeners when dragging starts
    element.addEventListener('mousedown', function(event) {
        if (event.target.innerHTML === '×') return;
        isDragging = true;
        offsetX = event.clientX - element.getBoundingClientRect().left;
        offsetY = event.clientY - element.getBoundingClientRect().top;
        element.style.transition = 'none';
        
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseup', handleMouseUp);
        
        event.stopPropagation();
    });
}

const creditListA = [ 
    { photo: 'https://i.imgur.com/LcWBsx9.gif', text: '<b>Literally Nelson Rockefeller</b><br><b>Head Dumbass in Charge</b><br>', button: 'Defer', id: 'ROCKY_A'},
]

const creditListB = [ 
    { photo: 'https://i.imgur.com/fN5SAaI.png', text: '<b>oohweeooh</b><br><b>Gay coding wizard</b><br>', button: 'Defer', id: 'LIBRA_A'},
    { photo: 'https://i.imgur.com/6TDqUb4.png', text: '<b>Bacheist (u/spacenerd4)</b><br><b>Guy who came up with the idea</b><br>', button: 'Defer', id: 'BACHE_A'},
    { photo: 'https://i.imgur.com/4wI51Zb.jpeg', text: '<b>Shockonomics</b><br><b>Writing help</b><br>', button: 'Defer', id: 'SHOCK_A'},
    { photo: 'https://i.imgur.com/7hXTeKJ.jpeg', text: '<b>Dyson</b><br><b>Writing help</b><br>', button: 'Defer', id: 'DYSON_A'},
]

campaignTrail_temp.modBoxTheme = {
  "header_color": "#17376b",
  "header_text_color": "#FFFFFF",
  "description_text_color": "#FFFFFF",
  "description_background_color": "#17376b",
  "main_color": "#17376b",
  "secondary_color": "#5D7397",
  "ui_text_color": "#FFFFFF"
}

jet_data = {
    "headerColor": "#17376b",
    "windowColor": "#17376b",
    "containerColor": "#f6f6f4",
    "innerWindowColor": "#e7b3b6",
    "bannerImageUrl": "https://file.garden/ZtkQ7oSiCwPQFA3o/IcarusBanner.png",
    "backgroundImageUrl": "https://file.garden/ZtkQ7oSiCwPQFA3o/IcarusBackground.jpg",
    "endingTextColor": "#000000",
    "customQuote": "",
    "gameTitle": "NEW AMERICAN PATRIOTISM"
}

//#startcode


corrr = '\n              <h2>NEW AMERICAN PATRIOTISM</h2>\n            ';


nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#17376b";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#17376b";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#f6f6f4";

document.getElementById("header").src = "https://file.garden/ZtkQ7oSiCwPQFA3o/IcarusBanner.png";

document.body.background = "https://file.garden/ZtkQ7oSiCwPQFA3o/IcarusBackground.jpg";

//#endcode

e.ElectionPopup = "Stick around to receive the concession call... or make one."
e.WinPopup = "wes its glup shitto, i lost"
e.LosePopup = "glup shitto its wes, i lost"

// helper to ensure a stylesheet is appended only once
function ensureStylesheet(url, id) {
	// if an id is provided and exists, bail out
	if (id && document.getElementById(id)) return;
	// if a link with same href already exists, bail out
	if (document.querySelector('link[rel="stylesheet"][href="' + url + '"]')) return;
	const link = document.createElement('link');
	link.rel = 'stylesheet';
	link.href = url;
	if (id) link.id = id;
	document.head.appendChild(link);
}

ensureStylesheet('https://unpkg.com/7.css', 'unpkg-7css');

function ensureMetaViewport() {
    if (!document.querySelector('meta[name="viewport"]')) {
        const m = document.createElement('meta');
        m.name = 'viewport';
        m.content = 'width=device-width, initial-scale=1';
        document.head.appendChild(m);
    }
}

applyGlobalStyles.sheets = {};

function applyGlobalStyles(css, id = 'app-theme') {
    if ('adoptedStyleSheets' in document && 'replaceSync' in CSSStyleSheet.prototype) {
        if (!applyGlobalStyles.sheets[id]) {
            applyGlobalStyles.sheets[id] = new CSSStyleSheet();
            document.adoptedStyleSheets = [...document.adoptedStyleSheets, applyGlobalStyles.sheets[id]];
        }
        applyGlobalStyles.sheets[id].replaceSync(css);
        return;
    }

    let el = document.getElementById(id);
    if (!el) {
        el = document.createElement('style');
        el.id = id;
        document.head.appendChild(el);
    }
    el.textContent = css;
}

const css = `
  :root {
    --window-background: initial !important;
    --window-background-color: initial !important;
    --w7-w-bg: initial !important;
  }

  /* Base typography */
  body {
    display: flex !important;
    font-family: "Segoe UI", Segoe, Tahoma, Geneva, Verdana, sans-serif !important;
    color: #000000 !important;
  }

  /* General h3 styles (lower specificity) */
  body h3 {
    font-size: 1.17em !important;
    font-family: inherit !important;
    color: #000000 !important;
  }

  .custom-h3 {
    font-size: 1.17em !important;
    color: white !important;
  }

  h4 {
    font-size: 1em !important;
    font-family: inherit !important;
    color: #000000 !important;
  }

  label {
    font-size: 0.92em !important;
    font-family: inherit !important;
    color: #000000 !important;
  }

  body p {
    font-family: inherit !important;
    color: #000000 !important;
  }

  .custom-p {
    color: white !important;
  }

  .overlay_window {
    position: absolute;
    width: 54%;
    height: 72%;
    top: 17%;
    left: 25%;
    z-index: 101;
    
    background: rgba(255, 255, 255, 0.5) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
  }

  .overlay_window h3 {
    
    margin: 0 !important;
    padding: 10px !important;
    font-size: 1.5em !important;
    font-weight: 700 !important;
    color: #fff !important;
    background: rgba(23, 55, 107, 0.5) !important;
    border-bottom: double #707070 !important;
    border-radius: 8px 8px 0 0 !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
  } 

  /* Improve paragraph readability */
  .overlay_window p {
    color: #333 !important;
    padding: 10px;
  }

  .inner_window_question h3 {
    background: #e8b3b6
  }

  /* Layout components */
  .game_header {
    max-height: 60px;
  }

  #game_window {
    max-width: 1000px;
  }

  #map_footer {
    position: relative;
    top: 20px;
  }

  .inner_window_question {
    height: 340px;
    position: relative;
  }

  /* Button container styles */
  #answer_select_button,
  #view_electoral_map,
  #headquarter_button {
    margin-top: 12px;
    align-self: flex-start;
  }

  #view_electoral_map,
  #headquarter_button {
    margin-left: 5px;
  }
  
  label {
    display:inline-block;
  }

  .content_single li {
    line-height: 1.39em;
  }

  input[type=radio]+label {
    display: inline;
  }

  .inner_window_question h3 .mytooltip{
      background-color: #81caf4;
  }

  .mytooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
      background-color: #81caf4;
  }

  .mytooltip .mytooltiptext {
      width: 240px;
      background-color: #81caf4;
      color: black;
      text-align: center;
      border-radius: 6px;
      padding: 10px;
      position: absolute;
      z-index: 99;
      top: 100%;
      left: 50%; 
      transform: translateX(-50%); 
      opacity: 0;
      transition: opacity 0.3s;
      border: 1px solid black;
      pointer-events: none;
      font-size: 13px !important;
      line-height: 1.5em !important;
      font-weight: normal !important;
      font-style: normal !important;
  }

  .mytooltip .mytooltiptext img {
      max-width: 240px;
      height: auto;
  }

  .mytooltip:hover .mytooltiptext {
      opacity: 1;
      transition-delay: 0.5s;
  }

  #final_results_description p {
    color: black;
    font-family: Segoe UI;
  }

  #overall_details_container h3,
  #overall_election_details h4,
  #main_content_area_reading p,
  #main_content_area_reading h3.results_tab_header,
  .inner_window_w_desc h3 {
    color: white;
  }
  
  /* so the election summary can fit */
  #election_summary {
	padding-top: 0 !important;
  }
  
	.custom-p button {
	  background: initial;
	}
	.custom-p button:hover {
	  background: #2c446e !important;
	}
	.custom-p button:before {
	  content: none;
	}
	.custom-p button:disabled {
	  background: #242a33 !important;
	  cursor: auto !important;
	}
  
  #results_container {color:#000000;} .inner_window_w_desc {background-color:#e7b3b6!important;}
  
`;

ensureMetaViewport();
applyGlobalStyles(css, 'mod-style');

  tooltipList = [
    {searchString: "Olympus", explanationText: "<img src=https://i.imgur.com/0BJfcOf_d.png?maxwidth=520&shape=thumb&fidelity=high> Washington, D.C. This is where all your dreams will die unless you fight like hell, Wes."},
    {searchString: "Daschle", explanationText: "<img src=https://i.imgur.com/yQV5dHj_d.png?maxwidth=520&shape=thumb&fidelity=high> He has much to thank you for, from saving his career to getting him a promotion. He's your Senate Majority Leader and if you lead the country well, he'll keep his job throughout your term."},
    {searchString: "Kerry", explanationText: "<img src=https://i.imgur.com/tIs5HFA.png> Took a heavy loss in Iowa, but hey, he's a good sport, and joined the administration moments after being asked. He previously represented Massachusetts in the United States Senate from 1985 to 2005 and will now serve as a guiding hand of your administration."},
    {searchString: "Limbaugh", explanationText: "<img src=https://i.imgur.com/wWf3fIs.png> Putrid being, called Landrieu a “high priced prostitute” for her efforts in getting Hurricane Katrina aid."},
    {searchString: "Dellinger", explanationText: "<img src=https://i.imgur.com/fPwZvBM.jpeg> Walter Dellinger, your Attorney General made his mark during the Clinton years and has since established friendships with Supreme Court Justices like Stephen Bryer. He's a well-suited man for the job of fighting against hate wherever it presents itself."},
    {searchString: "Summers", explanationText: "<img src=https://i.imgur.com/GlnK2wE.png> Lawrence Summers, former Secretary of Treasury under your friend Bill. With economic uncertainty becoming a prevailing issue for you during the election, who better to pick than the man who worked to solve financial crises in Asia and Russia. He'll likely be a vital source of knowledge to pick a few pointers."},
    {searchString: "Religious Freedom Doctrine", explanationText: "<img src=https://i.imgur.com/j5Eq0Ps.png> The Bible's answer to solving all problems, by letting them fester in the background."},
    {searchString: "Terri Schiavo Case", explanationText: "<img src=https://i.imgur.com/QfY3x33.png> series of court and legislative actions in the United States from 1998 to 2005, regarding the care of Theresa Marie Schiavo, a woman in an irreversible persistent vegetative state."},   
    {searchString: "Connecticut for Lieberman", explanationText: "<img src=https://i.imgur.com/7cSe3G7.png> Joe Lieberman's pity party to cry over his failure to win a primary."},
    {searchString: "Tom DeLay", explanationText: "<img src=https://i.imgur.com/84SyAmV.png> Former House Majority Leader, also seasoned money laundering veteran."},
    {searchString: "Hastert Rule", explanationText: "<img src=https://i.imgur.com/t3YBFKB.png> House Speaker will not schedule a floor vote for a bill that lacks majority support from within the majority party even if a majority of the house would support it. In other words, get fucked."},
    {searchString: "Hydra", explanationText: "<img src=https://i.imgur.com/8Y3oHDc.png> The party of the Bible, by the Bible, for the Bible. Not so much for people."},
    {searchString: "Hip Hop 4 Huckabee", explanationText: "<img src=https://i.imgur.com/Mcd9o2n.png> The Huckabee outreach program to get African Americans in the fold."},
    {searchString: "rEVOlution", explanationText: "<img src=https://i.imgur.com/lz8VObI.png> ..."},
    {searchString: "Condoleezza Rice", explanationText: "<img src=https://i.imgur.com/eO1Qrie.png> The number one spokesperson for the now-fallen Bush administration, he appointed her Secretary of State after Powell took off at the final hour, and she cradled young George as he wept away his tears while the walls caved in on his corrupt and battered administration."},
    {searchString: "Paul Johnson", explanationText: "<img src=https://i.imgur.com/5DSCSlv.jpg> Your independent-minded campaign manager, led the charge in attacking President Bush's rapid partisan streak."},
    {searchString: "Josh Gottheimer", explanationText: "<img src=https://i.imgur.com/Y2KF7NW.jpeg> Your speech writer in 2004 and good friend whose sucess you rewarded by making him Deputy Chief of Staff."},
    {searchString: "motley crew of Senators", explanationText: "<img src=https://i.imgur.com/fIGPwjK.jpg> She's assembled a force including Max Baucus, Senator (MT); Chris Dodd, Senator (CT); Joe Biden, Senator (DE); Evan Bayh, Senator (IN); Mark Pryor, Senator (AR)."},
    {searchString: "Hippopodes", explanationText: "<img src=https://i.imgur.com/aSPfDct.jpg> Your tax reform bill has stirred the pot of bastards desperate to kill your mandate before you make the top 1% unable to pay for their fifth yacht every year."},
    {searchString: "Tea Party", explanationText: "<img src=https://i.imgur.com/fRdvMdS.jpg> TEA: Taxed Enough Already. A movement spread across the country to reign in government spending, cutting vital programs and letting the rich get richer."},
    {searchString: "Cyber Intelligence Protection Act", explanationText: "<img src=https://i.imgur.com/iHuTxvq.jpg> Significant regulations on the industrial and aerospace industries, the energy and power sectors, and the public sector relate to securing data and strengthening firewalls. Republicans see this as massive government overreach, Democrats see it as a waste of time, and the public—well, they couldn't care less for your little pet project."},
    {searchString: "It's too little too late, Clark; even your most supportive allies in the United Kingdom aren't willing to do a quick U-Turn in their foreign policy to save your ass.", explanationText: "<img src=https://i.imgur.com/EXonLNi.jpg> Answer: Man crawls on all fours in infancy, walks on two feet when grown, and leans on a staff in old age. You are the old man; unfortunately, NATO has refused to be your staff."},
    {searchString: "Gigantomachy", explanationText: "<img src=https://i.imgur.com/Vbv3pCm.jpg> The sad and desperate lesser version of an old empire. Its brutal repression of the Chechnyans was step one of reaching its former glory."},
    {searchString: "Titanomachy", explanationText: "<img src=https://i.imgur.com/PEtPi7Z.png> It was bigger, bolder, and stronger. Once having the power to oppress half of Europe, it now struggles to keep its former client states out of enemy alliances."},
    {searchString: "What's in your hand, Clark?", explanationText: "<img src=https://i.imgur.com/ZW5LuYs.png> Not the moral ground. clearly."},
    {searchString: "Desiree Fairooz", explanationText: "<img src=https://i.imgur.com/T3XVOcr.jpeg> The past is catching up to her."},
    {searchString: "Underworld", explanationText: "<img src=https://i.imgur.com/PdbC2JJ.jpeg>  The Republican Conference has sent its worst to inject religious beliefs into politics, overstepping their own laws and beliefs of individual freedoms."},
    {searchString: "Harbingers of Doom", explanationText: "<img src=https://i.imgur.com/ni9aWjO.jpeg> The architects of the Policy Coup, warmongers, the whole lot of them. You've warned of their plans, but it's time to stick by your word, tear apart their ideas, and build a new path forward."},
    {searchString: "Scylla and Charybdis", explanationText: "<img src=https://i.imgur.com/iWrZGm3.png> The walls of this economic crisis and foreign calamity look to crush you."},
    {searchString: "Phonoi", explanationText: "<img src=https://i.imgur.com/0uqZy3b.jpg> Killers, these Republicans are killers. They'll kill the economy, kill their wallets, and kill the American people just to get one over on you."},
    {searchString: "Koalemos", explanationText: "<img src=https://i.imgur.com/9KpyZxe.jpg> These blockheads in Congress, you pulled off impossible feats to get them where they are, and at the final hour, they failed you and killed your reelection prospects."},
    {searchString: "Autolycus", explanationText: "<img src=https://i.imgur.com/FLmpInk.jpg> These bankers crashed the economy, offered mortgage deals to vulnerable buyers, and now think they can knock on their doors and steal their homes like thieves?"},
    {searchString: "Cerberus", explanationText: "<img src=https://i.imgur.com/xO0mBlD.png> Cerberus, The conservative democrats, the southern roots, they are happy you've abandoned the anti-war firebrand label but may require additional soothing."},
    {searchString: "A Sphinx demands", explanationText: "<img src=https://i.imgur.com/EXonLNi.jpg> Riddle: What is it that has one voice and yet becomes four-footed and two-footed and three-footed?"},
    {searchString: "The Sphinx offers", explanationText: "<img src=https://i.imgur.com/P6pbuEX.jpg> Riddle: A rich man needs it, a poor man has it, if we eat it, we die, and when we die, we bring it with us."},
    {searchString: "The Sphinx grants", explanationText: "<img src=https://i.imgur.com/P6pbuEX.jpg> Riddle: You curse my name, you dread my face, but still you need me in my place. For though I sting and often burn, You know there’s much from me to learn."},
    {searchString: "The Sphinx hands", explanationText: "<img src=https://i.imgur.com/P6pbuEX.jpg> Riddle: I'm built on trust, not stone or thread. Without me, your dreams are dead."},
    {searchString: "The Sphinx bestows", explanationText: "<img src=https://i.imgur.com/P6pbuEX.jpg> Riddle: I offer many doors although they seem bleak, A branching web for those who seek. Though journeys vary, twists may trace, Most find me in the same old place."},
    {searchString: "the Sphinx reappears, offering you a riddle.", explanationText: "<img src=https://i.imgur.com/NSDBRjh.jpeg> Riddle: What can be given and can be accepted, is worth a great deal but costs nothing yet has no monetary value?"},
    {searchString: "Many see your apology to McCain as nothing more than a political ploy. McCain accepts it easily and graciously, but the voters you've lost with this debacle will take a lot more to get back.", explanationText: "<img src=https://i.imgur.com/95VFisx.jpeg> Answer: An Apology."},
    {searchString: "Without immediate action, Lehman Brothers will inevitably file for bankruptcy, dragging the economy down.", explanationText: "<img src=https://i.imgur.com/PcXlhhm.png> Answer: Nothing, you can do nothing."},
    {searchString: "Prime Minister Tony Blair is, at this point, nothing but a subordinate, and despite knowing the hell there will be to pay if he allows this deal to follow through, he lacks the backbone to push back. Chancellor Brown sighs as Barclay is allowed to acquire Lehman Brothers, avoiding what would have been a disaster, but markets still sink nonetheless.", explanationText: "<img src=https://i.imgur.com/PcXlhhm.png> Answer: Choices, which you have many."},
    {searchString: "Using 1930s legislation crafted to allow the Fed broad authority to save the falling banks, Secretary Summers travels through the gray area of legal mandates and pulls enough strings to keep Lehman Brothers afloat via auctioning their assets and buying up the rest. Your administration catches heavy flak for corporate handouts, but you've avoided what could have been a catastrophe.", explanationText: "<img src=https://i.imgur.com/PcXlhhm.png> Answer: Choices, which you have many."},
    {searchString: "You are at the peak of your political capital, and although many in Congress heckle your efforts, like Senator Bernie Sanders, what he sees as socialism for the rich, you realize is the only way to save the markets. The public backlash is immense, but you are no stranger to such royalties.", explanationText: "<img src=https://i.imgur.com/PcXlhhm.png> Answer: Choices, which you have many."},
    {searchString: "You stand at the peak of your political capital, and although many in Congress heckle your efforts, like Senator Bernie Sanders, what he sees as socialism for the rich, you realize is the only way to save the markets. The public backlash is immense, but you are no stranger to such luxury.", explanationText: "<img src=https://i.imgur.com/FxxGtW4.png> Answer: Sometimes you must save something even if you hate it."},
    {searchString: "By using 1930s legislation crafted to allow the Fed broad authority to save the falling banks, Secretary Summers travels through the gray area of legal mandates and pulls enough strings to keep Lehman Brothers afloat via auctioning their assets and buying up the rest. Your administration catches extreme flak for corporate handouts, but you've avoided what could have been a catastrophe.", explanationText: "<img src=https://i.imgur.com/FxxGtW4.png> Answer: Sometimes you must save something even if you hate it."},
    {searchString: "British Prime Minister Tony Blair is, at this point, nothing but a subordinate, and despite knowing the hell there will be to pay if he allows this deal to follow through, he lacks the backbone to push back. Chancellor Brown sighs as Barclay is allowed to acquire Lehman Brothers, avoiding what would have been a catastrophe, but markets still sink nonetheless.", explanationText: "<img src=https://i.imgur.com/4Ppzekx.png> Answer: A friend always comes handy."},
    {searchString: "Prime Minister Brown understands your desperation. After much begging of him and other NATO allies like Poland, you've managed to assemble an emergency task force of nations to save Iraq. Republicans, on the other hand, bark and call it a farce.", explanationText: "<img src=https://i.imgur.com/FEaQUsX.png> Answer: Man crawls on all fours in infancy, walks on two feet when grown, and leans on a staff in old age. You are the old man, and thankfully, NATO has become your staff."},
    {searchString: "Prime Minister Blair understands your desperation. After much begging of him and other NATO allies like Poland, you've managed to assemble an emergency task force of nations to save Iraq. Republicans, on the other hand, bark and call it a farce.", explanationText: "<img src=https://i.imgur.com/FEaQUsX.png> Answer: Man crawls on all fours in infancy, walks on two feet when grown, and leans on a staff in old age. You are the old man, and thankfully, NATO has become your staff."},
    {searchString: "Typhon", explanationText: "<img src=https://i.imgur.com/RuNSFeH.png> The destruction of your rule of Olympus, the challenge that promises to burn you to a crisp.  Lehman Brothers must go."},
    {searchString: "Harpies", explanationText: "<img src=https://i.imgur.com/hdgDQa6.png> The base has turned on you, unsatisfied with the surge of troops into Iraq. Outraged that there is not firm withdrawal date in sight, you've lost them and if you continue to ignore them they will be your demise."},
    {searchString: "Chimaera", explanationText: "<img src=https://i.imgur.com/uFgVOV2.png> The scattered hopes of those who demand America comes home, reminiscent of George McGovern's base of support they now are formed together to keep you in command of Olympus."},
    {searchString: "We ought to be smart but forceful with our proposal", explanationText: "<img src=https://i.imgur.com/u9wqOzi.png> Establishes a Troubled Asset Relief Program and acquires up to $600 billion of mortgage-backed securities. Offers no assistance to families."},
    {searchString: "If we act now, this fiasco can be prevented", explanationText: "<img src=https://i.imgur.com/u9wqOzi.png> Valued at around 900 billion in a Troubled Asset Relief Program and the establishment of a Foreclosure Relief Program that provides additional foreclosure avoidance and homeowner assistance along with freezing government-acquired adjustable rate mortgages. In addition, it offers massive banking reforms that prohibit member banks from affiliating with firms engaged principally in securities activities and prohibit officer, director, and employee interlocks between member banks and securities firms."},
    {searchString: "After serious discussions with Senator Clinton,", explanationText: "<img src=https://i.imgur.com/u9wqOzi.png> Administer a national program to help homeowners refinance their mortgages and establish a moratorium on foreclosures and freezing of rate hikes in adjustable rate mortgages, in addition to a Troubled Asset Relief Program, which would acquire up to $900 billion worth of mortgage-backed securities."},
    {searchString: "Returning to the status quo is not on the table.", explanationText: "<img src=https://i.imgur.com/u9wqOzi.png> Tax Hikes on the top 1% and the reestablishment of a combination of a Resolution Trust Corporation and a Reconstruction Finance Corporation, along with the reestablishment of the Home Owners’ Loan Corporation. A bill so radical it would be dead on arrival."}
  ];


  e.collect_results = true;
  
  RecReading=true

// Mutation Observer Setup
const windowsAdvisorObserver = new MutationObserver((mutationList, observer) => {
    const visitWindow = document.getElementsByClassName("overlay_window")[0];
    if (!visitWindow || visitWindow.classList.contains("done")) return;
    
    visitWindow.classList.add("done", "window");
    const titleBar = visitWindow.querySelector("h3");
    if (titleBar) {
        titleBar.classList.add("title-bar", "title-bar-text");
        titleBar.style.paddingLeft = "3px";
    }
});

windowsAdvisorObserver.observe(document.getElementById("game_window"), {
    attributes: true,
    childList: true,
    subtree: true
});

// Music Player Classes
class Song {
    constructor(title, artist, coverLink, audioLink) {
        this.title = title;
        this.artist = artist;
        this.coverLink = coverLink;
        this.audioLink = audioLink;
    }
}

class Playlist {
    constructor() {
        this.songs = [];
        this.currentSongIndex = 0;
    }

    addSong(song) {
        this.songs.push(song);
    }

    getCurrentSong() {
        return this.songs[this.currentSongIndex];
    }

    playNext() {
        this.currentSongIndex = (this.currentSongIndex + 1) % this.songs.length;
    }

    playPrevious() {
        this.currentSongIndex = (this.currentSongIndex - 1 + this.songs.length) % this.songs.length;
    }
}

// DOM Helper Functions
function createElement(type, className, innerHTML, attributes = {}) {
    const element = document.createElement(type);
    if (className) element.className = className;
    if (innerHTML) element.innerHTML = innerHTML;
    Object.entries(attributes).forEach(([attr, value]) => element.setAttribute(attr, value));
    return element;
}

function formatTime(seconds) {
    if (isNaN(seconds)) return "0:00";
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
}

// Player UI Functions
function updateUI(playlist) {
    const currentSong = playlist.getCurrentSong();
    const player = document.getElementById("player");
    
    if (player) {
        const coverElement = player.querySelector("#cover");
        const titleElement = player.querySelector("#title");
        const artistElement = player.querySelector("#artist");
        
        if (coverElement) coverElement.src = currentSong.coverLink;
        if (titleElement) titleElement.textContent = currentSong.title;
        if (artistElement) artistElement.textContent = currentSong.artist;
    }
}

function setupEventListeners(playlist, audio) {
    const playPauseButton = document.querySelector(".vista-play-btn");
    const nextButton = document.querySelector(".vista-next-btn");
    const prevButton = document.querySelector(".vista-prev-btn");
    const volumeSlider = document.querySelector(".vista-volume-slider");
    const progressTrack = document.querySelector(".vista-progress-track");
    
    playPauseButton?.addEventListener("click", () => {
        if (audio.paused) {
            audio.play().then(() => {
                playPauseButton.innerHTML = '<img src="https://i.imgur.com/1qhhG4D.png" alt="Pause" width="40" height="40">';
                playPauseButton.classList.add("vista-pause-btn");
                playPauseButton.classList.remove("vista-play-btn");
            }).catch(e => {
                console.log("Playback prevented:", e);
                // Show a play button to indicate user needs to interact
                playPauseButton.innerHTML = '<img src="https://i.imgur.com/fCa72EP.png" alt="Play" width="40" height="40">';
            });
        } else {
            audio.pause();
            playPauseButton.innerHTML = '<img src="https://i.imgur.com/fCa72EP.png" alt="Play" width="40" height="40">';
            playPauseButton.classList.add("vista-play-btn");
            playPauseButton.classList.remove("vista-pause-btn");
        }
    });

    nextButton?.addEventListener("click", () => {
        playlist.playNext();
        updateUI(playlist);
        audio.src = playlist.getCurrentSong().audioLink;
        audio.play().catch(e => console.log("Autoplay prevented:", e));
    });

    prevButton?.addEventListener("click", () => {
        playlist.playPrevious();
        updateUI(playlist);
        audio.src = playlist.getCurrentSong().audioLink;
        audio.play().catch(e => console.log("Autoplay prevented:", e));
    });

    volumeSlider?.addEventListener("input", (e) => {
        const val = volumeSlider.value;
        audio.volume = val / 100;
        volumeSlider.style.setProperty('--volume-level', `${val}%`);
    });

    progressTrack?.addEventListener("click", (e) => {
        const rect = progressTrack.getBoundingClientRect();
        const pos = (e.clientX - rect.left) / rect.width;
        audio.currentTime = pos * audio.duration;
    });

    audio.addEventListener("timeupdate", () => {
        const progressFill = document.querySelector(".vista-progress-fill");
        const currentTimeDisplay = document.querySelector(".vista-current-time");
        
        if (progressFill) {
            progressFill.style.width = `${(audio.currentTime / audio.duration) * 100}%`;
        }
        
        if (currentTimeDisplay) {
            currentTimeDisplay.textContent = formatTime(audio.currentTime);
            const durationDisplay = document.querySelector(".vista-duration");
            if (durationDisplay && !isNaN(audio.duration)) {
                durationDisplay.textContent = formatTime(audio.duration);
            }
        }
    });

    audio.addEventListener("ended", () => {
        playlist.playNext();
        updateUI(playlist);
        audio.src = playlist.getCurrentSong().audioLink;
        audio.play().catch(e => console.log("Autoplay prevented:", e));
    });
}

function createPlayerUI() {
    const playerContainer = createElement("div", "vista-player", "", { id: "player" });
    
    // Title Bar
    playerContainer.appendChild(createElement("div", "vista-title-bar", `
        <div class="vista-title-text">Windows Media Player</div>
        <div class="vista-title-controls">
            <button class="vista-minimize">
                <svg width="10" height="1" viewBox="0 0 10 1"><rect width="10" height="1" fill="currentColor"/></svg>
            </button>
            <button class="vista-maximize">
                <svg width="10" height="10" viewBox="0 0 10 10"><rect x="0.5" y="0.5" width="9" height="9" fill="none" stroke="currentColor"/></svg>
            </button>
            <button class="vista-close">
                <svg width="10" height="10" viewBox="0 0 10 10"><path d="M0,0 L10,10 M10,0 L0,10" stroke="currentColor" stroke-width="1.5"/></svg>
            </button>
        </div>
    `));

    // Main Content
    const mainContent = createElement("div", "vista-main-content");
    const displayBox = createElement("div", "vista-display-box");

    // Cover Art and Info
    const coverElement = createElement("img", "vista-cover", "", { 
        id: "cover",
        alt: "Album Cover" // Added for accessibility
    });
    const infoContainer = createElement("div", "vista-info-container");
    const nowPlayingLabel = createElement("div", "vista-now-playing", "Now Playing");
    infoContainer.appendChild(nowPlayingLabel);
    infoContainer.appendChild(createElement("div", "vista-song-info", `
        <h3 id="title" class="vista-title">Song Title</h3>
        <p id="artist" class="vista-artist">Artist Name</p>
    `));

    // Controls
    const controlsContainer = createElement("div", "vista-controls-container");
    controlsContainer.innerHTML = `
        <div class="vista-progress-container">
            <div class="vista-progress-bar">
                <div class="vista-progress-track" role="slider" aria-valuemin="0" aria-valuemax="100" tabindex="0">
                    <div class="vista-progress-fill"></div>
                </div>
                <div class="vista-time-display">
                    <span class="vista-current-time">0:00</span>
                    <span class="vista-duration">0:00</span>
                </div>
            </div>
        </div>
        <div class="vista-controls">
            <button class="vista-control-btn vista-prev-btn" aria-label="Previous track">
                <img src="https://i.imgur.com/a2skFGw.png" alt="Previous" width="60" height="60">
            </button>
            <button class="vista-control-btn vista-play-btn" aria-label="Play/Pause">
                <img src="https://i.imgur.com/fCa72EP.png" alt="Play" width="80" height="80">
            </button>
            <button class="vista-control-btn vista-next-btn" aria-label="Next track">
                <img src="https://i.imgur.com/DZ7Igxr.png" alt="Next" width="60" height="60">
            </button>
        </div>
    `;

    // Volume Control
    const volumeControl = createElement("div", "vista-volume-container", `
        <div class="vista-volume-control">
            <input type="range" min="0" max="100" value="50" 
                class="vista-volume-slider" aria-label="Volume control">
            <div class="vista-volume-icons">
                <svg class="vista-volume-icon" viewBox="0 0 24 24" width="18" height="18">
                    <path fill="currentColor" d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                </svg>
                <svg class="vista-volume-icon" viewBox="0 0 24 24" width="18" height="18">
                    <path fill="currentColor" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                </svg>
            </div>
        </div>
    `);

    // Assemble Player
    displayBox.append(coverElement, infoContainer);
    mainContent.append(displayBox, controlsContainer);
    playerContainer.append(mainContent, volumeControl);
    
    return playerContainer;
}

function initializePlayer() {
    let playlist = new Playlist();
    
    // Add songs to playlist
    const songs = [
        new Song("Resistance", "Muse", "https://i.imgur.com/R1eqBUo.gif", "https://audio.jukehost.co.uk/6tAoejj3zTSwW7GF0dEMY0KUbaclWWIY"),
        new Song("Take Me Out", "Franz Ferdinand", "https://i.imgur.com/8KKKzar.gif", "https://audio.jukehost.co.uk/rSx6VDEzc1B9Ax4H3Xw4xzKKs4T5zt9B"),
        new Song("Mr. Brightside", "The Killers", "https://i.imgur.com/kIOK2FE.gif", "https://audio.jukehost.co.uk/rD8tW884kzcHZejcr1tfIK2OgemXbuTF"),
        new Song("Hot N Cold", "Katy Perry", "https://i.imgur.com/SzCK0uX.gif", "https://audio.jukehost.co.uk/cAUldU7GY3YpJD7Slp8Da49voPk6xKFm"),
        new Song("Vertigo", "U2", "https://i.imgur.com/C3Lzdfv.gif", "https://audio.jukehost.co.uk/MZZfCLu3oBkAjJGyzHac3Hi6MNVmyoW2"),
        new Song("Thunder In My Heart", "Meck feat. Leo Slayer", "https://i.imgur.com/WVh9fD3.gif", "https://audio.jukehost.co.uk/CyrL8gEJ965fVCZY8rimZrNslJesE61O"),
        new Song("In The End", "Linkin Park", "https://i.imgur.com/afW8i15.gif", "https://audio.jukehost.co.uk/EnAFf8JaF1hEzTLyAmBWRPlxi2H8BkSr"),
        new Song("On Melancholy Hill", "Gorillaz", "https://i.imgur.com/TDAl9HT.gif", "https://audio.jukehost.co.uk/SMMYL9tzVfimUbQAgWeym87kEFE4qziw")
    ];
    
    songs.forEach(song => playlist.addSong(song));

    // Create and setup audio element
    const audio = createElement("audio", "", "", {
        id: "audio",
        src: playlist.getCurrentSong().audioLink
    });
    audio.volume = 0.5; // Set initial volume to 50%

    // Create and setup player UI
    const playerContainer = createPlayerUI();
    document.getElementById("game_window").insertAdjacentElement("afterend", playerContainer);
    document.body.appendChild(audio);

    // Setup event listeners
    setupEventListeners(playlist, audio);
    updateUI(playlist);

    // Set initial play/pause state
    const playPauseButton = document.querySelector(".vista-play-btn");
    audio.play().then(() => {
        playPauseButton.innerHTML = '<img src="https://i.imgur.com/1qhhG4D.png" alt="Pause" width="40" height="40">';
        playPauseButton.classList.add("vista-pause-btn");
        playPauseButton.classList.remove("vista-play-btn");
    }).catch(e => {
        console.log("Autoplay prevented:", e);
        playPauseButton.innerHTML = '<img src="https://i.imgur.com/fCa72EP.png" alt="Play" width="40" height="40">';
    });

    // Expose to window
    window.Playlist = Playlist;
    window.Song = Song;
    window.changePlaylist = (newPlaylist) => {
        playlist = newPlaylist;
        playlist.currentSongIndex = 0;
        updateUI(playlist);
        audio.src = playlist.getCurrentSong().audioLink;
        audio.play();
    };
    window.updateUI = updateUI;
}

// Vista-style CSS
const vistaStyle = `
.vista-player {
    width: 960px;
    height: 250px;
    position: relative;
    background: linear-gradient(to bottom, #e2e8f5 0%, #b8c7e0 100%) !important;
    border: 1px solid #a5acb5;
    border-radius: 6px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3) !important;
    overflow: hidden;
    font-family: "Segoe UI", Arial, sans-serif;
    display: flex;
    flex-direction: column;
    margin: 10px auto;
}

.vista-title-bar {
    background: linear-gradient(to bottom, #4b6bc6 0%, #3a56a0 100%) !important;
    color: white;
    padding: 6px 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    font-weight: bold;
    border-bottom: 1px solid #2c3f7a;
    user-select: none;
}

.vista-title-text {
    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);
}

.vista-title-controls span {
    margin-left: 8px;
    cursor: pointer;
    font-size: 14px;
    opacity: 0.8;
}

.vista-title-controls span:hover {
    opacity: 1;
}

.vista-main-content {
    display: flex;
    flex: 1;
    padding: 10px;
}

.vista-display-box {
    flex: 1;
    display: flex;
    padding: 10px;
    position: relative;
}

.vista-cover {
    width: 180px;
    height: 180px;
    border: 1px solid #a5acb5;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    object-fit: cover;
}

.vista-now-playing {
    background: linear-gradient(to bottom, #4b6bc6 0%, #3a56a0 100%);
    color: white;
    padding: 4px 8px;
    font-size: 12px;
    font-weight: bold;
    border-radius: 3px 3px 0 0;
    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);
    display: inline-block;
    margin-bottom: -1px;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.vista-info-container {
    position: absolute;
    left: 210px;
    bottom: 20px;
    width: 220px;
}

.vista-song-info {
    background: rgba(255, 255, 255, 0.7) !important;
    padding: 10px;
    border-radius: 4px;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    white-space: nowrap;
    position: relative;
    height: 60px;
}

.vista-title {
    margin: 0 0 5px 0;
    font-size: 16px;
    color: #2a3f8f;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.vista-artist {
    margin: 0;
    font-size: 14px;
    color: #555;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.vista-controls-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    margin-top: 10px;
    position: relative;
}

.vista-progress-container {
    margin-bottom: 15px;
}

.vista-progress-track {
    height: 4px;
    background: #c5cdd9;
    border-radius: 2px;
    cursor: pointer;
    position: relative;
    margin-bottom: 5px;
}

.vista-progress-fill {
    height: 100%;
    background: linear-gradient(to right, #4b6bc6 0%, #7a9ae2 100%) !important;
    border-radius: 2px;
    width: 0%;
    transition: width 0.1s linear;
}

.vista-time-display {
    display: flex;
    justify-content: space-between;
    font-size: 11px;
    color: #555;
}

.vista-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 5px; 
    position: relative;
    padding-bottom: 10px;
}

.vista-control-btn {
    background: transparent !important;
    border: none !important;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: none !important;
    padding: 0;
    transition: transform 0.1s ease;
}

.vista-control-btn:hover {
    transform: scale(1.05);
}

.vista-control-btn:active {
    transform: scale(0.95);
}

.vista-prev-btn, .vista-next-btn {
    width: 60px;
    height: 60px;
}

.vista-prev-btn img, .vista-next-btn img {
    width: 60px !important;
    height: 60px !important;
    filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.3));
}

.vista-play-btn, .vista-pause-btn {
    width: 80px;
    height: 80px;
}

.vista-play-btn img, .vista-pause-btn img {
    width: auto;
    height: 80px !important;
    filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.3));
}

.vista-volume-container {
    position: absolute;
    right: 20px;
    bottom: 20px;
    width: 140px;
    height: 45px;
    background: rgba(255, 255, 255, 0.7);
    padding: 10px;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    z-index: 10;
}

.vista-volume-control {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
    gap: 5px;
}

.vista-volume-slider {
    -webkit-appearance: none;
    -moz-appearance: none;
    width: 100%;
    height: 8px;
    margin: 0;
    background: linear-gradient(to right, #4b6bc6 0%, #4b6bc6 var(--volume-level, 50%), #c5cdd9 var(--volume-level, 50%), #c5cdd9 100%);
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s ease;
}

.vista-volume-icons {
    display: flex;
    justify-content: space-between;
    width: 100%;
    padding: 0 5px;
}

.vista-volume-icon {
    width: 18px;
    height: 18px;
    color: #4b6bc6;
    opacity: 0.8;
    transition: opacity 0.2s ease;
}


.vista-volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: #fff;
    border-radius: 50%;
    border: 1px solid #a5acb5;
    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
    cursor: pointer;
    transition: transform 0.1s ease;
}

.vista-volume-slider::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: #fff;
    border-radius: 50%;
    border: 1px solid #a5acb5;
    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
    cursor: pointer;
    transition: transform 0.1s ease;
}

/* Necessry to prevent 7.css from overruing the music player buttons */
.vista-player .vista-controls button::before,
.vista-player .vista-controls button::after {
    content: none !important;
}
.vista-title-controls button, .vista-main-content button {
	min-width: auto;
}

`;

applyGlobalStyles(vistaStyle, 'vista-player');

// Initialize the player after DOM is fully loaded
initializePlayer();

e = campaignTrail_temp

campaignTrail_temp.achievements = {
    "Go Wes Go" : {
        "image" : "https://i.imgur.com/oAB1EMY.jpeg",
        "description" : "Secure a second term.",
        "cannotBeCheated" : true
    },
    "Titanomachy Reborn" : {
        "image" : "https://i.imgur.com/kGsdtCk.jpeg",
        "description" : "Go to war with Russia.",
        "cannotBeCheated" : true
    },
    "Harbinger of Hades" : {
        "image" : "https://i.imgur.com/3jopJRQ.jpeg",
        "description" : "Let everything collapse and still win.",
        "cannotBeCheated" : true
    },
    "The Last Oracle" : {
      "image" : "https://i.imgur.com/hau1Y1a.jpeg",
      "description" : "Save Lehman Brothers.",
      "cannotBeCheated" : true
    },
    "Cast to the Underworld" : {
      "image" : "https://i.imgur.com/LJHf7BJ.jpeg",
      "description" : "Geronimo Geronimo Geronimo.",
      "cannotBeCheated" : true
    },
    "Unmask a False Prophet" : {
      "image" : "https://i.imgur.com/ZtlFsK6.jpeg",
      "description" : "Defeat Sam Brownback.",
      "cannotBeCheated" : true
    },
    "Heroism" : {
      "image" : "https://i.imgur.com/UyraQpD.jpeg",
      "description" : "Defeat Rudy Giuliani.",
      "cannotBeCheated" : true
    },
    "Mortals vs the Divine" : {
      "image" : "https://i.imgur.com/quhrxjo.jpeg",
      "description" : "Defeat Mike Huckabee.",
      "cannotBeCheated" : true
    },
    "Messiah" : {
      "image" : "https://i.imgur.com/C0jhRYB.jpeg",
      "description" : "Defeat Mike Pence.",
      "cannotBeCheated" : true
    },
    "Absolute Hierarchy" : {
      "image" : "https://i.imgur.com/i8XVNjs.jpeg",
      "description" : "Defeat John McCain.",
      "cannotBeCheated" : true
    },
    "Kingslayer" : {
      "image" : "https://i.imgur.com/aECEkr5.jpeg",
      "description" : "Defeat Jeb Bush.",
      "cannotBeCheated" : true
    },
    "Weathered the Storm" : {
      "image" : "https://i.imgur.com/52zAqEB.jpeg",
      "description" : "Defeat Dick Cheney.",
      "cannotBeCheated" : true
    },
    "Psychological Clarity" : {
      "image" : "https://i.imgur.com/yde2Fie.jpeg",
      "description" : "Defeat Ron Paul.",
      "cannotBeCheated" : true
    },
    "Mirror Image" : {
      "image" : "https://i.imgur.com/4EEyCOy.jpeg",
      "description" : "Defeat Mitt Romney.",
      "cannotBeCheated" : true
    },
    "Pulse Torn by Thunder" : {
      "image" : "https://i.imgur.com/RHwaq59.jpeg",
      "description" : "Give Dick Cheney a heart attack.",
      "cannotBeCheated" : true
    },
    "A Hero Made, A Rival Unmade" : {
      "image" : "https://i.imgur.com/XUHFPmF.jpeg",
      "description" : "Help Lamont defeat Lieberman.",
      "cannotBeCheated" : true
    },
    "Breaking from the Lineage" : {
      "image" : "https://i.imgur.com/0vGjBC5.jpeg",
      "description" : "Pass healthcare reform.",
      "cannotBeCheated" : true
    },
    "Granita Delayed" : {
      "image" : "https://i.imgur.com/Thu0DkS.jpeg",
      "description" : "Save Tony Blair's career.",
      "cannotBeCheated" : true
    },
    "Chaos Agents" : {
      "image" : "https://i.imgur.com/1XoEx0n.jpeg",
      "description" : "2008 Four-Way.",
      "cannotBeCheated" : true
    },
    "Order & Anarchy" : {
      "image" : "https://i.imgur.com/xt4mA33.jpeg",
      "description" : "Help make Rick Santorum a household name.",
      "cannotBeCheated" : true
    },
    "Vanguard of the Revolution" : {
      "image" : "https://i.imgur.com/QVdYCJe.jpeg",
      "description" : "Discard the past norms and save the world.",
      "cannotBeCheated" : true
    },
    "Chronos Denied" : {
      "image" : "https://i.imgur.com/RM3jfay.jpeg",
      "description" : "Rebuke the naysayers and achieve generational change.",
      "cannotBeCheated" : true
    },
    "Bow to Moira" : {
      "image" : "https://i.imgur.com/FzsJjBv.jpeg",
      "description" : "Let Hillary Clinton handle the economy.",
      "cannotBeCheated" : true
    },
    "When Ares Walks Among Men" : {
      "image" : "https://i.imgur.com/WEVTJz7.jpeg",
      "description" : "Go to war with Iran.",
      "cannotBeCheated" : true
    },
    "Conquistador" : {
      "image" : "https://i.imgur.com/IFV2rMI.jpeg",
      "description" : "Sweep the midterms.",
      "cannotBeCheated" : true
    },
    "Ancestral Curses" : {
      "image" : "https://i.imgur.com/Bhl2Joe.jpeg",
      "description" : "Repeal Don't Ask, Don't Tell.",
      "cannotBeCheated" : true
    }
}
