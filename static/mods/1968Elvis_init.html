campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 32,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 4,
        "fields": {
            "year": 1968,
            "summary": "<div><p>During this deeply counter-cultural and strange period, many have looked towards new mindsets and ideas; from the Summer of Love to the Vietnam War, conservatives have watched in horror as segregation collapsed and strange, psychedelic youth ravaged the cities with drugs and messages of radical defeatism, and progressives see nothing short of a beautiful universal change in customs, ideas, and philosophy worldwide towards peace, justice and happiness. Nonetheless, a washed-up Elvis Presley, the giant of the 50s, had begun expressing an interest in politics by 1960, when he had returned from military service and was at the height of his popularity. Due to his young age he was unable to run for much office, but had found success in endorsing local candidates in Memphis, Nashville and Vegas, all cities he had a deep fondness for. As his movie career went down the dumpster by 1964, he had started considering serious ambitions to run for President on a Democratic ticket, despite his age. Regardless, his successful run as governor of Tennessee had proven that he has serious electability, and his efforts in catching up to trends in society, music and culture have also proven in showing him as the \"hip\" candidate, that nonetheless is God-Fearing and fully American in nature. By 1968, a fractured Democratic Party decided to take a bet with nominating Elvis as a unity candidate, especially as a way to placate some Southern States from outright hatred of the new Democrats. Will these qualities and his small, nearly nonexistent political experience be enough for Elvis Aaron Presley's latest bid, his biggest yet?</p></div>",
            "image_url": "https://i.ibb.co/HT4X8Gx/image.png",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://i.ibb.co/5kCjSL3/image.png",
            "recommended_reading": "<h4 style=\"margin-top: 0.5em;\">General Resources</h4><a href=\"http://uselectionatlas.org/RESULTS/national.php?year=1968\" target=\"_blank\">Final 1968 Results</a><br>Theodore White - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0061900648/amhius20-20\" target=\"_blank\">The Making of the President 1968 (Landmark Political)</a><br>Rick Perlstein - <a href=\"http://www.amazon.com/exec/obidos/ASIN/B003E7ET0S/amhius20-20\" target=\"_blank\">Nixonland: The Rise of a President and the Fracturing of America</a><br><h4>By the Candidates</h4>Richard Nixon - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0448143747/amhius20-20\" target=\"_blank\">The Memoirs of Richard Nixon</a><br>Hubert Humphrey - <a href=\"http://www.youtube.com/watch?v=8nwIdIUVFm4\" target=\"_blank\">1948 Civil Rights speech</a><br>George Wallace - <a href=\"https://www.youtube.com/watch?v=DcNv4aQI_QQ\" target=\"_blank\">1967 speech on dissent and intellectualism</a><br><h4>The Vietnam War</h4> Stanley Karnow - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0140265473/amhius20-20\" target=\"_blank\" >Vietnam: A History</a><h4>Misceallany</h4><a href=\"http://www.jahrbuch2001.studien-von-zeitfragen.net/Weltmacht/Secret_of__68/secret_of__68.html\" target=\"_blank\">Secret of '68</a><br><a href=\"http://www.propublica.org/article/living-apart-how-the-government-betrayed-a-landmark-civil-rights-law\" target=\"_blank\">Living Apart: How the Government Betrayed a Landmark Civil Rights Law</a><br><a href=\"http://www.nytimes.com/2012/09/05/business/the-gops-journey-from-the-liberal-days-of-nixon.html\" target=\"_blank\">The G.O.P.'s Journey From the Liberal Days of Nixon</a><br><a href=\"http://www.umich.edu/~lawrace/votetour10.htm\" target=\"_blank\">George Wallace and the 1968 Election</a>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/1968-no-majority.jpg",
            "creator": "Anonymous",
            "display_year": "1968Elvis"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 24,
        "fields": {
            "first_name": "Elvis",
            "last_name": "Presley",
            "election": 4,
            "party": "Democrat",
            "state": "Tennessee",
            "priority": 0,
            "description": "<div style='overflow-y:scroll;height:200px;'><h3>The King of Rock 'n Roll himself, Elvis Aaron Presley.</h3><br>Everyone knows who Elvis Presley is, the man who sparked a change in the music scene forever and wiggled his way to the top in the 1950s. However, his star faded as he attempted to pursue a career in Hollywood as an actor. Unfortunately, it was all for nothing. The movies did not succeed and he went nowhere. Elvis had to think outside of the box to pull himself out of this period of stagnation.<br>However, the way he pulled himself out was through some unconventional means. In 1966, he declared himself a candidate in the Tennessee Gubernatorial Election and after fighting against the polls, the political machine in the state, he somehow won and entered the Governor's mansion in Nashville. During his brief tenure as Governor, he did experience some difficulties, but was able to keep things relatively normal and stable.<br>As 1968 dawned, Elvis saw the Democratic Party fracturing at the seems. With President Johnson having dropped out, and with figures like Gene McCarthy, Bobby Kennedy, and Vice President Humphrey in the race, there was no way Elvis would run, right? Well, he decided to launch his bid for President on March 20, 1968 in Nashville. No one really took his candidacy seriously, at first. However, through a lot of hard work and winning a few primaries, Elvis has found himself the nominee for the Democratic Party.<br>Now, it won't be easy. The Democratic Party is very divided, lacking a leader like FDR that can hold the Party together. Along with that, the Party seems to be fighting itself in regards to the issues of Vietnam and Civil Rights. While Northern Liberals fully support Civil Rights and want the War in Vietnam to end, Southern Conservatives fully oppose Civil Rights and want to keep up the fighting in Vietnam.<br>Elvis will have to walk the tightrope in order to win, or be washed away by Vice President Nixon...</div>",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://i.ibb.co/1njBgKd/image.png",
            "electoral_victory_message": "<h3>A Dream Come True</h3><br><p>It took a lot of hard work and it was very touch and go for a while, but you've done it! You've managed to win against the odds and secure yourself a true place in history as the first singer turned President. As you celebrate this big victory in Graceland with Priscilla and Vernon, you feel that something isn't quite right. The Colonel is oddly quiet, despite the big news, but he's probably just soaking it in.<br>However, not everything is sunshine and roses. You still have to guide America out of this chaotic period and towards something brighter, a better land. Along with that, the  Vietnam War is something you have to take care of. As always, people will try to sway you towards one way or another, but it's ultimately your choice at the end of the day.<br>But that's not all. You'll also have to contend with Congress who isn't exactly thrilled that you somehow managed to pull off a victory. Despite Democratic majorities in both chambers, they could oppose your agenda, but that's why you got your running mate to settle things between you and Congress. If all goes as planned, the next four years will be transformative and give Americans hope in a better tomorrow...</p>",
            "electoral_loss_message": "<h3>A Dream Deferred</h3><br><p>Despite your hardest efforts to win against Nixon, you've lost. But don't give up hope now. You can always run again, or stay in Nashville for another term as Governor. And if you really wanted to, you could run for Senate or even return to your old ways of singing.<br>These options are always open to you and you shouldn't be swayed any way towards any of them. After all, you still have a few years as Governor left for your first term. I'm sure that history will remember you fondly as the man who tried to help America through one of it's darkest periods, but being unable to win. Let's just hope Nixon can steer America through these unsteady waters.<br>But for now, rest up and continue spending time as the Governor of Tennessee!</p>",
            "no_electoral_majority_message": "<h3>A Dream Deferred</h3><br><p>Despite your hardest efforts to win against Nixon, you've lost. But don't give up hope now. You can always run again, or stay in Nashville for another term as Governor. And if you really wanted to, you could run for Senate or even return to your old ways of singing.<br>These options are always open to you and you shouldn't be swayed any way towards any of them. After all, you still have a few years as Governor left for your first term. I'm sure that history will remember you fondly as the man who tried to help America through one of it's darkest periods, but being unable to win. Let's just hope Nixon can steer America through these unsteady waters.<br>But for now, rest up and continue spending time as the Governor of Tennessee!</p>",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 25,
        "fields": {
            "first_name": "George",
            "last_name": "Wallace",
            "election": 4,
            "party": "American Independent",
            "state": "Alabama",
            "priority": 3,
            "description": "<p>George Wallace runs with a singular goal in mind -- preventing an electoral college majority, and then using his role as kingmaker to broker an end to desegregation.</p><p>If Wallace comes even close to achieving this, he will have cemented his reputation as one of the great villains of American political history -- or as a true hero in certain, narrow quarters.</p><p>Wallace will simply try to carry as many Southern states as he can to increase the odds of a deadlock.</p>",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/george-wallace-1968.jpg",
            "electoral_victory_message": "<h3>Wow! You have won the 1968 election in a shocker!</h3><p>Dixie forever! Even with the Long Hot Summer of 1967, nobody guessed that you could do well enough in the Northern states to win the election outright. You have instantly become most polarizing President-elect since Abraham Lincoln.</p>",
            "electoral_loss_message": "<h3>Sorry, you did not prevent an electoral college majority.</h3><p>You put in a good effort, but your dream of brokering an end to desegregation will not come to fruition in 1968. No winning candidate will negotiate that point with you unless they absolutely have no choice.</p><p>The best you can do for now is continue to sound the call for a return to sanity in American politics. Perhaps if the riots and discord continue, you will have a better chance of making your voice heard in 1972.</p>",
            "no_electoral_majority_message": "<h3>Congratulations! You have deadlocked the electoral college with your votes in the South.</h3><p>In a close election, your electoral votes in the South have prevented either candidate from winning a majority. Get ready to put the squeeze on Humphrey and Nixon.</p><p>Of course, you still have to deal with the possibility that Humphrey and Nixon dislike you so much that they will simply strike a deal with each other. Whatever happens, it's sure to be interesting.</p>",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 55,
        "fields": {
            "first_name": "Spiro",
            "last_name": "Agnew",
            "election": 4,
            "party": "Republican",
            "state": "Maryland",
            "priority": 29,
            "description": "n/a",
            "color_hex": "#FF0000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/spiro-agnew-1968.jpg",
            "electoral_victory_message": "n/a",
            "electoral_loss_message": "n/a",
            "no_electoral_majority_message": "n/a",
            "description_as_running_mate": "<p>Spiro Agnew has served as the Governor of Maryland since 1967, and he brings a reputation as a moderate on many issues including civil rights and the environment.</p><p>Agnew's Maryland background and his Greek heritage can help Nixon appeal both to Southern moderates and to blue collar workers who might otherwise be drawn to Wallace.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 1003,
        "fields": {
            "first_name": "Robert F.",
            "last_name": "Kennedy",
            "election": 4,
            "party": "Democrat",
            "state": "New York",
            "priority": 34,
            "description": "n/a",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://i.ibb.co/1MY7BGr/image.png",
            "electoral_victory_message": "n/a",
            "electoral_loss_message": "n/a",
            "no_electoral_majority_message": "n/a",
            "description_as_running_mate": "<div style='overflow-y:scroll;height:200px;'>The brother of late President Kennedy, Robert or Bobby as people call him, has built himself quite a career. After helping his brother become the President, he was made Attorney General and Co-President in all but name. During his time as Attorney General, Bobby helped the cause of Civil Rights and went on a ruthless crusade against organized crime. However, things changed on November 22, 1963 when President Kennedy was assassinated in Dallas, Texas.<br>Kennedy would end up leaving the role of Attorney General and would instead run and win for New York's Senate Seat. During his short time as Senator, he's fought hard for the little guy, going to the Mississippi Delta to see how effective the War on Poverty programs were. Along with that, he's fought alongside men like Cesar Chavez against farmers being exploited and was able to present an amendment of the National Labor Relations Act into Congress.<br>There has been one issue that Bobby has been fighting against. And that issue is the Vietnam War and President Johnson's handling of the war. Under President Johnson, the presence of US troops in South Vietnam dramatically increased, causing the war to grow more and more unpopular. After the Tet Offensive showed how weak South Vietnam was, Bobby decided to launch his Presidential Run. However, his campaign failed in the face of Elvis's Presidential Campaign.<br>However, Bobby seems like the perfect running mate for Elvis. A Northerner who has plenty of minority support and is willing to be Elvis's running mate. However, this could harm Elvis's support in the South and his support in the white suburbs.</div>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
      "model": "campaign_trail.candidate",
      "pk": 1005,
      "fields": {
          "first_name": "John",
          "last_name": "Connally",
          "election": 4,
          "party": "Democrat",
          "state": "Texas",
          "priority": 36,
          "description": "n/a",
          "color_hex": "#0000FF",
          "secondary_color_hex": "#90C0FF",
          "is_active": 0,
          "image_url": "https://i.ibb.co/WxqrnMj/image.png",
          "electoral_victory_message": "n/a",
          "electoral_loss_message": "n/a",
          "no_electoral_majority_message": "n/a",
          "description_as_running_mate": "<div style='overflow-y:scroll;height:200px;'>John Connally is the current Governor of Texas, and before that, was President Kennedy's Secretary of the Navy. Connally gained some of his fame through the Assassination of President Kennedy. Connally was not only in the same as Kennedy, but was injured as well, however he was able to recover.<br>Governor Connally is a Conservative Democrat, which although could help the Democratic Party win the South again, would harm with Northern voters, who want someone more Liberal as your VP.<br>Connally would be a great choice for rebuilding the former Democratic South, at the cost of the more recent Democratic North.</div>",
          "candidate_score": 0,
          "running_mate": true
      }
  },
    {
      "model": "campaign_trail.candidate",
      "pk": 1004,
      "fields": {
          "first_name": "Henry M. \"Scoop\"",
          "last_name": "Jackson",
          "election": 4,
          "party": "Democrat",
          "state": "Washington",
          "priority": 35,
          "description": "n/a",
          "color_hex": "#0000FF",
          "secondary_color_hex": "#90C0FF",
          "is_active": 0,
          "image_url": "https://i.ibb.co/DLzbv20/image.png",
          "electoral_victory_message": "n/a",
          "electoral_loss_message": "n/a",
          "no_electoral_majority_message": "n/a",
          "description_as_running_mate": "<div style='overflow-y:scroll;height:200px;'><p>You look at the bottom of your shortlist, and a certain name pops out at you: Henry M. Jackson.<br>The current Senator from Washington, Henry, or Scoop as everyone calls him, has had quite a career. Originally a lawyer, he ran for Washington's 2nd Congressional Seat in 1940, and actually won. He stayed in that district until 1952 when he ran for the United States Senate and has been there ever since. Along with that, he has been a massive supporter of Civil Rights and the many programs that sprouted from FDR's New Deal.<br>However, there are some drawbacks to Scoop. Firstly, Scoop has been a proponent of the Vietnam War, having spoken for continued American involvement in the region, which has provoked the ire of many Peace Democrats, and younger voters. Along with that, he has given the reputation of being the \"Senator from Boeing\", mainly because of his close ties to the defense industry.<br>Scoop Jackson would a choice that could keep the Democratic North strong, but harm it at the same time with his hawkishness.</p></div>",
          "candidate_score": 0,
          "running_mate": true
      }
  },
    {
        "model": "campaign_trail.candidate",
        "pk": 63,
        "fields": {
            "first_name": "Happy",
            "last_name": "Chandler",
            "election": 4,
            "party": "Democrat",
            "state": "Kentucky",
            "priority": 38,
            "description": "n/a",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/happy-chandler-1968.jpg",
            "electoral_victory_message": "n/a",
            "electoral_loss_message": "n/a",
            "no_electoral_majority_message": "n/a",
            "description_as_running_mate": "<p>A Democratic Senator from Kentucky and former Commissioner of Major League Baseball, Chandler would give Wallace's outsider campaign some credibility.</p><p>As a conservative Democrat, Chandler supports the calls for law and order and fiscal conservatism. However, he will not stand as Wallace's running mate unless he softens his rhetoric on segregation, which in turn could alienate other Southern states.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 23,
        "fields": {
            "first_name": "Richard",
            "last_name": "Nixon",
            "election": 4,
            "party": "Republican",
            "state": "California",
            "priority": 1,
            "description": "<p>not playable</p>",
            "color_hex": "#ff0000",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/richard-nixon-1968.jpg",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 42,
        "fields": {
            "candidate": 25,
            "running_mate": 63
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 146471,
        "fields": {
            "candidate": 24,
            "running_mate": 1003
        }
    },
    {
      "model": "campaign_trail.running_mate",
      "pk": 146473,
      "fields": {
          "candidate": 24,
          "running_mate": 1004
      }
  },
  {
    "model": "campaign_trail.running_mate",
    "pk": 146474,
    "fields": {
        "candidate": 24,
        "running_mate": 1005
    }
},
    {
        "model": "campaign_trail.running_mate",
        "pk": 122279,
        "fields": {
            "candidate": 23,
            "running_mate": 55
        }
    }
]

campaignTrail_temp.credits = "<button onclick='credits()'>Various people</button>";
  credits = function() {
    credits = ["CODERS", "Garden of Light, CatBoxx", "", "WRITER", "Yet Another Nerd", "", "SPECIAL THANKS", "Astro, DecstarG for the Soundtrack and ending code and all the lovely playtesters we had along the way!"]
    text = "CREDITS:\n\n"
    for (i in credits) {
        text += credits[i] + "\n"
    }
    alert(text)
  }
campaignTrail_temp.opponents_default_json = [
    {
        "election": 4,
        "candidates": [
            24,
            25,
            23
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 4,
        "candidates": [
            24,
            25,
            23
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 4,
        "year": 1968,
        "is_premium": 0,
        "display_year": "1968Elvis"
    }
]

jet_data = {
    "headerColor": "#a30021",
    "windowColor": "#014893",
    "containerColor": "#014893",
    "innerWindowColor": "#5e3b3b",
    "bannerImageUrl": "https://i.ibb.co/wY5w3ng/image.png",
    "backgroundImageUrl": "https://newcampaigntrail.com/static/images/mlk.jpg",
    "endingTextColor": "#ffffff",
    "customQuote": "\"I like this new generation of  music!\""
}

//#startcode


corrr = '\n              <h2>THE CAMPAIGN TRAIL</h2><font id="wittyquote" size="4" color="white"><em>"I like this new generation of  music!"</em></font>\n            ';


nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#a30021";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#4f91d6";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#014893";

document.getElementById("header").src = "https://i.ibb.co/wY5w3ng/image.png";

document.body.background = "https://newcampaigntrail.com/static/images/mlk.jpg";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#5e3b3b!important;}</style>";

// Initialise custom music

$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"

musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
  var date = new Date(null);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
}

generateTime = () => {
    // Get the audio element
    var audio = document.getElementById("campaigntrailmusic");

    timeTracker = document.createElement("div");
    timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#999999;
      float:right;
      padding: 10px;
    `
    $("#trackSelParent")[0].prepend(timeTracker);
    $("#trackSelParent")[0].prepend(document.createElement("br"));

    // Create a new element to display the current position of the audio
    var positionDisplay = document.createElement("gg");
    positionDisplay.id = "position-display";

    // Create a new slider element to change the time
    var timeSlider = document.createElement("input");
    timeSlider.type = "range";
    timeSlider.min = 0;
    timeSlider.max = 1;
    timeSlider.step = 0.001;
    timeSlider.value = 0;
    timeSlider.style.width = "200px";
    timeSlider.id = "time-slider";

    var pausePlay = document.createElement("button");
    pausePlay.id = "position-display";
    pausePlay.innerHTML = "<b>Pause</b>"
    pausePlay.style.width = "100%";


    pausePlay.addEventListener("click", event => {
      event.preventDefault();
      updatePositionDisplay();
      let audio = document.getElementById("campaigntrailmusic");
      if (audio.paused) {
        audio.play();
        event.target.innerHTML = "<b>Pause</b>";
        return;
      }
      audio.pause();
      event.target.innerHTML = "<b>Play</b>";
      return;
    })

    var volumeLabel = document.createElement("gg");
    volumeLabel.id = "volume-label";
    volumeLabel.innerHTML = "<br><b>Volume: </b>"

    var volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.min = 0;
    volumeSlider.max = 1;
    volumeSlider.step = 0.001;
    volumeSlider.value = 0;
    volumeSlider.style.width = "200px";
    volumeSlider.id = "volume-slider";

    volumeSlider.value = audio.volume;

    timeTracker.appendChild(pausePlay);
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(positionDisplay);
    timeTracker.appendChild(timeSlider);
    timeTracker.appendChild(volumeLabel);
    timeTracker.appendChild(volumeSlider);

    updatePositionDisplay();

    //for (let i = 0; i < 10; i++)
    //timeTracker.append(document.createElement("br"));


    // Function to update the position display
    function updatePositionDisplay() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
    }

    // Function to change the time of the audio
    function changeTime() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      audio.currentTime = timeSlider.value * audio.duration;
    }

    updateVolume = event => {
      audio.volume = event.target.value;
    }
    
    // Update the position display and slider every second
    setInterval(updatePositionDisplay, 1000);

    // Listen for changes to the time slider and change the time of the audio
    timeSlider.addEventListener("input", changeTime);
    volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
  trackSel = document.createElement("div");
  trackSel.id = "trackSelParent"
  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
  for (i in soundtracks) {
    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
    }
  }
  z += `</select></b><br><br>`
  // <label><input type="radio" name="option" value="option1">Option 1</label><br>
  for (i in soundtracks[e.selectedSoundtrack].tracklist) {
    let a = soundtracks[e.selectedSoundtrack].tracklist[i]
    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
    z += b
  }
  z += "</div><br><br>"
  trackSel.innerHTML = z

  // select correct song

  musicBox.appendChild(trackSel);
  Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])[0].checked = true

  // set soundtrack changer

  soundtrackSelector = document.getElementById("selectSoundtrack")
  soundtrackSelector.onchange = function() {
    for (i in soundtracks) {
      if (soundtracks[i].name == soundtrackSelector.value) {
        e.selectedSoundtrack = i
        break
      }
    }
    document.getElementById("trackSelParent").remove()
    newMusicPlayer()
  }

  var matches = document.querySelectorAll('.trackSelector');

  for (match in matches) {
    matches[match].onchange = function() {
      audio = $("#campaigntrailmusic")[0];
      audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
      audio.currentTime = 0
    }
  }

  musicBox.children[2].loop = false
  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

  musicBox.children[2].onended = function() {
    console.log("next track")
    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
      return f.tagName == "LABEL"
    }).map(f=>f.children[0])
    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
    buttons[newSel].click()
  }

  for (w = 0; w < 7; w++) {
    document.getElementById("trackSelParent").appendChild(document.createElement("br"))
  }
  
  generateTime();
}

clamp = function(a, max, min, overflow=true) {
  if (overflow) {
    return a > max ? min : a < min ? max : a;
  }
  return a > max ? max : a < min ? min : a;
}


// Track list

var soundtracks = {
  0: {
    name: "Elvis' Golden Mix",
    tracklist: [
      {
        "name": "Elvis Presley  - If I Can Dream",
        "url": "https://files.catbox.moe/ks8gw5.mp3"
      },
      {
        "name": "Elvis Presley - Yesterday / Hey Jude",
        "url": "https://files.catbox.moe/3lnbso.mp3"
      },
      {
        "name": "John Lennon - Dizzy Miss Lizzy",
        "url": "https://files.catbox.moe/7xmotf.mp3"
      },
      {
        "name": "Elvis Presley - Heartbreak Hotel",
        "url": "https://files.catbox.moe/dpa3ci.mp3"
      },
      {
        "name": "Elvis Presley - Viva Las Vegas",
        "url": "https://files.catbox.moe/gzioue.mp3"
      },
      {
        "name": "Janis Joplin - To Love Somebody",
        "url": "https://files.catbox.moe/q1gi40.mp3"
      },
      {
        "name": "Elvis Presley - Blue Moon (Take 9)",
        "url": "https://files.catbox.moe/c2hjvg.mp3"
      }
    ]
  }
}

// Set up new music player

newMusicPlayer()

campaignTrail_temp.achievements = {
  "Leaving Memphis Town" : {
      "image" : "https://i.ibb.co/NpWPhL1/image.png",
      "description" : "Win as Elvis without the support of the South.",
      "cannotBeCheated" : true
  },
"Stick To Politics, Boy" : {
  "image" : "https://i.ibb.co/wRsrhMd/image.png",
  "description" : "As Elvis, fail your latest musical endeavor, and still win the election.",
  "cannotBeCheated" : true
},
"Stick To Music, Boy" : {
  "image" : "https://i.ibb.co/MNyYMPj/image.png",
  "description" : " As Elvis, make a commercially successful album, and still lose the election.",
  "cannotBeCheated" : true
},
"Gators For Elvis" : {
  "image" : "https://i.ibb.co/y5pSXK0/image.png",
  "description" : "As Elvis, win Florida (regardless if you win or lose the election).",
  "cannotBeCheated" : true
},
"Hotel Nevada" : {
  "image" : "https://i.ibb.co/hdyFXf5/image.png",
  "description" : "Win as Elvis without California.",
  "cannotBeCheated" : true
},
"Jailhouse Rock" : {
  "image" : "https://i.ibb.co/vZHRg4K/image.png",
  "description" : "Deport the Colonel.",
  "cannotBeCheated" : true
},
"Flowers In Your Greaser" : {
  "image" : "https://i.ibb.co/G93Dr3P/image.png",
  "description" : "As Elvis, take every single option against Vietnam (and win).",
  "cannotBeCheated" : true
},
"Rock Against Nixon" : {
  "image" : "https://i.ibb.co/WDny5xp/image.png",
  "description" : "As Elvis, take more than 400 electoral votes home.",
  "cannotBeCheated" : true
}
}

//#endcode
