campaignTrail_temp.questions_json = [
    {
        "model": "campaign_trail.question",
        "pk": 1042,
        "fields": {
            "priority": 1,
            "description": "For the first time since the 1980s, you’re out of public office. You’ve just finished up your tenure as Secretary of State, and after recovering from a brief illness, you find yourself with a lot of free time. Many in your party see you as their presumptive nominee, and you’ve got plenty of time to think about what to do next. What are your plans?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20776,
        "fields": {
            "priority": 2,
            "description": "With Justice Antonin Scalia’s sudden passing, the Supreme Court is now evenly split between liberals and conservatives. President Obama has nominated Judge Merrick Garland to fill the vacancy. However, Republicans in the Senate have vowed to block the nomination until after the election. The press is hounding you for a statement. How do you respond?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1044,
        "fields": {
            "priority": 2,
            "description": "There was a mass shooting at Pulse, a gay nightclub in Orlando, overnight. The shooter killed 49 people and injured dozens more in what is one of the deadliest mass shootings in U.S. history. What is your reaction?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1046,
        "fields": {
            "priority": 2,
            "description": "Just prior to the convention, you selected Tim Kaine, a Senator from Virginia, as your running mate. What was your rationale behind selecting him?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1051,
        "fields": {
            "priority": 3,
            "description": "Your primary rival, Senator Bernie Sanders of Vermont, ultimately came up short in his challenge for the nomination, but he maintains a loyal and vocal base of supporters. Will you offer him a prime speaking slot at the Democratic National Convention?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1043,
        "fields": {
            "priority": 4,
            "description": "The FBI director, James Comey, has delivered a sharp critique of your email practices as Secretary of State, calling them “extremely careless,” though not negligent, and he recommended no charges. What’s your response to his findings?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1045,
        "fields": {
            "priority": 5,
            "description": "Somehow, you’ve made it. In the halls of the Democratic National Convention in Philadelphia, chants of “Hillary! Hillary!” drown out every other sound. As you step onto the stage, you look at some of the banners they put up: Democratic presidents — from FDR to JFK to Obama. Knowing that your nomination itself is already a historic feat, what message will you emphasize as you accept your party’s nomination for President of the United States?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1055,
        "fields": {
            "priority": 6,
            "description": "There’s no arguing that your husband, former President Bill Clinton, has been very interested in engaging with your campaign. Although this did not go as well in 2008, he’s been wondering if you’d like his input this time around. Do you plan to make him a part of your campaign this season? ",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1052,
        "fields": {
            "priority": 6,
            "description": "There has been a violent terrorist attack in Nice today. A cargo truck drove through a crowd of people celebrating Bastille Day, resulting in the deaths of over 80 people. The Islamic State has claimed responsibility for the attacks. How will you address this?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1077,
        "fields": {
            "priority": 6,
            "description": "Your selection of Senator Tim Kaine as a running mate has drawn criticism from progressives who hoped for a bolder, more left-leaning choice. What do you say to those who feel let down by this decision?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1065,
        "fields": {
            "priority": 7,
            "description": "The Democratic platform calls the Affordable Care Act a “critically important step” toward achieving universal health care. Will your campaign embrace a broader path to universal coverage — and how do you plan to position that fight?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1059,
        "fields": {
            "priority": 7,
            "description": "President Obama remains one of the most popular figures in the Democratic Party, and his approval rating has stayed above 50% for much of the year. How closely will you align yourself with him on <u>the campaign trail</u>?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20735,
        "fields": {
            "priority": 7,
            "description": "As Secretary of State, you were involved in the discussions about the Trans-Pacific Partnership. Now that the final text is available, what is your current position on the TPP, and how would you approach trade agreements in the future?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1057,
        "fields": {
            "priority": 7,
            "description": "Throughout the primaries, you faced pressure from progressives to embrace a $15 federal minimum wage. You’ve supported raising it to $12/hour, with room for local increases beyond that. How central will the fight for a higher minimum wage be to your campaign?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1053,
        "fields": {
            "priority": 7,
            "description": "Donald Trump continues to generate enormous media attention, often by saying outrageous things about Mexicans, Muslims, women, and many other groups that you never thought you’d hear of. How do you plan to respond?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1060,
        "fields": {
            "priority": 7,
            "description": "There’s no arguing that your rival in the primaries, Bernie Sanders, has a significant base of support you can’t just easily ignore. To what extent will you involve him on <u>the campaign trail</u>?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1068,
        "fields": {
            "priority": 7,
            "description": "Last year, the United States and Iran signed a nuclear deal where the U.S. lifted its economic sanctions on Iran in exchange for strict, verifiable limits on its nuclear program. Did you approve of this deal?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20695,
        "fields": {
            "priority": 7,
            "description": "In the wake of Trump’s nomination, a number of prominent anti-Trump Republicans have indicated they’re either going to sit out this election, or support third-party candidates such as the Libertarian Gary Johnson or the Independent Evan McMullin as a form of protest. What’s your reaction to this effort?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1069,
        "fields": {
            "priority": 7,
            "description": "The Syrian Civil War has been ongoing for five years, and seems unlikely to end anytime soon, particularly with the rise of ISIS and The Beatles. What is your plan for addressing the ongoing crisis there, including both the fight against ISIS and the refugee situation?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20715,
        "fields": {
            "priority": 7,
            "description": "In part due to the nomination of Trump, the national debt has not been a significant issue this campaign. Still, do you plan to take any steps to reduce or increase spending as President, per your priorities?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1063,
        "fields": {
            "priority": 7,
            "description": "Since launching his campaign, Trump has repeatedly attacked you for your 2002 vote authorizing the Iraq War — a war he claims to have always opposed. Though you’ve expressed regret for the vote, his team is using it to paint you as part of the political establishment that led the country into one of its most costly foreign policy failures. How do you respond to these criticisms?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1066,
        "fields": {
            "priority": -7,
            "description": "At a recent fundraiser in New York City, you said that “half” of Donald Trump’s supporters belong in a “basket of deplorables,” citing racism, sexism, and xenophobia, in what has been widely seen as a gaffe. Do you stand by what you said, or do you regret it?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1067,
        "fields": {
            "priority": -6,
            "description": "During a 9/11 memorial ceremony today, you appeared visibly unwell and were caught on video collapsing as aides helped you into a van. The footage has gone viral, raising public concern about your health. What do you say to the American people?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1071,
        "fields": {
            "priority": -5,
            "description": "You’ve already confirmed your presence in the customary series of three televised debates with Donald Trump in this election cycle. Given the rather unique nature of your opponent, how do you plan to approach them?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1072,
        "fields": {
            "priority": -4,
            "description": "A video has surfaced of Donald Trump bragging about seducing women, saying he can “grab them by the pussy” because of his fame. Since then, more than a dozen women have come forward accusing him of sexual misconduct. How do you respond?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1074,
        "fields": {
            "priority": -3,
            "description": "Leaked emails recently published by Wikileaks show your campaign appearing to coordinate with members of the Democratic National Committee to undermine Bernie Sanders during the primaries. Some emails even suggest debate questions may have been shared with your team in advance. How do you respond?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1073,
        "fields": {
            "priority": -3,
            "description": "Yesterday, Wikileaks published what they claim is a transcript from one of your paid speeches to a Brazilian bank, where you reportedly said your dream is a “hemispheric common market with open borders and free trade.” How do you respond to this revelation?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1075,
        "fields": {
            "priority": -2,
            "description": "Just 11 days out, FBI Director James Comey announced that new emails possibly relevant to your server investigation have surfaced via the Anthony Weiner probe. Your thoughts on this development?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1076,
        "fields": {
            "priority": -1,
            "description": "Finally, what turned out to be a long and difficult election season is nearing an end. Where do you plan to spend the last days of the campaign?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20847,
        "fields": {
            "priority": 7,
            "description": "During the March Democratic primary debate, you stated that you would not deport any illegal immigrant who has not otherwise committed a crime. Do you still stand by that position?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20870,
        "fields": {
            "priority": 7,
            "description": "Earlier this year, a World Meteorological Organization (WMO) report showed that 2015 was the hottest year in recorded history. With that in mind, what are the next steps that the United States should take to combat global warming?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20914,
        "fields": {
            "priority": 7,
            "description": "College enrollment in the U.S. peaked around 2011, and has been on a steady decline ever since due to, among many reasons, the increasing cost of college tuition and the burden of student loan debt. What measures should be taken to make college more affordable?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20954,
        "fields": {
            "priority": 6,
            "description": "Donald Trump has faced multiple fraud allegations related to Trump University, which critics say scammed vulnerable people out of their savings. Will this be a major focus of your campaign against him?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21090,
        "fields": {
            "priority": 6,
            "description": "In what has been called the “Cuban thaw,” the United States and Cuba began normalizing their relations last year, helped in part thanks to Pope Francis’ support. What is your opinion on this reset?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21114,
        "fields": {
            "priority": 6,
            "description": "After a wave of high-profile killings — from Michael Brown in Ferguson to Eric Garner in New York —, protests erupted nationwide under the name “Black Lives Matter”, calling for police reform and racial justice. What is your position on the Black Lives Matter movement and its calls for reform?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21141,
        "fields": {
            "priority": 6,
            "description": "The hit mobile game “Pokémon Go” has taken the nation by storm. Parks, churches, and even public buildings are flooded with players chasing digital monsters on their phones. What’s your take on this?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21164,
        "fields": {
            "priority": 6,
            "description": "In Flint, Michigan, thousands of residents were exposed to lead-contaminated water after the city switched its water source to the Flint River in 2014. The crisis continued even after complaints arose, and federal attention only came after widespread media coverage. What’s your position on this and what should be done moving forward?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21189,
        "fields": {
            "priority": 6,
            "description": "Donald Trump’s views on economic and budget issues have been described as unconventional, in particular in regard to trade. What message do you wish to emphasize about this throughout the campaign?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21219,
        "fields": {
            "priority": 6,
            "description": "In July, the United Kingdom voted to leave the European Union. Do you believe that the U.K. and other countries should leave the Union for greater independence and control of their trade and borders?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21244,
        "fields": {
            "priority": 6,
            "description": "Immigration has been a particularly hot issue this year. With Trump proposing a border wall on the southern border with Mexico, do you support any type of comprehensive immigration reform, and if so, to what extent?",
            "likelihood": 1
        }
    }
]

campaignTrail_temp.answers_json = [
    {
        "model": "campaign_trail.answer",
        "pk": 5139,
        "fields": {
            "question": 1042,
            "description": "We need to activate our network, lock down major donors, and build out our teams in key states. I’ll spend my time campaigning for fellow Democrats in the 2014 midterms, unite the party, and together, we will end the Bush legacy in 2016 once and for all."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5140,
        "fields": {
            "question": 1042,
            "description": "I’m writing a book on the tough calls I faced as Secretary of State, and I’ll be hitting the road with paid speeches to boost the Clinton Foundation’s global work; I wanna keep my voice out there, you know."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5141,
        "fields": {
            "question": 1042,
            "description": "You know, I think it’s time to narrate the story of my fight, from the days I was First Lady to the present day, to give every American a fair shake. We could especially bring up our country’s hot issues, like healthcare access, fair pay, the environment, and the economy."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5142,
        "fields": {
            "question": 1042,
            "description": "Bring out the Scooby. Bill and I are gonna do a speaking tour of <i>all</i> 50 U.S. states, and highlight a list of the achievements we’ve accomplished for all Americans under him and Obama, naturally. Plus, we’ll get free hot dogs."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5143,
        "fields": {
            "question": 1043,
            "description": "This is a nothingburger. The Republicans know they can’t win debating jobs or college costs, so they and their allies push these distractions. Comey just confirmed there’s no case to pursue. Honestly, it’s time we focused on the real issues."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5144,
        "fields": {
            "question": 1043,
            "description": "Do you remember? Bush and Cheney reportedly lost 20 <i>million</i> emails from their time in office. Meanwhile, I’ve provided far more transparency and turned over my work-related emails. There’s no basis for charges, and this is just another partisan attempt to muddy the waters before the election."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5145,
        "fields": {
            "question": 1043,
            "description": "I mean… I used the same email practices as Colin Powell, and Condi Rice. As Secretary, I spent a lot of my time dealing with the Arab Spring and events in Libya, Russia and Syria. That work was consuming, and I didn’t keep track of how IT was setting up my email system."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5146,
        "fields": {
            "question": 1043,
            "description": "Look, I’ve said before that using a personal email account was a mistake. I take responsibility for that decision. It was allowed, and it was primarily a matter of convenience; it wouldn’t be wise to carry multiple devices with me elsewhere. But in retrospect, it clearly wasn’t the best choice. I wouldn’t do it again."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5147,
        "fields": {
            "question": 1044,
            "description": "This is terrible. Meanwhile, others have used this atrocity to justify their reckless attacks on an entire religion. It’s disgraceful. We are better than that, and we don’t deserve this kind of disrespect from a presidential candidate. "
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5148,
        "fields": {
            "question": 1044,
            "description": "Once again, assault weapons have been used to commit an unspeakable tragedy. We need serious gun reform in this country, and we need it <i>now</i>. Are we just gonna keep waiting for the next tragedy, only to do nothing?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5149,
        "fields": {
            "question": 1044,
            "description": "My heart breaks for the victims, their families, and especially the LGBT+ and Latino communities in Florida. I will be traveling to Orlando to offer my condolences in person. We must respond with compassion, not fear."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5150,
        "fields": {
            "question": 1044,
            "description": "We’re still learning more about the shooter’s motives, but if this was religious terrorism, I condemn it unequivocally. But it’s also clear this was a hate crime against LGBT+ Americans, and our response must be rooted in both justice and solidarity."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5151,
        "fields": {
            "question": 1045,
            "description": "America deserves better. We’ll make college and health care affordable, end child poverty, and get the 1% to pay their fair share. Meanwhile, Republicans keep rigging the system — cutting taxes for the rich, letting billionaires buy elections, and then asking for bailouts. Enough is enough."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5152,
        "fields": {
            "question": 1045,
            "description": "Our party is strong because we fight for working people. We’ll raise the minimum wage, build on Obamacare, create millions of green jobs, and make college affordable. Together, we will lift every American!"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5153,
        "fields": {
            "question": 1045,
            "description": "I will focus on how Donald Trump is reckless, dangerous, and unfit to lead. We cannot let him take our country backward; I am ready to lead and move America forward, together, into a stronger tomorrow."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5154,
        "fields": {
            "question": 1045,
            "description": "I have the experience to grow the economy, strengthen our military, and create millions of high-paying jobs. My credentials speak for themselves. I will be a President for all Americans — Democratic, Republican, and Independent alike."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5155,
        "fields": {
            "question": 1046,
            "description": "I looked for someone with a proven record of getting things done, someone who understands how to make progress for families. Tim Kaine is a dedicated public servant and a real problem-solver, and that’s the kind of experience and spirit I want to bring to the White House."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5156,
        "fields": {
            "question": 1046,
            "description": "I didn’t just want a running mate; I wanted a partner who knows how to get our agenda passed and make a real difference for American families. Tim Kaine has spent his career fighting for those families. He brings us a wealth of experience and knows how to build coalitions. And I know he’s ready to roll up his sleeves with me from the very start."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5157,
        "fields": {
            "question": 1046,
            "description": "Tim Kaine has the deep experience, the sound judgment, and the commitment to the progressive values we share that I was looking for. He’s someone Americans can count on, someone who understands the issues we face, and someone I <i>personally</i> trust completely to be my partner in this work."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5170,
        "fields": {
            "question": 1051,
            "description": "Of course! We had our differences, but Bernie and I fundamentally agree on the need to raise wages, tackle climate change, and make healthcare more affordable. I’d be very happy to share that stage with him."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5171,
        "fields": {
            "question": 1051,
            "description": "I mean, I guess. We don’t really have a choice here. Either way, we gotta show we are united as a party; we can’t just pretend like he doesn’t exist. We can do a couple of appearances with him to show his support for the ticket, and move on to the general election."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5172,
        "fields": {
            "question": 1051,
            "description": "Let’s be honest, not everyone in the general electorate is thrilled by the idea of us moving too far left. We’ll give Bernie some time, but we can’t let our message get muddled there."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5173,
        "fields": {
            "question": 1052,
            "description": "My heart breaks for the people of France and for every family torn apart by this brutal act. I will be giving a speech in the coming days on the values of openness and resilience that must define our response. We should not let fear or hatred divide us."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5174,
        "fields": {
            "question": 1052,
            "description": "This was a cowardly act of terror against innocent civilians. I extend my deepest condolences to the French people, and I will travel to France to express America’s solidarity and support in person."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5175,
        "fields": {
            "question": 1052,
            "description": "The images out of Nice are devastating. We must redouble our efforts to defeat ISIS and confront violent extremism wherever it takes root, and not just with force, but by defending the values that terrorists seek to destroy."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5176,
        "fields": {
            "question": 1053,
            "description": "I mean, do lunar bears shit in the woods? His hateful rhetoric is beyond offensive at this point. He’s not even being provocative anymore, he’s undermining American values! We’re going to call him out on at rallies, on the internet, anywhere we can."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5177,
        "fields": {
            "question": 1053,
            "description": "Trump’s record on a lot of things is appalling, so of course we’re going to talk about it. But we’re also going to show people what the alternative looks like: equal pay, reproductive rights, and <i>real</i> respect, you know?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5178,
        "fields": {
            "question": 1053,
            "description": "We really, really, really shouldn’t give him the attention he wants, it’s pointless. I’d rather win on ideas. If he wants to rant on Twitter at 3 a.m., let him, but I’ll be talking to voters face to face, on the ground, and using the time we have to actually talk to voters."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5179,
        "fields": {
            "question": 1053,
            "description": "We could barely keep up with Sanders’ online presence, and now Trump’s clobbering us on this. The best bet for us to take is to what he does: get free media attention. Is there anywhere we can go in such short time? Wait— on <i>Ellen</i>? Where the hell’s my dumbass PR?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5184,
        "fields": {
            "question": 1055,
            "description": "My husband left office with high approval ratings and presided over strong economic growth. He’s one of our party’s greatest communicators, and there’s no reason not to have him out there making the case with us."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5189,
        "fields": {
            "question": 1057,
            "description": "Well, I stood for $12 in the primaries because I wanted a plan that could pass. But the truth is, workers need more than that! Let’s push for a $15/hour minimum wage as part of our economic agenda."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5190,
        "fields": {
            "question": 1057,
            "description": "Donald Trump has made billions off the backs of working people while opposing fair wages for the rest of us. I believe every worker deserves a living wage, and I’ll make sure the people who punch in every day finally get their fair share."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5191,
        "fields": {
            "question": 1057,
            "description": "Honestly, my campaign is going to focus on judgment, on stability, and on the stakes of American leadership in the world. I support raising the minimum wage, but I’m not just going to let Donald Trump distract voters from the fact that he’s dangerously unfit for office."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5196,
        "fields": {
            "question": 1059,
            "description": "Isn’t it obvious? We’re gonna mention Obama as much as we can, anywhere, anytime. He’s a compelling voice for the future of this country, and I very much welcome his support."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5197,
        "fields": {
            "question": 1059,
            "description": "We definitely need him in the campaign. In particular, I hope he’ll campaign in cities like Charlotte, Detroit, Milwaukee, and other places where he can better energize the coalition that elected him. We <i>need</i> to keep building on that."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5198,
        "fields": {
            "question": 1059,
            "description": "I’m running to lead in a new direction. Of course I’ll campaign with Barack and Michelle, but I can’t just position myself as an Obama third term. There are key differences in our approaches, especially when it comes to economic reform."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5199,
        "fields": {
            "question": 1059,
            "description": "I love Obama as much as anyone, but I think this election needs to go further than defending his legacy. My campaign is about fighting for systemic economic change, and that means elevating other, younger leaders who are speaking to the anger and energy out there."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5200,
        "fields": {
            "question": 1060,
            "description": "It’s vital that we bring everyone together, and that means working closely with Sanders. We’ll be campaigning together frequently, and I’m committed to integrating many of the ideas he championed into our campaign."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5201,
        "fields": {
            "question": 1060,
            "description": "I’m very much looking forward to campaigning alongside Sanders. While we may differ on some approaches, our goals for American families are closely aligned. I was thinking of a joint appearance with him in Michigan, too, to get things going."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5202,
        "fields": {
            "question": 1060,
            "description": "Oh, we absolutely want him on the trail. We’re working together, and I’m certainly open to finding common ground on key issues to ensure our party is united and energized for November. I’m willing to make a few small promises to make that happen."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5203,
        "fields": {
            "question": 1060,
            "description": "I welcome Senator Sanders’ support and believe he can be a powerful voice in this election. The thing is, <i>I</i> won the nomination based on a platform that resonated with millions of Americans. There really is no need for me to beg on my knees for concessions."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5212,
        "fields": {
            "question": 1063,
            "description": "His attacks make no sense because he <i>also</i> supported the war. There’s a clip of him from mid-2002 where he expresses his support for it, see? We gotta nail him on this every time he brings this up."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5213,
        "fields": {
            "question": 1063,
            "description": "Trump’s attacks are illogical. He has no grasp of foreign policy, no strategy, and no consistency at all. We need a president who won’t insult our allies or stumble us into chaos."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5214,
        "fields": {
            "question": 1063,
            "description": "Rumsfeld misled the public with faulty intelligence, and George Bush called it the work of Gog and Magog. I regret my vote, obviously, but how could we have known at the time we were being fooled?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5215,
        "fields": {
            "question": 1063,
            "description": "Honestly, I didn’t take that vote lightly. It was based on the flawed intelligence we had, and the war had many failures, <i>but</i> we also removed a brutal dictator and gave Iraq a chance at democracy. That matters too."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5220,
        "fields": {
            "question": 1065,
            "description": "Absolutely. The Affordable Care Act was always meant to be a foundation, and not the final word. Getting to universal, affordable coverage has been the fight of my life, and I intend to see it through by building on the ACA and bringing down costs for families."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5221,
        "fields": {
            "question": 1065,
            "description": "We saw what happened when the public option was stripped from the final version of the ACA. We need to put that back on the table and pair it with strong investment, cost controls, and enforcement."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5222,
        "fields": {
            "question": 1065,
            "description": "Let me be clear. Trump has vowed to repeal the ACA on day one, and with it, protections for pre-existing conditions, coverage for young people, and subsidies that help millions afford care. Unlike him, I will fight every day to defend and strengthen the ACA."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5223,
        "fields": {
            "question": 1065,
            "description": "The ACA saved millions of lives. It’s one of Barack Obama’s most meaningful legacies, and I’m going to protect it with everything I’ve got."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5224,
        "fields": {
            "question": 1066,
            "description": "That comment was too broad, and I regret the phrasing. Of course not <i>all</i> of Trump’s supporters fall into that category, but I wanted to talk about how his campaign has attracted, and often courted, white nationalists, misogynists, and conspiracy theorists. That can’t happen."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5225,
        "fields": {
            "question": 1066,
            "description": "I was speaking unscripted, and I probably shouldn’t have put a number on it. But I was trying to draw attention to a serious issue: the kind of hate and intolerance that’s been emboldened by Trump’s rhetoric. We can’t ignore that."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5226,
        "fields": {
            "question": 1066,
            "description": "I’ll apologize for that remark when Donald Trump apologizes for calling Mexicans rapists, for mocking a disabled reporter, and for cozying up to white supremacists. Until then, let’s not pretend that both sides have behaved the same."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5227,
        "fields": {
            "question": 1067,
            "description": "It sucks, but I’ve been diagnosed with pneumonia, and I need to take a few days off to rest. Like millions of working Americans, I tried to power through, but I really have to listen to my doctors now."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5228,
        "fields": {
            "question": 1067,
            "description": "Look, I’m human. I had a medical episode, my doctors have released a full report, and I’m recovering well. We can adjust our schedule a bit to be more flexible, and we can use some special guests to help us out, but we still have a lot to discuss."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5229,
        "fields": {
            "question": 1067,
            "description": "I’m fine, really. This was just dehydration. If anything, you’ll see me on the trail <i>twice</i> as much next week. I’m not going anywhere, especially not with Donald Trump trying to drag us backwards."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5230,
        "fields": {
            "question": 1067,
            "description": "No, I’m not going to dignify conspiracy theories and that kind of thing. I felt faint, I got medical attention, and I’m already back on my feet. Can’t you see that? The only thing sick here is the right-wing media’s obsession with my body."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5231,
        "fields": {
            "question": 1068,
            "description": "I support the agreement. Preventing Iran from obtaining a nuclear weapon is paramount, and this deal is our best way to do that. I was part of Obama’s early effort to build the sanctions pressure that brought Iran to the table, and as President, I will vigorously enforce this deal."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5232,
        "fields": {
            "question": 1068,
            "description": "Look, no diplomatic agreement is perfect, and I understand the concerns some people have, but walking away isn’t a solution. We must remain vigilant and push back on Iran’s other destabilizing activities, and this deal stops their path to a bomb."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5233,
        "fields": {
            "question": 1068,
            "description": "My team and I will obviously assess the ongoing implementation and Iran’s compliance within the broader context of regional security. Protecting America is the top priority after all. But right now, I can’t say more than that."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5234,
        "fields": {
            "question": 1068,
            "description": "Let’s consider the alternative. Donald Trump says he’d just tear up the deal. That’s incredibly dangerous. It would isolate the U.S., not Iran, remove all the constraints and inspections we negotiated, and likely put Iran back on a path to a nuclear weapon unchecked."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5242,
        "fields": {
            "question": 1071,
            "description": "Hmm, I know how to get under his skin. I plan to needle him just enough to make him unravel, then let the American people watch him implode. Michael Moore’s telling me it will be perfect. That’s gotta work, right?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5243,
        "fields": {
            "question": 1071,
            "description": "Isn’t it obvious? Donald Trump lies constantly, and so I’m going to hold him accountable. Every time he dodges a question, I’ll bring it back to his broken promises. No way I’m letting him rewrite reality on that stage."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5244,
        "fields": {
            "question": 1071,
            "description": "I gotta use these debates to connect with the real voters and not the pundits. So I’ll be talking about real lives, real families, and how we’re going to bring opportunity back to places like Scranton, Akron, and Tucson. Trump can insult me all he wants, but I’ll be talking to the people."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5245,
        "fields": {
            "question": 1071,
            "description": "We’ve seen how he’s like, so I’m going to focus on policy. I’ll be outlining my plans for the economy, health care, and national security. If Trump wants to rant, well, he can do it alone."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5246,
        "fields": {
            "question": 1072,
            "description": "What the hell. This is just sickening. This isn’t just “locker room talk,” or whatever he claims, this is a man bragging about assault and laughing about it. Are these the values we want in our White House?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5247,
        "fields": {
            "question": 1072,
            "description": "This clip just shows us that Trump is a fake conservative. He doesn’t represent family values or Christian values. Can you see it? He’s bragged about cheating, lying and assaulting women, and shows no regret over it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5248,
        "fields": {
            "question": 1072,
            "description": "Let him shoot himself in the foot. We still have a few weeks ahead of us, and it’s best if we keep making our case directly to the American people."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5249,
        "fields": {
            "question": 1072,
            "description": "As bad as it is, this isn’t an isolated incident. Think about it: his obsession with his own daughter, his Miss Universe comments, that video where he fondles Rudy Giuliani in drag… he is not well. I’m not saying he’s weird, but I’m saying he’s not normal."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5250,
        "fields": {
            "question": 1073,
            "description": "There is missing context here. I was discussing long-term economic theory and potential future scenarios. And let’s be clear about something: these leaks are coming from foreign actors like Russia to interfere in our democratic process."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5251,
        "fields": {
            "question": 1073,
            "description": "Throughout American history, our leaders have understood that diplomacy requires nuance. You know, Abraham Lincoln once said that, sometimes, you need to have a public position and a private position on some issues to drive true progress."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5252,
        "fields": {
            "question": 1073,
            "description": "Let’s talk about what really matters. My opponent has built his entire business empire exploiting workers and outsourcing jobs. The true scandal here is that the Republicans have abandoned their principles to rally behind someone who actively seeks foreign assistance to undermine our election."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5253,
        "fields": {
            "question": 1074,
            "description": "The DNC has already accepted reforms to ensure that it operates with fairness and transparency for all candidates going forward. I get the frustration, but the idea that the nomination was somehow stolen is simply not true. I won fair and square."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5254,
        "fields": {
            "question": 1074,
            "description": "Anyone can see that the concern Republicans have now developed for Sanders and his supporters is laughably fake. I mean, come on. As for the leaked emails, let me be clear: the incidents in question were minor and obviously didn’t impact the outcome."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5255,
        "fields": {
            "question": 1074,
            "description": "I’m amazed that people are treating this as a legitimate issue when Donald Trump is openly encouraging foreign interference in our democracy. He’s praised Putin and invited Russian hackers to attack us. <i>That</i> is the real scandal."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5256,
        "fields": {
            "question": 1075,
            "description": "It’s unprecedented and deeply troubling that Comey would choose to take this step so close to an election. Where is the similar urgency regarding Russian attempts to influence our democracy, or about Trump’s background? This is a blatant political act and the FBI should explain this decision immediately."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5257,
        "fields": {
            "question": 1075,
            "description": "Jesus. This development is, quite frankly, puzzling given the FBI already conducted a thorough review and concluded there was no wrongdoing. I am confident that this will not change their earlier conclusion. We’ll stay focused on making our case to the American people in these crucial final days."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5258,
        "fields": {
            "question": 1076,
            "description": "Our final push will be through Florida, especially Miami-Dade and Orlando. We’re going to emphasize our vision alongside key surrogates who resonate with Latino, Jewish, and African-American voters."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5259,
        "fields": {
            "question": 1076,
            "description": "Let’s take a swing through Michigan, Pennsylvania, and Wisconsin. We’ll stand shoulder-to-shoulder with Sanders and Obama and show we are united and committed against economic inequality."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5260,
        "fields": {
            "question": 1076,
            "description": "Hmm, let’s stump the Southwest corridor: Nevada, Colorado, and a quick stop in Arizona. We should highlight our immigration reform agenda and mobilize the growing Latino electorate that will be key to our victory."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5261,
        "fields": {
            "question": 1076,
            "description": "All roads lead to Philadelphia. We’ll hold a massive rally in Independence Mall and bring together our entire campaign family — especially some key celebrities — to the birthplace of American democracy."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5262,
        "fields": {
            "question": 1077,
            "description": "Come on. I’m running the most progressive campaign in American history, and we’re out here fighting for a higher minimum wage, expanded health care, immigration reform, and real accountability in our policing. You won’t get that from my opponent."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5263,
        "fields": {
            "question": 1077,
            "description": "Tim Kaine is a former Governor, a sitting Senator, and a man of conscience. Anyone can see he’s a progressive Democrat who’s governed successfully, and I believe he’ll help us both win this election and govern effectively once we do."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20690,
        "fields": {
            "question": 1075,
            "description": "Weiner’s laptop? Honestly? You can’t make this stuff up. Look, this is frustrating, but we’ve been through worse. I’ll be cooperating fully, but I’m sure this amounts to nothing, and we’ll get our advisors to highlight this on the media. What else can you do but keep going?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20696,
        "fields": {
            "question": 20695,
            "description": "Voters have a serious choice to make. I understand their concerns about their nominee, but I really don’t believe these protest votes will amount to anything."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20711,
        "fields": {
            "question": 20695,
            "description": "I don’t wanna get involved in this, honestly. But we’d very much welcome support from across the political spectrum! Anyone who believes we need responsible leadership and practical solutions is on my team."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20716,
        "fields": {
            "question": 20715,
            "description": "Well, we’re going to get the wealthy and corporations to pay their fair share. And that’s when we can focus on supporting hardworking people in this country. I pay for everything I’ve proposed so far. Look it up if you don’t believe me."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20725,
        "fields": {
            "question": 20715,
            "description": "It’s all about smart fiscal management. The best way to handle our debt is strong economic growth that lifts everyone. We’ll make targeted investments to grow the economy, and make our finances sustainable long-term."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20731,
        "fields": {
            "question": 20715,
            "description": "Look, my priorities are clear: affordable college, protecting Social Security and Medicare, and caring for our vets. These are crucial investments, and unlike Trump, I’m not gonna use them as bargaining chips."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20736,
        "fields": {
            "question": 20735,
            "description": "Well, I have significant concerns about whether it truly protects American jobs and wages. I’ll insist on a serious re-evaluation and will only move forward if we can renegotiate key aspects to ensure it meets a high bar for American workers and our economy."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20751,
        "fields": {
            "question": 20735,
            "description": "I do not support the TPP as it’s currently written because it doesn’t meet my standards for creating good jobs and raising wages. Furthermore, I’ll implement a pause on new trade deals to ensure we get them right for our country."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20757,
        "fields": {
            "question": 20735,
            "description": "The TPP allows us — and not China — to write the rules in Asia, and it will foster economic growth there and here at home. I stand with Obama’s efforts to pass this agreement, and it will create opportunities for American businesses and workers."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20763,
        "fields": {
            "question": 20735,
            "description": "You see, I initially supported the goal of a high-standard TPP, but the final version unfortunately doesn’t meet the test of creating good jobs and raising wages for Americans. I’m disappointed with some provisions, and for that reason, I cannot support the TPP as it stands."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20777,
        "fields": {
            "question": 20776,
            "description": "I respected Justice Scalia’s intellect and his commitment to the Constitution, even when I deeply disagreed with his rulings. But the President has done his duty, and now it’s time for the Senate to do theirs! Merrick is a qualified, thoughtful jurist and I fully expect the Senate to hold hearings on his nomination."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20798,
        "fields": {
            "question": 20776,
            "description": "Garland is a fine judge, but I believe this is an opportunity to nominate someone who reflects where the country is going — someone young and with a strong record on voting rights, economic justice, and reproductive freedom."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20803,
        "fields": {
            "question": 20776,
            "description": "To be fair, Scalia spent his life trying to drag this country back to the 18th century, so I’m not gonna cry over his empty seat. Let’s issue our support for Garland and get, I don’t know, Sullivan to fetch a list of possible candidates in case his nomination falls apart."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20848,
        "fields": {
            "question": 20847,
            "description": "It’s true that illegal immigration is a real issue. But unlike Trump, I believe we can address it without cruelty. We need a smarter enforcement, and a path to citizenship for people who’ve built their lives here."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20852,
        "fields": {
            "question": 20847,
            "description": "Yes. I will not deport undocumented immigrants who are working, contributing, and following the law in every other way. They deserve a system that recognizes that, you know."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20856,
        "fields": {
            "question": 20847,
            "description": "Have you seen Donald Trump’s proposals? Mass deportations, a border wall that bankrupts taxpayers and alienates our neighbors? His plan would tear apart communities and devastate local economies. That’s not what a President should do."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20863,
        "fields": {
            "question": 20847,
            "description": "Almost. What I said was that I would focus on immigrants who have been here for years and are rooted in their communities. That’s different from saying no enforcement at all."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20871,
        "fields": {
            "question": 20870,
            "description": "I think the best way forward is through American innovation. If we give our workers and businesses the right incentives, I believe we’ll lead the world in clean energy, from solar and wind to beyond."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20893,
        "fields": {
            "question": 20870,
            "description": "A while back I heard of a “Green New Deal”, and I really liked the idea. Climate change is a threat, but we should also use it to rebuild our economy, create good-paying jobs, and invest in infrastructure that’s built to last."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20900,
        "fields": {
            "question": 20870,
            "description": "Trump thinks climate change is a hoax made up by China. Meanwhile, I’m committed to serious emissions cuts, working with international partners, and giving much-needed funding to our scientific institutions."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20907,
        "fields": {
            "question": 20870,
            "description": "I’ve spent my career fighting for environmental progress, and will personally put both Keystone XL and coal mining companies on the chopping block. Trump wants to pull us from the Paris Accords and roll back protections that have kept our air and water clean. The choice is clear."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20915,
        "fields": {
            "question": 20914,
            "description": "Cost should never be a barrier to a college education. That’s why I’m putting forward a $350 billion plan to make college debt-free for working families, and tuition-free for students from low-income backgrounds."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20938,
        "fields": {
            "question": 20914,
            "description": "I’ve been thinking about this issue, and I will make sure that every young person who works hard and comes from a middle-class or struggling family can get a four-year degree without going into debt."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20948,
        "fields": {
            "question": 20914,
            "description": "We have to think bigger picture. For too long, we’ve let trade policy and economic shifts hollow out opportunities for working-class Americans. We need to create jobs for those who don’t attend, too."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20955,
        "fields": {
            "question": 20954,
            "description": "Oh, I’ll be mentioning Trump University in almost every speech I give. Maybe even in my sleep, because it tells you everything you need to know: it’s a fake university with fake promises that caused real people to lose real money. That’s his business model."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20981,
        "fields": {
            "question": 1055,
            "description": "It’s true that he has more campaign experience than a lot of us have, but we’ve learned from earlier in the campaign that our message needs to stay focused. He’ll be involved, but we may scale back his public appearances somewhat."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20988,
        "fields": {
            "question": 1055,
            "description": "I love Bill, but I’m not sure if the voters will like us campaigning together. I gotta keep my independence here. He can support our campaign, but it’s best if we keep him out of the spotlight for now. I’m sure he’ll understand."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 20995,
        "fields": {
            "question": 1069,
            "description": "We can’t just micromanage Syria. It seems like every faction there is entangled in horrors. We should pull back entirely, let the region determine its own outcome, and focus on sending humanitarian aid and accepting more refugees at home."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21001,
        "fields": {
            "question": 1069,
            "description": "Ten thousand refugees are just appallingly low in the face of genocide. We must open our doors to them, and I would seriously consider a sustained bombing campaign targeting ISIS, Assad’s infrastructure, and oil routes funding terror. We cannot allow a failed state to metastasize."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21007,
        "fields": {
            "question": 1069,
            "description": "We need to establish safe zones in Syria and work toward Assad’s exit without dragging the U.S. into another ground war. Domestically, I believe we can and should admit significantly more refugees, particularly women and children, but with proper vetting."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21013,
        "fields": {
            "question": 1069,
            "description": "I’ve seen enough. Have you seen how many journalists were beheaded there last year? Well, I support deploying U.S. troops to eliminate ISIS and stabilize key regions of Syria, while also admitting more refugees here at home. We’re not letting this be a second Rwanda."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21020,
        "fields": {
            "question": 20695,
            "description": "This is great. It feels like a dream, almost. It would be better if, well, you know… we got some of these Republicans to publicly share their support for my campaign. Preferably a high profile one."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21039,
        "fields": {
            "question": 1057,
            "description": "I still support raising the federal minimum wage to $12 an hour, and I’ve always said that states and cities with higher costs of living should go higher. That’s how we build consensus and still get progress."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21055,
        "fields": {
            "question": 20954,
            "description": "There’s a civil fraud case underway, so I think the facts will speak for themselves. I’ll mention it when needed, but we also have a long list of other things to hold him accountable for anyway."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21096,
        "fields": {
            "question": 21090,
            "description": "I fully support Obama’s actions here. The embargo was a Cold War relic that punished ordinary Cubans and isolated the U.S. in the Western Hemisphere. There’s no point for us to be clinging to the past, really."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21102,
        "fields": {
            "question": 21090,
            "description": "It’s good to recall that Cuba is still a dictatorship. I want us to normalize relations, but we need to be clear that, whatever we do next, it needs to have a focus on improving conditions for the Cuban people."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21108,
        "fields": {
            "question": 21090,
            "description": "Honestly, I’m not sure if the Castro regime has earned it. There are still political prisoners rotting in cells. If anything, I think we turned our backs on dissidents by rushing into this deal, and I would take a more measured approach to this."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21115,
        "fields": {
            "question": 21114,
            "description": "Black Lives Matter is a necessary cry for justice. Too many lives have been lost, and too many institutions have looked the other way. It’s about time we had sweeping reforms and take time to reconsider how and where we deploy police in our communities."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21131,
        "fields": {
            "question": 21114,
            "description": "There’s no denying the pain behind these protests. I do think we need better training, transparency, and real consequences when officers cross the line. But let’s not vilify all law enforcement; most officers serve honorably, and we should not be simply burning bridges."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21136,
        "fields": {
            "question": 21114,
            "description": "The violence we’ve seen during these protests is unacceptable. I support the right to peaceful protest, but I also stand with our police officers. We should improve policing, but that shouldn’t come at the cost of public safety or demonizing every man and woman in uniform."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21152,
        "fields": {
            "question": 21141,
            "description": "Frankly, I haven’t played it. There are more pressing concerns in this election than whatever this game is."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21156,
        "fields": {
            "question": 21141,
            "description": "Let people have fun! It’s a game, anything that gets people outside, walking, and maybe even meeting their neighbors can’t be all bad. Plus, I like all these Pokémon."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21160,
        "fields": {
            "question": 21141,
            "description": "Hmm. You know, I just got an idea. What if, in one of our rallies, we encourage voters to Pokémon Go… to the polls?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21165,
        "fields": {
            "question": 21164,
            "description": "No American should have to drink poisoned water in one of the richest countries on Earth. As president, I’ll push for major federal investment to modernize our water systems nationwide, and ensure those responsible for Flint’s crisis are held accountable, both legally and financially."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21177,
        "fields": {
            "question": 21164,
            "description": "You see, from Newark to Jackson, aging infrastructure and ignored communities are a national problem. I’ll work with Congress to create a new public works plan focused on underserved areas like Flint. Let’s make clean water a civil right!"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21183,
        "fields": {
            "question": 21164,
            "description": "While local mismanagement played a big role, federal oversight clearly fell short. We need a stronger EPA, more robust whistleblower protections, and investments to prevent this kind of crisis from ever happening again."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21190,
        "fields": {
            "question": 21189,
            "description": "Republicans always promise that trickle-down economics will work, but it never does. Their policies only enrich the wealthy while driving up deficits. Trump’s gonna do the same thing when he’s elected, but by then, they’ll stop complaining…"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21204,
        "fields": {
            "question": 21189,
            "description": "Trump calls himself different, but he’s pushing the same failed Republican tax cuts for the rich that George Bush tried in the past. We tried this before, and it doesn’t work. That’s the definition of insanity."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21208,
        "fields": {
            "question": 21189,
            "description": "We’ve seen how Trump is completely unqualified and dangerously uninformed about economics, and a lot of issues in general. I’m gonna spend my time on the campaign pointing this out as much as I can, especially in comparison to <i>my</i> experience."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21213,
        "fields": {
            "question": 21189,
            "description": "Honestly, it’s clear that Trump is divisive and corrosive to our democracy. Just look at his attacks on veterans, women, Latino families, and more… we’re gonna bring this up every single time."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21220,
        "fields": {
            "question": 21219,
            "description": "Well, they definitely have the right to leave if they want. I don’t think they should, but it’s not something I can get involved in. It’s not like I’m gonna be on my knees begging for Theresa May to do a second referendum, you know?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21240,
        "fields": {
            "question": 21219,
            "description": "The EU isn’t perfect and needs reforms, but breaking apart our democratic alliances will only benefit our adversaries. I do hope countries will weigh the real costs before making such a decision, and that Britain can rethink this issue later on."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21245,
        "fields": {
            "question": 21244,
            "description": "This is not a time for false choices. We can and must secure our border <i>and</i> provide a pathway to earned citizenship. Real, comprehensive reform does both, and that’s what I’ll fight for."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21253,
        "fields": {
            "question": 21244,
            "description": "We need to be smart and effective, not just build a wall. I do support strong border security, but mass deportations that tear families apart are not the answer. We should focus on violent criminals."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21259,
        "fields": {
            "question": 21244,
            "description": "I am absolutely willing to find common ground on enforcement to build a bipartisan coalition. But let’s be clear: a pathway to full and equal citizenship is the heart of any real solution and is not negotiable."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21264,
        "fields": {
            "question": 21244,
            "description": "Yes, of course. In fact, I will introduce my plan within the first 100 days. This is about keeping families together and ensuring everyone plays by the same rules, which will protect the wages of all American workers."
        }
    }
]

campaignTrail_temp.states_json = [
    {
        "model": "campaign_trail.state",
        "pk": 1000,
        "fields": {
            "name": "Alabama",
            "abbr": "AL",
            "electoral_votes": 9,
            "popular_votes": 2123372,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1001,
        "fields": {
            "name": "Alaska",
            "abbr": "AK",
            "electoral_votes": 3,
            "popular_votes": 318608,
            "poll_closing_time": 420,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1002,
        "fields": {
            "name": "Arizona",
            "abbr": "AZ",
            "electoral_votes": 11,
            "popular_votes": 2604657,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1003,
        "fields": {
            "name": "Arkansas",
            "abbr": "AR",
            "electoral_votes": 6,
            "popular_votes": 1130635,
            "poll_closing_time": 150,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1004,
        "fields": {
            "name": "California",
            "abbr": "CA",
            "electoral_votes": 55,
            "popular_votes": 14237893,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1005,
        "fields": {
            "name": "Colorado",
            "abbr": "CO",
            "electoral_votes": 9,
            "popular_votes": 2780247,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1006,
        "fields": {
            "name": "Connecticut",
            "abbr": "CT",
            "electoral_votes": 7,
            "popular_votes": 1644920,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1007,
        "fields": {
            "name": "Delaware",
            "abbr": "DE",
            "electoral_votes": 3,
            "popular_votes": 443814,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1008,
        "fields": {
            "name": "Florida",
            "abbr": "FL",
            "electoral_votes": 29,
            "popular_votes": 9502747,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1009,
        "fields": {
            "name": "Georgia",
            "abbr": "GA",
            "electoral_votes": 16,
            "popular_votes": 4141447,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1010,
        "fields": {
            "name": "Hawaii",
            "abbr": "HI",
            "electoral_votes": 4,
            "popular_votes": 428937,
            "poll_closing_time": 360,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1011,
        "fields": {
            "name": "Idaho",
            "abbr": "ID",
            "electoral_votes": 4,
            "popular_votes": 690433,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1012,
        "fields": {
            "name": "Illinois",
            "abbr": "IL",
            "electoral_votes": 20,
            "popular_votes": 5594825,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1013,
        "fields": {
            "name": "Indiana",
            "abbr": "IN",
            "electoral_votes": 11,
            "popular_votes": 2757965,
            "poll_closing_time": 0,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1014,
        "fields": {
            "name": "Iowa",
            "abbr": "IA",
            "electoral_votes": 6,
            "popular_votes": 1566031,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1015,
        "fields": {
            "name": "Kansas",
            "abbr": "KS",
            "electoral_votes": 6,
            "popular_votes": 1194755,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1016,
        "fields": {
            "name": "Kentucky",
            "abbr": "KY",
            "electoral_votes": 8,
            "popular_votes": 1924150,
            "poll_closing_time": 0,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1017,
        "fields": {
            "name": "Louisiana",
            "abbr": "LA",
            "electoral_votes": 8,
            "popular_votes": 2029032,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1018,
        "fields": {
            "name": "Maine",
            "abbr": "ME",
            "electoral_votes": 2,
            "popular_votes": 747927,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1019,
        "fields": {
            "name": "Maryland",
            "abbr": "MD",
            "electoral_votes": 10,
            "popular_votes": 2781446,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1020,
        "fields": {
            "name": "Massachusetts",
            "abbr": "MA",
            "electoral_votes": 11,
            "popular_votes": 3325046,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1021,
        "fields": {
            "name": "Michigan",
            "abbr": "MI",
            "electoral_votes": 16,
            "popular_votes": 4824542,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1022,
        "fields": {
            "name": "Minnesota",
            "abbr": "MN",
            "electoral_votes": 10,
            "popular_votes": 2945233,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1023,
        "fields": {
            "name": "Mississippi",
            "abbr": "MS",
            "electoral_votes": 6,
            "popular_votes": 1211088,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1024,
        "fields": {
            "name": "Missouri",
            "abbr": "MO",
            "electoral_votes": 10,
            "popular_votes": 2828266,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1025,
        "fields": {
            "name": "Montana",
            "abbr": "MT",
            "electoral_votes": 3,
            "popular_votes": 501822,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1026,
        "fields": {
            "name": "Nebraska",
            "abbr": "NE",
            "electoral_votes": 2,
            "popular_votes": 844227,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1027,
        "fields": {
            "name": "Nevada",
            "abbr": "NV",
            "electoral_votes": 6,
            "popular_votes": 1125385,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1028,
        "fields": {
            "name": "New Hampshire",
            "abbr": "NH",
            "electoral_votes": 4,
            "popular_votes": 744296,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1029,
        "fields": {
            "name": "New Jersey",
            "abbr": "NJ",
            "electoral_votes": 14,
            "popular_votes": 3906723,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1030,
        "fields": {
            "name": "New Mexico",
            "abbr": "NM",
            "electoral_votes": 5,
            "popular_votes": 798319,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1031,
        "fields": {
            "name": "New York",
            "abbr": "NY",
            "electoral_votes": 29,
            "popular_votes": 7721795,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1032,
        "fields": {
            "name": "North Carolina",
            "abbr": "NC",
            "electoral_votes": 15,
            "popular_votes": 4741564,
            "poll_closing_time": 90,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1033,
        "fields": {
            "name": "North Dakota",
            "abbr": "ND",
            "electoral_votes": 3,
            "popular_votes": 344360,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1034,
        "fields": {
            "name": "Ohio",
            "abbr": "OH",
            "electoral_votes": 18,
            "popular_votes": 5536547,
            "poll_closing_time": 90,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1035,
        "fields": {
            "name": "Oklahoma",
            "abbr": "OK",
            "electoral_votes": 7,
            "popular_votes": 1452992,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1036,
        "fields": {
            "name": "Oregon",
            "abbr": "OR",
            "electoral_votes": 7,
            "popular_votes": 2001336,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1037,
        "fields": {
            "name": "Pennsylvania",
            "abbr": "PA",
            "electoral_votes": 20,
            "popular_votes": 6166729,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1038,
        "fields": {
            "name": "Rhode Island",
            "abbr": "RI",
            "electoral_votes": 4,
            "popular_votes": 464144,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1039,
        "fields": {
            "name": "South Carolina",
            "abbr": "SC",
            "electoral_votes": 9,
            "popular_votes": 2103027,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1040,
        "fields": {
            "name": "South Dakota",
            "abbr": "SD",
            "electoral_votes": 3,
            "popular_votes": 370093,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1041,
        "fields": {
            "name": "Tennessee",
            "abbr": "TN",
            "electoral_votes": 11,
            "popular_votes": 2508027,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1042,
        "fields": {
            "name": "Texas",
            "abbr": "TX",
            "electoral_votes": 38,
            "popular_votes": 8993166,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1043,
        "fields": {
            "name": "Utah",
            "abbr": "UT",
            "electoral_votes": 6,
            "popular_votes": 1143601,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1044,
        "fields": {
            "name": "Vermont",
            "abbr": "VT",
            "electoral_votes": 3,
            "popular_votes": 315067,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1045,
        "fields": {
            "name": "Virginia",
            "abbr": "VA",
            "electoral_votes": 13,
            "popular_votes": 3982752,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1046,
        "fields": {
            "name": "Washington",
            "abbr": "WA",
            "electoral_votes": 12,
            "popular_votes": 3316996,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1047,
        "fields": {
            "name": "Washington DC",
            "abbr": "DC",
            "electoral_votes": 3,
            "popular_votes": 311268,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1048,
        "fields": {
            "name": "West Virginia",
            "abbr": "WV",
            "electoral_votes": 5,
            "popular_votes": 721233,
            "poll_closing_time": 90,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1049,
        "fields": {
            "name": "Wisconsin",
            "abbr": "WI",
            "electoral_votes": 10,
            "popular_votes": 2976150,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1050,
        "fields": {
            "name": "Wyoming",
            "abbr": "WY",
            "electoral_votes": 3,
            "popular_votes": 255849,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
	{
        "model": "campaign_trail.state",
        "pk": 1051,
        "fields": {
            "name": "Nebraska's 1st",
            "abbr": "NE-01",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1052,
        "fields": {
            "name": "Nebraska's 2nd",
            "abbr": "NE-02",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1053,
        "fields": {
            "name": "Nebraska's 3rd",
            "abbr": "NE-03",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1054,
        "fields": {
            "name": "Maine's 1st",
            "abbr": "ME-01",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1055,
        "fields": {
            "name": "Maine's 2nd",
            "abbr": "ME-02",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    }
]

campaignTrail_temp.issues_json = [
    {
        "model": "campaign_trail.issue",
        "pk": 100,
        "fields": {
            "name": "Ideology",
            "description": 0,
            "stance_1": "Very Conservative",
            "stance_desc_1": "Advocates traditional values, limited government, and strict adherence to established norms.",
            "stance_2": "Conservative",
            "stance_desc_2": "Favors small government and tradition but open to modest change.",
            "stance_3": "Leans Conservative",
            "stance_desc_3": "Balances tradition with some pragmatic reforms.",
            "stance_4": "Moderate",
            "stance_desc_4": "Takes a middle-ground approach, blending both conservative and liberal ideas.",
            "stance_5": "Leans Liberal",
            "stance_desc_5": "Supports progressive reforms with a focus on practicality.",
            "stance_6": "Liberal",
            "stance_desc_6": "Champions social equality, government intervention, and change.",
            "stance_7": "Very Liberal",
            "stance_desc_7": "Pushes bold, transformative policies and expansive government roles.",
            "election": 20
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 101,
        "fields": {
            "name": "Trade",
            "description": 0,
            "stance_1": "Open Markets",
            "stance_desc_1": "Promotes free trade agreements like the TPP, minimal tariffs, and global market access.",
            "stance_2": "Mostly Open",
            "stance_desc_2": "Supports free trade with some regulatory oversight, like labor and environmental standards.",
            "stance_3": "Leans Open",
            "stance_desc_3": "Favors trade deals but with protections for American workers and industries.",
            "stance_4": "Moderate",
            "stance_desc_4": "Takes a case-by-case approach to trade policies.",
            "stance_5": "Leans Protectionist",
            "stance_desc_5": "Prioritizes domestic industries with targeted tariffs.",
            "stance_6": "Protectionist",
            "stance_desc_6": "Emphasizes strong protectionism and renegotiating deals like NAFTA to favor US jobs.",
            "stance_7": "Very Protectionist",
            "stance_desc_7": "Advocates for strict trade restrictions, aiming for self-sufficiency and minimal reliance on imports.",
            "election": 20
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 102,
        "fields": {
            "name": "Foreign Policy",
            "description": 0,
            "stance_1": "Aggressive",
            "stance_desc_1": "Supports preemptive military action and strong global leadership, like NATO expansion.",
            "stance_2": "Hawkish",
            "stance_desc_2": "Favors robust military engagement with selective interventions, like against ISIS.",
            "stance_3": "Assertive",
            "stance_desc_3": "Backs active diplomacy backed by military readiness.",
            "stance_4": "Moderate",
            "stance_desc_4": "Balances diplomacy and force, preferring to focus on multilateral coalitions instead.",
            "stance_5": "Cautious",
            "stance_desc_5": "Prefers diplomacy, using force only when directly threatened.",
            "stance_6": "Non-Interventionist",
            "stance_desc_6": "Avoids foreign conflicts unless vital. More America, less NATO.",
            "stance_7": "Isolationist",
            "stance_desc_7": "Commits to strict non-involvement in international conflicts, avoiding entanglements abroad.",
            "election": 20
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 103,
        "fields": {
            "name": "Social Issues",
            "description": 0,
            "stance_1": "Very Conservative",
            "stance_desc_1": "Upholds traditional social norms and resists changes to established societal structures.​",
            "stance_2": "Conservative",
            "stance_desc_2": "Supports conservative social policies with limited acceptance of progressive changes.",
            "stance_3": "Leans Conservative",
            "stance_desc_3": "Generally conservative but open to certain liberal reforms in social policies.",
            "stance_4": "Moderate",
            "stance_desc_4": "Seeks a middle ground, integrating both conservative and liberal perspectives on social issues.",
            "stance_5": "Leans Liberal",
            "stance_desc_5": "Leans liberal, promoting progressive social policies while acknowledging some traditional values.",
            "stance_6": "Liberal",
            "stance_desc_6": "Supports liberal social reforms with little emphasis on traditional norms.",
            "stance_7": "Very Liberal",
            "stance_desc_7": "Advocates for comprehensive progressive changes in social policies, emphasizing inclusivity and diversity.​",
            "election": 20
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 104,
        "fields": {
            "name": "Immigration",
            "description": 0,
            "stance_1": "Very Conservative",
            "stance_desc_1": "Advocates for strict immigration controls, including limited quotas and enhanced border security.",
            "stance_2": "Conservative",
            "stance_desc_2": "Supports tight immigration policies with some provisions for skilled workers.",
            "stance_3": "Leans Conservative",
            "stance_desc_3": "Favors moderate restrictions, allowing for family reunification and select immigration pathways.",
            "stance_4": "Moderate",
            "stance_desc_4": "Seeks a balanced approach, combining border security with humane immigration policies.",
            "stance_5": "Leans Liberal",
            "stance_desc_5": "Leans towards more open immigration, simplifying processes for refugees and economic migrants.",
            "stance_6": "Liberal",
            "stance_desc_6": "Supports liberal immigration policies, emphasizing multiculturalism and broad acceptance criteria.​",
            "stance_7": "Very Liberal",
            "stance_desc_7": "Advocates for open borders, with minimal restrictions on movement and residency.",
            "election": 20
        }
    }
]

campaignTrail_temp.state_issue_score_json = [
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3000,
        "fields": {
            "state": 1000,
            "issue": 100,
            "state_issue_score": -0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3001,
        "fields": {
            "state": 1000,
            "issue": 101,
            "state_issue_score": -0.35,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3002,
        "fields": {
            "state": 1000,
            "issue": 102,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3003,
        "fields": {
            "state": 1000,
            "issue": 103,
            "state_issue_score": -0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3004,
        "fields": {
            "state": 1000,
            "issue": 104,
            "state_issue_score": -0.55,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3005,
        "fields": {
            "state": 1001,
            "issue": 100,
            "state_issue_score": -0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3006,
        "fields": {
            "state": 1001,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3007,
        "fields": {
            "state": 1001,
            "issue": 102,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3008,
        "fields": {
            "state": 1001,
            "issue": 103,
            "state_issue_score": 0.15,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3009,
        "fields": {
            "state": 1001,
            "issue": 104,
            "state_issue_score": -0.05,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3010,
        "fields": {
            "state": 1002,
            "issue": 100,
            "state_issue_score": -0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3011,
        "fields": {
            "state": 1002,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3012,
        "fields": {
            "state": 1002,
            "issue": 102,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3013,
        "fields": {
            "state": 1002,
            "issue": 103,
            "state_issue_score": 0.15,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3014,
        "fields": {
            "state": 1002,
            "issue": 104,
            "state_issue_score": 0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3015,
        "fields": {
            "state": 1003,
            "issue": 100,
            "state_issue_score": -0.75,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3016,
        "fields": {
            "state": 1003,
            "issue": 101,
            "state_issue_score": -0.35,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3017,
        "fields": {
            "state": 1003,
            "issue": 102,
            "state_issue_score": -0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3018,
        "fields": {
            "state": 1003,
            "issue": 103,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3019,
        "fields": {
            "state": 1003,
            "issue": 104,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3020,
        "fields": {
            "state": 1004,
            "issue": 100,
            "state_issue_score": 0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3021,
        "fields": {
            "state": 1004,
            "issue": 101,
            "state_issue_score": -0.6,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3022,
        "fields": {
            "state": 1004,
            "issue": 102,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3023,
        "fields": {
            "state": 1004,
            "issue": 103,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3024,
        "fields": {
            "state": 1004,
            "issue": 104,
            "state_issue_score": 0.55,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3025,
        "fields": {
            "state": 1005,
            "issue": 100,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3026,
        "fields": {
            "state": 1005,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3027,
        "fields": {
            "state": 1005,
            "issue": 102,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3028,
        "fields": {
            "state": 1005,
            "issue": 103,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3029,
        "fields": {
            "state": 1005,
            "issue": 104,
            "state_issue_score": 0.35,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3030,
        "fields": {
            "state": 1006,
            "issue": 100,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3031,
        "fields": {
            "state": 1006,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3032,
        "fields": {
            "state": 1006,
            "issue": 102,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3033,
        "fields": {
            "state": 1006,
            "issue": 103,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3034,
        "fields": {
            "state": 1006,
            "issue": 104,
            "state_issue_score": 0.5,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3035,
        "fields": {
            "state": 1007,
            "issue": 100,
            "state_issue_score": 0.375,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3036,
        "fields": {
            "state": 1007,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3037,
        "fields": {
            "state": 1007,
            "issue": 102,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3038,
        "fields": {
            "state": 1007,
            "issue": 103,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3039,
        "fields": {
            "state": 1007,
            "issue": 104,
            "state_issue_score": 0.45,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3040,
        "fields": {
            "state": 1008,
            "issue": 100,
            "state_issue_score": -0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3041,
        "fields": {
            "state": 1008,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3042,
        "fields": {
            "state": 1008,
            "issue": 102,
            "state_issue_score": -0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3043,
        "fields": {
            "state": 1008,
            "issue": 103,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3044,
        "fields": {
            "state": 1008,
            "issue": 104,
            "state_issue_score": 0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3045,
        "fields": {
            "state": 1009,
            "issue": 100,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3046,
        "fields": {
            "state": 1009,
            "issue": 101,
            "state_issue_score": -0.45,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3047,
        "fields": {
            "state": 1009,
            "issue": 102,
            "state_issue_score": -0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3048,
        "fields": {
            "state": 1009,
            "issue": 103,
            "state_issue_score": -0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3049,
        "fields": {
            "state": 1009,
            "issue": 104,
            "state_issue_score": 0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3050,
        "fields": {
            "state": 1010,
            "issue": 100,
            "state_issue_score": 0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3051,
        "fields": {
            "state": 1010,
            "issue": 101,
            "state_issue_score": -0.6,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3052,
        "fields": {
            "state": 1010,
            "issue": 102,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3053,
        "fields": {
            "state": 1010,
            "issue": 103,
            "state_issue_score": 0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3054,
        "fields": {
            "state": 1010,
            "issue": 104,
            "state_issue_score": 0.6,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3055,
        "fields": {
            "state": 1011,
            "issue": 100,
            "state_issue_score": -0.8,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3056,
        "fields": {
            "state": 1011,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3057,
        "fields": {
            "state": 1011,
            "issue": 102,
            "state_issue_score": -0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3058,
        "fields": {
            "state": 1011,
            "issue": 103,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3059,
        "fields": {
            "state": 1011,
            "issue": 104,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3060,
        "fields": {
            "state": 1012,
            "issue": 100,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3061,
        "fields": {
            "state": 1012,
            "issue": 101,
            "state_issue_score": -0.25,
            "weight": 0.75
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3062,
        "fields": {
            "state": 1012,
            "issue": 102,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3063,
        "fields": {
            "state": 1012,
            "issue": 103,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3064,
        "fields": {
            "state": 1012,
            "issue": 104,
            "state_issue_score": 0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3065,
        "fields": {
            "state": 1013,
            "issue": 100,
            "state_issue_score": -0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3066,
        "fields": {
            "state": 1013,
            "issue": 101,
            "state_issue_score": -0.25,
            "weight": 0.75
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3067,
        "fields": {
            "state": 1013,
            "issue": 102,
            "state_issue_score": -0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3068,
        "fields": {
            "state": 1013,
            "issue": 103,
            "state_issue_score": -0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3069,
        "fields": {
            "state": 1013,
            "issue": 104,
            "state_issue_score": -0.33,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3070,
        "fields": {
            "state": 1014,
            "issue": 100,
            "state_issue_score": -0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3071,
        "fields": {
            "state": 1014,
            "issue": 101,
            "state_issue_score": -0.55,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3072,
        "fields": {
            "state": 1014,
            "issue": 102,
            "state_issue_score": -0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3073,
        "fields": {
            "state": 1014,
            "issue": 103,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3074,
        "fields": {
            "state": 1014,
            "issue": 104,
            "state_issue_score": -0.3,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3075,
        "fields": {
            "state": 1015,
            "issue": 100,
            "state_issue_score": -0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3076,
        "fields": {
            "state": 1015,
            "issue": 101,
            "state_issue_score": -0.55,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3077,
        "fields": {
            "state": 1015,
            "issue": 102,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3078,
        "fields": {
            "state": 1015,
            "issue": 103,
            "state_issue_score": -0.15,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3079,
        "fields": {
            "state": 1015,
            "issue": 104,
            "state_issue_score": 0,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3080,
        "fields": {
            "state": 1016,
            "issue": 100,
            "state_issue_score": -0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3081,
        "fields": {
            "state": 1016,
            "issue": 101,
            "state_issue_score": -0.25,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3082,
        "fields": {
            "state": 1016,
            "issue": 102,
            "state_issue_score": -0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3083,
        "fields": {
            "state": 1016,
            "issue": 103,
            "state_issue_score": -0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3084,
        "fields": {
            "state": 1016,
            "issue": 104,
            "state_issue_score": -0.45,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3085,
        "fields": {
            "state": 1017,
            "issue": 100,
            "state_issue_score": -0.675,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3086,
        "fields": {
            "state": 1017,
            "issue": 101,
            "state_issue_score": -0.45,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3087,
        "fields": {
            "state": 1017,
            "issue": 102,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3088,
        "fields": {
            "state": 1017,
            "issue": 103,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3089,
        "fields": {
            "state": 1017,
            "issue": 104,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3090,
        "fields": {
            "state": 1018,
            "issue": 100,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3091,
        "fields": {
            "state": 1018,
            "issue": 101,
            "state_issue_score": 0,
            "weight": 0.75
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3092,
        "fields": {
            "state": 1018,
            "issue": 102,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3093,
        "fields": {
            "state": 1018,
            "issue": 103,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3094,
        "fields": {
            "state": 1018,
            "issue": 104,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3095,
        "fields": {
            "state": 1019,
            "issue": 100,
            "state_issue_score": 0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3096,
        "fields": {
            "state": 1019,
            "issue": 101,
            "state_issue_score": -0.25,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3097,
        "fields": {
            "state": 1019,
            "issue": 102,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3098,
        "fields": {
            "state": 1019,
            "issue": 103,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3099,
        "fields": {
            "state": 1019,
            "issue": 104,
            "state_issue_score": 0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3100,
        "fields": {
            "state": 1020,
            "issue": 100,
            "state_issue_score": 0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3101,
        "fields": {
            "state": 1020,
            "issue": 101,
            "state_issue_score": -0.35,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3102,
        "fields": {
            "state": 1020,
            "issue": 102,
            "state_issue_score": 0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3103,
        "fields": {
            "state": 1020,
            "issue": 103,
            "state_issue_score": 0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3104,
        "fields": {
            "state": 1020,
            "issue": 104,
            "state_issue_score": 0.6,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3105,
        "fields": {
            "state": 1021,
            "issue": 100,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3106,
        "fields": {
            "state": 1021,
            "issue": 101,
            "state_issue_score": 0.4,
            "weight": 2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3107,
        "fields": {
            "state": 1021,
            "issue": 102,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3108,
        "fields": {
            "state": 1021,
            "issue": 103,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3109,
        "fields": {
            "state": 1021,
            "issue": 104,
            "state_issue_score": -0.3,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3110,
        "fields": {
            "state": 1022,
            "issue": 100,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3111,
        "fields": {
            "state": 1022,
            "issue": 101,
            "state_issue_score": 0,
            "weight": 0.75
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3112,
        "fields": {
            "state": 1022,
            "issue": 102,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3113,
        "fields": {
            "state": 1022,
            "issue": 103,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3114,
        "fields": {
            "state": 1022,
            "issue": 104,
            "state_issue_score": -0.25,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3115,
        "fields": {
            "state": 1023,
            "issue": 100,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3116,
        "fields": {
            "state": 1023,
            "issue": 101,
            "state_issue_score": -0.4,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3117,
        "fields": {
            "state": 1023,
            "issue": 102,
            "state_issue_score": -0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3118,
        "fields": {
            "state": 1023,
            "issue": 103,
            "state_issue_score": -0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3119,
        "fields": {
            "state": 1023,
            "issue": 104,
            "state_issue_score": -0.5,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3120,
        "fields": {
            "state": 1024,
            "issue": 100,
            "state_issue_score": -0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3121,
        "fields": {
            "state": 1024,
            "issue": 101,
            "state_issue_score": -0.3,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3122,
        "fields": {
            "state": 1024,
            "issue": 102,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3123,
        "fields": {
            "state": 1024,
            "issue": 103,
            "state_issue_score": -0.05,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3124,
        "fields": {
            "state": 1024,
            "issue": 104,
            "state_issue_score": -0.25,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3125,
        "fields": {
            "state": 1025,
            "issue": 100,
            "state_issue_score": -0.75,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3126,
        "fields": {
            "state": 1025,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3127,
        "fields": {
            "state": 1025,
            "issue": 102,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3128,
        "fields": {
            "state": 1025,
            "issue": 103,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3129,
        "fields": {
            "state": 1025,
            "issue": 104,
            "state_issue_score": -0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3130,
        "fields": {
            "state": 1026,
            "issue": 100,
            "state_issue_score": -0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3131,
        "fields": {
            "state": 1026,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3132,
        "fields": {
            "state": 1026,
            "issue": 102,
            "state_issue_score": -0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3133,
        "fields": {
            "state": 1026,
            "issue": 103,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3134,
        "fields": {
            "state": 1026,
            "issue": 104,
            "state_issue_score": -0.25,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3135,
        "fields": {
            "state": 1027,
            "issue": 100,
            "state_issue_score": -0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3136,
        "fields": {
            "state": 1027,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3137,
        "fields": {
            "state": 1027,
            "issue": 102,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3138,
        "fields": {
            "state": 1027,
            "issue": 103,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3139,
        "fields": {
            "state": 1027,
            "issue": 104,
            "state_issue_score": 0.05,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3140,
        "fields": {
            "state": 1028,
            "issue": 100,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3141,
        "fields": {
            "state": 1028,
            "issue": 101,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3142,
        "fields": {
            "state": 1028,
            "issue": 102,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3143,
        "fields": {
            "state": 1028,
            "issue": 103,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3144,
        "fields": {
            "state": 1028,
            "issue": 104,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3145,
        "fields": {
            "state": 1029,
            "issue": 100,
            "state_issue_score": 0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3146,
        "fields": {
            "state": 1029,
            "issue": 101,
            "state_issue_score": -0.4,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3147,
        "fields": {
            "state": 1029,
            "issue": 102,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3148,
        "fields": {
            "state": 1029,
            "issue": 103,
            "state_issue_score": 0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3149,
        "fields": {
            "state": 1029,
            "issue": 104,
            "state_issue_score": 0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3150,
        "fields": {
            "state": 1030,
            "issue": 100,
            "state_issue_score": 0.15,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3151,
        "fields": {
            "state": 1030,
            "issue": 101,
            "state_issue_score": -0.45,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3152,
        "fields": {
            "state": 1030,
            "issue": 102,
            "state_issue_score": 0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3153,
        "fields": {
            "state": 1030,
            "issue": 103,
            "state_issue_score": 0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3154,
        "fields": {
            "state": 1030,
            "issue": 104,
            "state_issue_score": 0.33,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3155,
        "fields": {
            "state": 1031,
            "issue": 100,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3156,
        "fields": {
            "state": 1031,
            "issue": 101,
            "state_issue_score": -0.15,
            "weight": 0.75
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3157,
        "fields": {
            "state": 1031,
            "issue": 102,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3158,
        "fields": {
            "state": 1031,
            "issue": 103,
            "state_issue_score": 0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3159,
        "fields": {
            "state": 1031,
            "issue": 104,
            "state_issue_score": 0.575,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3160,
        "fields": {
            "state": 1032,
            "issue": 100,
            "state_issue_score": -0.375,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3161,
        "fields": {
            "state": 1032,
            "issue": 101,
            "state_issue_score": -0.4,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3162,
        "fields": {
            "state": 1032,
            "issue": 102,
            "state_issue_score": -0.15,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3163,
        "fields": {
            "state": 1032,
            "issue": 103,
            "state_issue_score": -0.05,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3164,
        "fields": {
            "state": 1032,
            "issue": 104,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3165,
        "fields": {
            "state": 1033,
            "issue": 100,
            "state_issue_score": -0.475,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3166,
        "fields": {
            "state": 1033,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3167,
        "fields": {
            "state": 1033,
            "issue": 102,
            "state_issue_score": -0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3168,
        "fields": {
            "state": 1033,
            "issue": 103,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3169,
        "fields": {
            "state": 1033,
            "issue": 104,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3170,
        "fields": {
            "state": 1034,
            "issue": 100,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3171,
        "fields": {
            "state": 1034,
            "issue": 101,
            "state_issue_score": 0.25,
            "weight": 3
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3172,
        "fields": {
            "state": 1034,
            "issue": 102,
            "state_issue_score": -0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3173,
        "fields": {
            "state": 1034,
            "issue": 103,
            "state_issue_score": -0.05,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3174,
        "fields": {
            "state": 1034,
            "issue": 104,
            "state_issue_score": -0.25,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3175,
        "fields": {
            "state": 1035,
            "issue": 100,
            "state_issue_score": -0.8,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3176,
        "fields": {
            "state": 1035,
            "issue": 101,
            "state_issue_score": -0.45,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3177,
        "fields": {
            "state": 1035,
            "issue": 102,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3178,
        "fields": {
            "state": 1035,
            "issue": 103,
            "state_issue_score": -0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3179,
        "fields": {
            "state": 1035,
            "issue": 104,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3180,
        "fields": {
            "state": 1036,
            "issue": 100,
            "state_issue_score": 0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3181,
        "fields": {
            "state": 1036,
            "issue": 101,
            "state_issue_score": -0.15,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3182,
        "fields": {
            "state": 1036,
            "issue": 102,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3183,
        "fields": {
            "state": 1036,
            "issue": 103,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3184,
        "fields": {
            "state": 1036,
            "issue": 104,
            "state_issue_score": 0.45,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3185,
        "fields": {
            "state": 1037,
            "issue": 100,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3186,
        "fields": {
            "state": 1037,
            "issue": 101,
            "state_issue_score": 0.25,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3187,
        "fields": {
            "state": 1037,
            "issue": 102,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3188,
        "fields": {
            "state": 1037,
            "issue": 103,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3189,
        "fields": {
            "state": 1037,
            "issue": 104,
            "state_issue_score": -0.15,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3190,
        "fields": {
            "state": 1038,
            "issue": 100,
            "state_issue_score": 0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3191,
        "fields": {
            "state": 1038,
            "issue": 101,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3192,
        "fields": {
            "state": 1038,
            "issue": 102,
            "state_issue_score": 0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3193,
        "fields": {
            "state": 1038,
            "issue": 103,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3194,
        "fields": {
            "state": 1038,
            "issue": 104,
            "state_issue_score": 0.55,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3195,
        "fields": {
            "state": 1039,
            "issue": 100,
            "state_issue_score": -0.575,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3196,
        "fields": {
            "state": 1039,
            "issue": 101,
            "state_issue_score": -0.45,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3197,
        "fields": {
            "state": 1039,
            "issue": 102,
            "state_issue_score": -0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3198,
        "fields": {
            "state": 1039,
            "issue": 103,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3199,
        "fields": {
            "state": 1039,
            "issue": 104,
            "state_issue_score": -0.375,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3200,
        "fields": {
            "state": 1040,
            "issue": 100,
            "state_issue_score": -0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3201,
        "fields": {
            "state": 1040,
            "issue": 101,
            "state_issue_score": -0.55,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3202,
        "fields": {
            "state": 1040,
            "issue": 102,
            "state_issue_score": -0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3203,
        "fields": {
            "state": 1040,
            "issue": 103,
            "state_issue_score": -0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3204,
        "fields": {
            "state": 1040,
            "issue": 104,
            "state_issue_score": -0.45,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3205,
        "fields": {
            "state": 1041,
            "issue": 100,
            "state_issue_score": -0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3206,
        "fields": {
            "state": 1041,
            "issue": 101,
            "state_issue_score": -0.35,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3207,
        "fields": {
            "state": 1041,
            "issue": 102,
            "state_issue_score": -0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3208,
        "fields": {
            "state": 1041,
            "issue": 103,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3209,
        "fields": {
            "state": 1041,
            "issue": 104,
            "state_issue_score": -0.5,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3210,
        "fields": {
            "state": 1042,
            "issue": 100,
            "state_issue_score": -0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3211,
        "fields": {
            "state": 1042,
            "issue": 101,
            "state_issue_score": -0.45,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3212,
        "fields": {
            "state": 1042,
            "issue": 102,
            "state_issue_score": -0.45,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3213,
        "fields": {
            "state": 1042,
            "issue": 103,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3214,
        "fields": {
            "state": 1042,
            "issue": 104,
            "state_issue_score": 0.15,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3215,
        "fields": {
            "state": 1043,
            "issue": 100,
            "state_issue_score": -0.9,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3216,
        "fields": {
            "state": 1043,
            "issue": 101,
            "state_issue_score": -0.6,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3217,
        "fields": {
            "state": 1043,
            "issue": 102,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3218,
        "fields": {
            "state": 1043,
            "issue": 103,
            "state_issue_score": -0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3219,
        "fields": {
            "state": 1043,
            "issue": 104,
            "state_issue_score": 0,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3220,
        "fields": {
            "state": 1044,
            "issue": 100,
            "state_issue_score": 0.75,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3221,
        "fields": {
            "state": 1044,
            "issue": 101,
            "state_issue_score": -0.15,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3222,
        "fields": {
            "state": 1044,
            "issue": 102,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3223,
        "fields": {
            "state": 1044,
            "issue": 103,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3224,
        "fields": {
            "state": 1044,
            "issue": 104,
            "state_issue_score": -0.05,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3225,
        "fields": {
            "state": 1045,
            "issue": 100,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3226,
        "fields": {
            "state": 1045,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3227,
        "fields": {
            "state": 1045,
            "issue": 102,
            "state_issue_score": -0.15,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3228,
        "fields": {
            "state": 1045,
            "issue": 103,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3229,
        "fields": {
            "state": 1045,
            "issue": 104,
            "state_issue_score": -0.05,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3230,
        "fields": {
            "state": 1046,
            "issue": 100,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3231,
        "fields": {
            "state": 1046,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3232,
        "fields": {
            "state": 1046,
            "issue": 102,
            "state_issue_score": 0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3233,
        "fields": {
            "state": 1046,
            "issue": 103,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3234,
        "fields": {
            "state": 1046,
            "issue": 104,
            "state_issue_score": 0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3235,
        "fields": {
            "state": 1047,
            "issue": 100,
            "state_issue_score": 0.95,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3236,
        "fields": {
            "state": 1047,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3237,
        "fields": {
            "state": 1047,
            "issue": 102,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3238,
        "fields": {
            "state": 1047,
            "issue": 103,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3239,
        "fields": {
            "state": 1047,
            "issue": 104,
            "state_issue_score": 0.5,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3240,
        "fields": {
            "state": 1048,
            "issue": 100,
            "state_issue_score": -0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3241,
        "fields": {
            "state": 1048,
            "issue": 101,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3242,
        "fields": {
            "state": 1048,
            "issue": 102,
            "state_issue_score": -0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3243,
        "fields": {
            "state": 1048,
            "issue": 103,
            "state_issue_score": -0.55,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3244,
        "fields": {
            "state": 1048,
            "issue": 104,
            "state_issue_score": -0.625,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3245,
        "fields": {
            "state": 1049,
            "issue": 100,
            "state_issue_score": -0.125,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3246,
        "fields": {
            "state": 1049,
            "issue": 101,
            "state_issue_score": 0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3247,
        "fields": {
            "state": 1049,
            "issue": 102,
            "state_issue_score": 0.05,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3248,
        "fields": {
            "state": 1049,
            "issue": 103,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3249,
        "fields": {
            "state": 1049,
            "issue": 104,
            "state_issue_score": -0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3250,
        "fields": {
            "state": 1050,
            "issue": 100,
            "state_issue_score": -0.85,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3251,
        "fields": {
            "state": 1050,
            "issue": 101,
            "state_issue_score": -0.5,
            "weight": 0.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3252,
        "fields": {
            "state": 1050,
            "issue": 102,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3253,
        "fields": {
            "state": 1050,
            "issue": 103,
            "state_issue_score": -0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3254,
        "fields": {
            "state": 1050,
            "issue": 104,
            "state_issue_score": -0.75,
            "weight": 1.5
        }
    },
	 {
        "model": "campaign_trail.state_issue_score",
        "pk": 21091,
        "fields": {
            "state": 1051,
            "issue": 100,
            "state_issue_score": -0.3,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21092,
        "fields": {
            "state": 1051,
            "issue": 101,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21093,
        "fields": {
            "state": 1051,
            "issue": 102,
            "state_issue_score": -0.3,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21094,
        "fields": {
            "state": 1051,
            "issue": 103,
            "state_issue_score": -0.15,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21095,
        "fields": {
            "state": 1051,
            "issue": 104,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21101,
        "fields": {
            "state": 1052,
            "issue": 100,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21102,
        "fields": {
            "state": 1052,
            "issue": 101,
            "state_issue_score": -0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21103,
        "fields": {
            "state": 1052,
            "issue": 102,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21104,
        "fields": {
            "state": 1052,
            "issue": 103,
            "state_issue_score": 0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21105,
        "fields": {
            "state": 1052,
            "issue": 104,
            "state_issue_score": -0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21111,
        "fields": {
            "state": 1053,
            "issue": 100,
            "state_issue_score": -0.6,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21112,
        "fields": {
            "state": 1053,
            "issue": 101,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21113,
        "fields": {
            "state": 1053,
            "issue": 102,
            "state_issue_score": -0.4,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21114,
        "fields": {
            "state": 1053,
            "issue": 103,
            "state_issue_score": -0.6,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21115,
        "fields": {
            "state": 1053,
            "issue": 104,
            "state_issue_score": -0.3,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21121,
        "fields": {
            "state": 1054,
            "issue": 100,
            "state_issue_score": 0.5,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21122,
        "fields": {
            "state": 1054,
            "issue": 101,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21123,
        "fields": {
            "state": 1054,
            "issue": 102,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21124,
        "fields": {
            "state": 1054,
            "issue": 103,
            "state_issue_score": 0.5,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21125,
        "fields": {
            "state": 1054,
            "issue": 104,
            "state_issue_score": 0.5,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21131,
        "fields": {
            "state": 1055,
            "issue": 100,
            "state_issue_score": -0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21132,
        "fields": {
            "state": 1055,
            "issue": 101,
            "state_issue_score": 0.2,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21133,
        "fields": {
            "state": 1055,
            "issue": 102,
            "state_issue_score": -0.3,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21134,
        "fields": {
            "state": 1055,
            "issue": 103,
            "state_issue_score": -0.1,
            "weight": 1.5
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21135,
        "fields": {
            "state": 1055,
            "issue": 104,
            "state_issue_score": -0.2,
            "weight": 1.5
        }
    }
]

campaignTrail_temp.candidate_issue_score_json = [
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1000,
        "fields": {
            "candidate": 200,
            "issue": 100,
            "issue_score": -0.4
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1001,
        "fields": {
            "candidate": 200,
            "issue": 101,
            "issue_score": 0.5
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1002,
        "fields": {
            "candidate": 200,
            "issue": 102,
            "issue_score": 0.1
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1003,
        "fields": {
            "candidate": 200,
            "issue": 103,
            "issue_score": -0.5
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1004,
        "fields": {
            "candidate": 200,
            "issue": 104,
            "issue_score": -0.6
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1005,
        "fields": {
            "candidate": 201,
            "issue": 100,
            "issue_score": 0.35
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1006,
        "fields": {
            "candidate": 201,
            "issue": 101,
            "issue_score": -0.3
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1007,
        "fields": {
            "candidate": 201,
            "issue": 102,
            "issue_score": 0
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1008,
        "fields": {
            "candidate": 201,
            "issue": 103,
            "issue_score": 0.55
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1009,
        "fields": {
            "candidate": 201,
            "issue": 104,
            "issue_score": 0.55
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1010,
        "fields": {
            "candidate": 202,
            "issue": 100,
            "issue_score": -0.5
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1011,
        "fields": {
            "candidate": 202,
            "issue": 101,
            "issue_score": -0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1012,
        "fields": {
            "candidate": 202,
            "issue": 102,
            "issue_score": 0.6
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1013,
        "fields": {
            "candidate": 202,
            "issue": 103,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1014,
        "fields": {
            "candidate": 202,
            "issue": 104,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1015,
        "fields": {
            "candidate": 203,
            "issue": 100,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1016,
        "fields": {
            "candidate": 203,
            "issue": 101,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1017,
        "fields": {
            "candidate": 203,
            "issue": 102,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1018,
        "fields": {
            "candidate": 203,
            "issue": 103,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1019,
        "fields": {
            "candidate": 203,
            "issue": 104,
            "issue_score": 0.7
        }
    }
]

campaignTrail_temp.running_mate_issue_score_json = [
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1045,
        "fields": {
            "candidate": 209,
            "issue": 100,
            "issue_score": 0.3
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1046,
        "fields": {
            "candidate": 209,
            "issue": 101,
            "issue_score": -0.4
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1047,
        "fields": {
            "candidate": 209,
            "issue": 102,
            "issue_score": -0.25
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1048,
        "fields": {
            "candidate": 209,
            "issue": 103,
            "issue_score": 0.5
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1049,
        "fields": {
            "candidate": 209,
            "issue": 104,
            "issue_score": 0.45
        }
    }
]

campaignTrail_temp.candidate_state_multiplier_json = [
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2500,
        "fields": {
            "candidate": 200,
            "state": 1000,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2501,
        "fields": {
            "candidate": 200,
            "state": 1001,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2502,
        "fields": {
            "candidate": 200,
            "state": 1002,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2503,
        "fields": {
            "candidate": 200,
            "state": 1003,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2504,
        "fields": {
            "candidate": 200,
            "state": 1004,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2505,
        "fields": {
            "candidate": 200,
            "state": 1005,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2506,
        "fields": {
            "candidate": 200,
            "state": 1006,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2507,
        "fields": {
            "candidate": 200,
            "state": 1007,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2508,
        "fields": {
            "candidate": 200,
            "state": 1008,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2509,
        "fields": {
            "candidate": 200,
            "state": 1009,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2510,
        "fields": {
            "candidate": 200,
            "state": 1010,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2511,
        "fields": {
            "candidate": 200,
            "state": 1011,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2512,
        "fields": {
            "candidate": 200,
            "state": 1012,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2513,
        "fields": {
            "candidate": 200,
            "state": 1013,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2514,
        "fields": {
            "candidate": 200,
            "state": 1014,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2515,
        "fields": {
            "candidate": 200,
            "state": 1015,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2516,
        "fields": {
            "candidate": 200,
            "state": 1016,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2517,
        "fields": {
            "candidate": 200,
            "state": 1017,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2518,
        "fields": {
            "candidate": 200,
            "state": 1018,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2519,
        "fields": {
            "candidate": 200,
            "state": 1019,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2520,
        "fields": {
            "candidate": 200,
            "state": 1020,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2521,
        "fields": {
            "candidate": 200,
            "state": 1021,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2522,
        "fields": {
            "candidate": 200,
            "state": 1022,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2523,
        "fields": {
            "candidate": 200,
            "state": 1023,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2524,
        "fields": {
            "candidate": 200,
            "state": 1024,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2525,
        "fields": {
            "candidate": 200,
            "state": 1025,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2526,
        "fields": {
            "candidate": 200,
            "state": 1026,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2527,
        "fields": {
            "candidate": 200,
            "state": 1027,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2528,
        "fields": {
            "candidate": 200,
            "state": 1028,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2529,
        "fields": {
            "candidate": 200,
            "state": 1029,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2530,
        "fields": {
            "candidate": 200,
            "state": 1030,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2531,
        "fields": {
            "candidate": 200,
            "state": 1031,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2532,
        "fields": {
            "candidate": 200,
            "state": 1032,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2533,
        "fields": {
            "candidate": 200,
            "state": 1033,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2534,
        "fields": {
            "candidate": 200,
            "state": 1034,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2535,
        "fields": {
            "candidate": 200,
            "state": 1035,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2536,
        "fields": {
            "candidate": 200,
            "state": 1036,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2537,
        "fields": {
            "candidate": 200,
            "state": 1037,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2538,
        "fields": {
            "candidate": 200,
            "state": 1038,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2539,
        "fields": {
            "candidate": 200,
            "state": 1039,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2540,
        "fields": {
            "candidate": 200,
            "state": 1040,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2541,
        "fields": {
            "candidate": 200,
            "state": 1041,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2542,
        "fields": {
            "candidate": 200,
            "state": 1042,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2543,
        "fields": {
            "candidate": 200,
            "state": 1043,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2544,
        "fields": {
            "candidate": 200,
            "state": 1044,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2545,
        "fields": {
            "candidate": 200,
            "state": 1045,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2546,
        "fields": {
            "candidate": 200,
            "state": 1046,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2547,
        "fields": {
            "candidate": 200,
            "state": 1047,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2548,
        "fields": {
            "candidate": 200,
            "state": 1048,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2549,
        "fields": {
            "candidate": 200,
            "state": 1049,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2550,
        "fields": {
            "candidate": 200,
            "state": 1050,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2551,
        "fields": {
            "candidate": 201,
            "state": 1000,
            "state_multiplier": 0.839
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2552,
        "fields": {
            "candidate": 201,
            "state": 1001,
            "state_multiplier": 0.737
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2553,
        "fields": {
            "candidate": 201,
            "state": 1002,
            "state_multiplier": 0.9
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2554,
        "fields": {
            "candidate": 201,
            "state": 1003,
            "state_multiplier": 0.741
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2555,
        "fields": {
            "candidate": 201,
            "state": 1004,
            "state_multiplier": 1.244
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2556,
        "fields": {
            "candidate": 201,
            "state": 1005,
            "state_multiplier": 0.878
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2557,
        "fields": {
            "candidate": 201,
            "state": 1006,
            "state_multiplier": 0.884
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2558,
        "fields": {
            "candidate": 201,
            "state": 1007,
            "state_multiplier": 0.915
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2559,
        "fields": {
            "candidate": 201,
            "state": 1008,
            "state_multiplier": 0.959
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2560,
        "fields": {
            "candidate": 201,
            "state": 1009,
            "state_multiplier": 0.942
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2561,
        "fields": {
            "candidate": 201,
            "state": 1010,
            "state_multiplier": 1.285
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2562,
        "fields": {
            "candidate": 201,
            "state": 1011,
            "state_multiplier": 0.528
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2563,
        "fields": {
            "candidate": 201,
            "state": 1012,
            "state_multiplier": 1.223
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2564,
        "fields": {
            "candidate": 201,
            "state": 1013,
            "state_multiplier": 0.769
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2565,
        "fields": {
            "candidate": 201,
            "state": 1014,
            "state_multiplier": 0.846
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2566,
        "fields": {
            "candidate": 201,
            "state": 1015,
            "state_multiplier": 0.669
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2567,
        "fields": {
            "candidate": 201,
            "state": 1016,
            "state_multiplier": 0.666
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2568,
        "fields": {
            "candidate": 201,
            "state": 1017,
            "state_multiplier": 0.844
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2569,
        "fields": {
            "candidate": 201,
            "state": 1018,
            "state_multiplier": 1.11
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2570,
        "fields": {
            "candidate": 201,
            "state": 1019,
            "state_multiplier": 1.589
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2571,
        "fields": {
            "candidate": 201,
            "state": 1020,
            "state_multiplier": 1.103
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2572,
        "fields": {
            "candidate": 201,
            "state": 1021,
            "state_multiplier": 1.119
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2573,
        "fields": {
            "candidate": 201,
            "state": 1022,
            "state_multiplier": 0.993
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2574,
        "fields": {
            "candidate": 201,
            "state": 1023,
            "state_multiplier": 1.006
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2575,
        "fields": {
            "candidate": 201,
            "state": 1024,
            "state_multiplier": 0.738
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2576,
        "fields": {
            "candidate": 201,
            "state": 1025,
            "state_multiplier": 0.692
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2577,
        "fields": {
            "candidate": 201,
            "state": 1026,
            "state_multiplier": 0.634
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2578,
        "fields": {
            "candidate": 201,
            "state": 1027,
            "state_multiplier": 0.918
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2579,
        "fields": {
            "candidate": 201,
            "state": 1028,
            "state_multiplier": 0.98
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2580,
        "fields": {
            "candidate": 201,
            "state": 1029,
            "state_multiplier": 1.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2581,
        "fields": {
            "candidate": 201,
            "state": 1030,
            "state_multiplier": 0.98
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2582,
        "fields": {
            "candidate": 201,
            "state": 1031,
            "state_multiplier": 1.12
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2583,
        "fields": {
            "candidate": 201,
            "state": 1032,
            "state_multiplier": 0.963
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2584,
        "fields": {
            "candidate": 201,
            "state": 1033,
            "state_multiplier": 0.5
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2585,
        "fields": {
            "candidate": 201,
            "state": 1034,
            "state_multiplier": 0.88
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2586,
        "fields": {
            "candidate": 201,
            "state": 1035,
            "state_multiplier": 0.485
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2587,
        "fields": {
            "candidate": 201,
            "state": 1036,
            "state_multiplier": 0.913
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2588,
        "fields": {
            "candidate": 201,
            "state": 1037,
            "state_multiplier": 0.984
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2589,
        "fields": {
            "candidate": 201,
            "state": 1038,
            "state_multiplier": 0.896
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2590,
        "fields": {
            "candidate": 201,
            "state": 1039,
            "state_multiplier": 0.965
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2591,
        "fields": {
            "candidate": 201,
            "state": 1040,
            "state_multiplier": 0.638
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2592,
        "fields": {
            "candidate": 201,
            "state": 1041,
            "state_multiplier": 0.81
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2593,
        "fields": {
            "candidate": 201,
            "state": 1042,
            "state_multiplier": 0.854
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2594,
        "fields": {
            "candidate": 201,
            "state": 1043,
            "state_multiplier": 0.656
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2595,
        "fields": {
            "candidate": 201,
            "state": 1044,
            "state_multiplier": 1.487
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2596,
        "fields": {
            "candidate": 201,
            "state": 1045,
            "state_multiplier": 1.079
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2597,
        "fields": {
            "candidate": 201,
            "state": 1046,
            "state_multiplier": 1.188
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2598,
        "fields": {
            "candidate": 201,
            "state": 1047,
            "state_multiplier": 13.948
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2599,
        "fields": {
            "candidate": 201,
            "state": 1048,
            "state_multiplier": 0.597
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2600,
        "fields": {
            "candidate": 201,
            "state": 1049,
            "state_multiplier": 0.994
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2601,
        "fields": {
            "candidate": 201,
            "state": 1050,
            "state_multiplier": 0.481
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2602,
        "fields": {
            "candidate": 202,
            "state": 1000,
            "state_multiplier": 0.0942
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2603,
        "fields": {
            "candidate": 202,
            "state": 1001,
            "state_multiplier": 0.2323
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2604,
        "fields": {
            "candidate": 202,
            "state": 1002,
            "state_multiplier": 0.1122
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2605,
        "fields": {
            "candidate": 202,
            "state": 1003,
            "state_multiplier": 0.1276
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2606,
        "fields": {
            "candidate": 202,
            "state": 1004,
            "state_multiplier": 0.1005
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2607,
        "fields": {
            "candidate": 202,
            "state": 1005,
            "state_multiplier": 0.1615
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2608,
        "fields": {
            "candidate": 202,
            "state": 1006,
            "state_multiplier": 0.0605
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2609,
        "fields": {
            "candidate": 202,
            "state": 1007,
            "state_multiplier": 0.0825
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2610,
        "fields": {
            "candidate": 202,
            "state": 1008,
            "state_multiplier": 0.0601
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2611,
        "fields": {
            "candidate": 202,
            "state": 1009,
            "state_multiplier": 0.0835
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2612,
        "fields": {
            "candidate": 202,
            "state": 1010,
            "state_multiplier": 0.0989
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2613,
        "fields": {
            "candidate": 202,
            "state": 1011,
            "state_multiplier": 0.2608
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2614,
        "fields": {
            "candidate": 202,
            "state": 1012,
            "state_multiplier": 0.1176
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2615,
        "fields": {
            "candidate": 202,
            "state": 1013,
            "state_multiplier": 0.1218
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2616,
        "fields": {
            "candidate": 202,
            "state": 1014,
            "state_multiplier": 0.1441
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2617,
        "fields": {
            "candidate": 202,
            "state": 1015,
            "state_multiplier": 0.1089
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2618,
        "fields": {
            "candidate": 202,
            "state": 1016,
            "state_multiplier": 0.0984
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2619,
        "fields": {
            "candidate": 202,
            "state": 1017,
            "state_multiplier": 0.0716
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2620,
        "fields": {
            "candidate": 202,
            "state": 1018,
            "state_multiplier": 0.1754
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2621,
        "fields": {
            "candidate": 202,
            "state": 1019,
            "state_multiplier": 0.1599
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2622,
        "fields": {
            "candidate": 202,
            "state": 1020,
            "state_multiplier": 0.1111
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2623,
        "fields": {
            "candidate": 202,
            "state": 1021,
            "state_multiplier": 0.1616
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2624,
        "fields": {
            "candidate": 202,
            "state": 1022,
            "state_multiplier": 0.2002
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2625,
        "fields": {
            "candidate": 202,
            "state": 1023,
            "state_multiplier": 0.0498
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2626,
        "fields": {
            "candidate": 202,
            "state": 1024,
            "state_multiplier": 0.0959
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2627,
        "fields": {
            "candidate": 202,
            "state": 1025,
            "state_multiplier": 0.1368
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2628,
        "fields": {
            "candidate": 202,
            "state": 1026,
            "state_multiplier": 0.1398
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2629,
        "fields": {
            "candidate": 202,
            "state": 1027,
            "state_multiplier": 0.149
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2630,
        "fields": {
            "candidate": 202,
            "state": 1028,
            "state_multiplier": 0.1501
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2631,
        "fields": {
            "candidate": 202,
            "state": 1029,
            "state_multiplier": 0.0714
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2632,
        "fields": {
            "candidate": 202,
            "state": 1030,
            "state_multiplier": 0.243
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2633,
        "fields": {
            "candidate": 202,
            "state": 1031,
            "state_multiplier": 0.0752
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2634,
        "fields": {
            "candidate": 202,
            "state": 1032,
            "state_multiplier": 0.0937
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2635,
        "fields": {
            "candidate": 202,
            "state": 1033,
            "state_multiplier": 0.1794
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2636,
        "fields": {
            "candidate": 202,
            "state": 1034,
            "state_multiplier": 0.1515
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2637,
        "fields": {
            "candidate": 202,
            "state": 1035,
            "state_multiplier": 0.1129
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2638,
        "fields": {
            "candidate": 202,
            "state": 1036,
            "state_multiplier": 0.1738
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2639,
        "fields": {
            "candidate": 202,
            "state": 1037,
            "state_multiplier": 0.0944
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2640,
        "fields": {
            "candidate": 202,
            "state": 1038,
            "state_multiplier": 0.1082
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2641,
        "fields": {
            "candidate": 202,
            "state": 1039,
            "state_multiplier": 0.1049
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2642,
        "fields": {
            "candidate": 202,
            "state": 1040,
            "state_multiplier": 0.1554
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2643,
        "fields": {
            "candidate": 202,
            "state": 1041,
            "state_multiplier": 0.1095
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2644,
        "fields": {
            "candidate": 202,
            "state": 1042,
            "state_multiplier": 0.0834
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2645,
        "fields": {
            "candidate": 202,
            "state": 1043,
            "state_multiplier": 0.6883
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2646,
        "fields": {
            "candidate": 202,
            "state": 1044,
            "state_multiplier": 0.3209
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2647,
        "fields": {
            "candidate": 202,
            "state": 1045,
            "state_multiplier": 0.1431
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2648,
        "fields": {
            "candidate": 202,
            "state": 1046,
            "state_multiplier": 0.2445
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2649,
        "fields": {
            "candidate": 202,
            "state": 1047,
            "state_multiplier": 0.7139
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2650,
        "fields": {
            "candidate": 202,
            "state": 1048,
            "state_multiplier": 0.1175
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2651,
        "fields": {
            "candidate": 202,
            "state": 1049,
            "state_multiplier": 0.1675
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2652,
        "fields": {
            "candidate": 202,
            "state": 1050,
            "state_multiplier": 0.2299
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2653,
        "fields": {
            "candidate": 203,
            "state": 1000,
            "state_multiplier": 0.0207
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2654,
        "fields": {
            "candidate": 203,
            "state": 1001,
            "state_multiplier": 0.0544
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2655,
        "fields": {
            "candidate": 203,
            "state": 1002,
            "state_multiplier": 0.044
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2656,
        "fields": {
            "candidate": 203,
            "state": 1003,
            "state_multiplier": 0.0347
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2657,
        "fields": {
            "candidate": 203,
            "state": 1004,
            "state_multiplier": 0.0433
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2658,
        "fields": {
            "candidate": 203,
            "state": 1005,
            "state_multiplier": 0.0351
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2659,
        "fields": {
            "candidate": 203,
            "state": 1006,
            "state_multiplier": 0.0286
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2660,
        "fields": {
            "candidate": 203,
            "state": 1007,
            "state_multiplier": 0.0323
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2661,
        "fields": {
            "candidate": 203,
            "state": 1008,
            "state_multiplier": 0.0203
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2662,
        "fields": {
            "candidate": 203,
            "state": 1009,
            "state_multiplier": 0.0062
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2663,
        "fields": {
            "candidate": 203,
            "state": 1010,
            "state_multiplier": 0.0663
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2664,
        "fields": {
            "candidate": 203,
            "state": 1011,
            "state_multiplier": 0.0369
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2665,
        "fields": {
            "candidate": 203,
            "state": 1012,
            "state_multiplier": 0.0418
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2666,
        "fields": {
            "candidate": 203,
            "state": 1013,
            "state_multiplier": 0.0088
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2667,
        "fields": {
            "candidate": 203,
            "state": 1014,
            "state_multiplier": 0.0218
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2668,
        "fields": {
            "candidate": 203,
            "state": 1015,
            "state_multiplier": 0.0599
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2669,
        "fields": {
            "candidate": 203,
            "state": 1016,
            "state_multiplier": 0.0237
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2670,
        "fields": {
            "candidate": 203,
            "state": 1017,
            "state_multiplier": 0.0284
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2671,
        "fields": {
            "candidate": 203,
            "state": 1018,
            "state_multiplier": 0.0636
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2672,
        "fields": {
            "candidate": 203,
            "state": 1019,
            "state_multiplier": 0.0388
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2673,
        "fields": {
            "candidate": 203,
            "state": 1020,
            "state_multiplier": 0.0247
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2674,
        "fields": {
            "candidate": 203,
            "state": 1021,
            "state_multiplier": 0.0353
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2675,
        "fields": {
            "candidate": 203,
            "state": 1022,
            "state_multiplier": 0.0347
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2676,
        "fields": {
            "candidate": 203,
            "state": 1023,
            "state_multiplier": 0.017
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2677,
        "fields": {
            "candidate": 203,
            "state": 1024,
            "state_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2678,
        "fields": {
            "candidate": 203,
            "state": 1025,
            "state_multiplier": 0.0482
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2679,
        "fields": {
            "candidate": 203,
            "state": 1026,
            "state_multiplier": 0.0312
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2680,
        "fields": {
            "candidate": 203,
            "state": 1027,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2681,
        "fields": {
            "candidate": 203,
            "state": 1028,
            "state_multiplier": 0.0263
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2682,
        "fields": {
            "candidate": 203,
            "state": 1029,
            "state_multiplier": 0.0228
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2683,
        "fields": {
            "candidate": 203,
            "state": 1030,
            "state_multiplier": 0.0315
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2684,
        "fields": {
            "candidate": 203,
            "state": 1031,
            "state_multiplier": 0.033
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2685,
        "fields": {
            "candidate": 203,
            "state": 1032,
            "state_multiplier": 0.0085
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2686,
        "fields": {
            "candidate": 203,
            "state": 1033,
            "state_multiplier": 0.033
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2687,
        "fields": {
            "candidate": 203,
            "state": 1034,
            "state_multiplier": 0.0347
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2688,
        "fields": {
            "candidate": 203,
            "state": 1035,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2689,
        "fields": {
            "candidate": 203,
            "state": 1036,
            "state_multiplier": 0.052
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2690,
        "fields": {
            "candidate": 203,
            "state": 1037,
            "state_multiplier": 0.0242
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2691,
        "fields": {
            "candidate": 203,
            "state": 1038,
            "state_multiplier": 0.0259
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2692,
        "fields": {
            "candidate": 203,
            "state": 1039,
            "state_multiplier": 0.0255
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2693,
        "fields": {
            "candidate": 203,
            "state": 1040,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2694,
        "fields": {
            "candidate": 203,
            "state": 1041,
            "state_multiplier": 0.0264
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2695,
        "fields": {
            "candidate": 203,
            "state": 1042,
            "state_multiplier": 0.0263
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2696,
        "fields": {
            "candidate": 203,
            "state": 1043,
            "state_multiplier": 0.0273
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2697,
        "fields": {
            "candidate": 203,
            "state": 1044,
            "state_multiplier": 0.0508
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2698,
        "fields": {
            "candidate": 203,
            "state": 1045,
            "state_multiplier": 0.0227
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2699,
        "fields": {
            "candidate": 203,
            "state": 1046,
            "state_multiplier": 0.0532
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2700,
        "fields": {
            "candidate": 203,
            "state": 1047,
            "state_multiplier": 0.227
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2701,
        "fields": {
            "candidate": 203,
            "state": 1048,
            "state_multiplier": 0.0535
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2702,
        "fields": {
            "candidate": 203,
            "state": 1049,
            "state_multiplier": 0.0343
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2703,
        "fields": {
            "candidate": 203,
            "state": 1050,
            "state_multiplier": 0.0459
        }
    },
	{
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21087,
        "fields": {
            "candidate": 200,
            "state": 1051,
            "state_multiplier": 0.87
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21088,
        "fields": {
            "candidate": 201,
            "state": 1051,
            "state_multiplier": 0.75
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21089,
        "fields": {
            "candidate": 202,
            "state": 1051,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21090,
        "fields": {
            "candidate": 203,
            "state": 1051,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21097,
        "fields": {
            "candidate": 200,
            "state": 1052,
            "state_multiplier": 0.9
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21098,
        "fields": {
            "candidate": 201,
            "state": 1052,
            "state_multiplier": 0.92
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21099,
        "fields": {
            "candidate": 202,
            "state": 1052,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21100,
        "fields": {
            "candidate": 203,
            "state": 1052,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21107,
        "fields": {
            "candidate": 200,
            "state": 1053,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21108,
        "fields": {
            "candidate": 201,
            "state": 1053,
            "state_multiplier": 0.65
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21109,
        "fields": {
            "candidate": 202,
            "state": 1053,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21110,
        "fields": {
            "candidate": 203,
            "state": 1053,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21117,
        "fields": {
            "candidate": 200,
            "state": 1054,
            "state_multiplier": 0.83
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21118,
        "fields": {
            "candidate": 201,
            "state": 1054,
            "state_multiplier": 0.94
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21119,
        "fields": {
            "candidate": 202,
            "state": 1054,
            "state_multiplier": 0.1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21120,
        "fields": {
            "candidate": 203,
            "state": 1054,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21127,
        "fields": {
            "candidate": 200,
            "state": 1055,
            "state_multiplier": 0.9
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21128,
        "fields": {
            "candidate": 201,
            "state": 1055,
            "state_multiplier": 0.94
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21129,
        "fields": {
            "candidate": 202,
            "state": 1055,
            "state_multiplier": 0.25
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21130,
        "fields": {
            "candidate": 203,
            "state": 1055,
            "state_multiplier": 0.05
        }
    }
]

campaignTrail_temp.answer_score_global_json = [
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3086,
        "fields": {
            "answer": 5153,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3087,
        "fields": {
            "answer": 5176,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3088,
        "fields": {
            "answer": 5177,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.0012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3089,
        "fields": {
            "answer": 5178,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3090,
        "fields": {
            "answer": 5179,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3094,
        "fields": {
            "answer": 5191,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3096,
        "fields": {
            "answer": 5229,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3097,
        "fields": {
            "answer": 5230,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3098,
        "fields": {
            "answer": 5242,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3099,
        "fields": {
            "answer": 5243,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3100,
        "fields": {
            "answer": 5246,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.066
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3101,
        "fields": {
            "answer": 5247,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.07
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3102,
        "fields": {
            "answer": 5248,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.07
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3103,
        "fields": {
            "answer": 5249,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.072
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3104,
        "fields": {
            "answer": 5250,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0255
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3105,
        "fields": {
            "answer": 5251,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0275
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3106,
        "fields": {
            "answer": 5252,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0245
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3107,
        "fields": {
            "answer": 5253,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0155
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3108,
        "fields": {
            "answer": 5254,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0142
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3109,
        "fields": {
            "answer": 5255,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.0158
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3130,
        "fields": {
            "answer": 5141,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3131,
        "fields": {
            "answer": 5143,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3132,
        "fields": {
            "answer": 5144,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3133,
        "fields": {
            "answer": 5150,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3134,
        "fields": {
            "answer": 5151,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3135,
        "fields": {
            "answer": 5153,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3136,
        "fields": {
            "answer": 5154,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3137,
        "fields": {
            "answer": 5171,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3138,
        "fields": {
            "answer": 5172,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3139,
        "fields": {
            "answer": 5174,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3140,
        "fields": {
            "answer": 5176,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.0012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3146,
        "fields": {
            "answer": 5189,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3147,
        "fields": {
            "answer": 5191,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3150,
        "fields": {
            "answer": 5198,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3151,
        "fields": {
            "answer": 5199,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3152,
        "fields": {
            "answer": 5200,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3153,
        "fields": {
            "answer": 5201,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3154,
        "fields": {
            "answer": 5203,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3157,
        "fields": {
            "answer": 5228,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3158,
        "fields": {
            "answer": 5229,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3159,
        "fields": {
            "answer": 5230,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3160,
        "fields": {
            "answer": 5242,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3161,
        "fields": {
            "answer": 5243,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3162,
        "fields": {
            "answer": 5244,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3163,
        "fields": {
            "answer": 5245,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3164,
        "fields": {
            "answer": 5256,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3165,
        "fields": {
            "answer": 5257,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3166,
        "fields": {
            "answer": 5263,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3181,
        "fields": {
            "answer": 5147,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.04
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3182,
        "fields": {
            "answer": 5189,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3183,
        "fields": {
            "answer": 5191,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3186,
        "fields": {
            "answer": 5200,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3188,
        "fields": {
            "answer": 5229,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3189,
        "fields": {
            "answer": 5230,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.032
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3190,
        "fields": {
            "answer": 5242,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3191,
        "fields": {
            "answer": 5243,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3192,
        "fields": {
            "answer": 5244,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3193,
        "fields": {
            "answer": 5245,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3202,
        "fields": {
            "answer": 5147,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3203,
        "fields": {
            "answer": 5171,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.07
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3204,
        "fields": {
            "answer": 5172,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.15
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3209,
        "fields": {
            "answer": 5199,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3210,
        "fields": {
            "answer": 5200,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3211,
        "fields": {
            "answer": 5201,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3212,
        "fields": {
            "answer": 5203,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.1064
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3215,
        "fields": {
            "answer": 5253,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3216,
        "fields": {
            "answer": 5254,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.023
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3217,
        "fields": {
            "answer": 5255,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.024
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3284,
        "fields": {
            "answer": 5141,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3285,
        "fields": {
            "answer": 5141,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.25
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3286,
        "fields": {
            "answer": 5142,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3287,
        "fields": {
            "answer": 5148,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3288,
        "fields": {
            "answer": 5148,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3289,
        "fields": {
            "answer": 5149,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3290,
        "fields": {
            "answer": 5149,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3291,
        "fields": {
            "answer": 5151,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3292,
        "fields": {
            "answer": 5151,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": -0.032
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3296,
        "fields": {
            "answer": 5199,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3305,
        "fields": {
            "answer": 5212,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3306,
        "fields": {
            "answer": 5212,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.00375
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3307,
        "fields": {
            "answer": 5215,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3308,
        "fields": {
            "answer": 5215,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3309,
        "fields": {
            "answer": 5215,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3314,
        "fields": {
            "answer": 5220,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3315,
        "fields": {
            "answer": 5220,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3316,
        "fields": {
            "answer": 5220,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3317,
        "fields": {
            "answer": 5222,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3318,
        "fields": {
            "answer": 5223,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3319,
        "fields": {
            "answer": 5224,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3320,
        "fields": {
            "answer": 5225,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.0065
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3321,
        "fields": {
            "answer": 5226,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3322,
        "fields": {
            "answer": 5226,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3323,
        "fields": {
            "answer": 5227,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3324,
        "fields": {
            "answer": 5233,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3330,
        "fields": {
            "answer": 5256,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": -0.031
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3331,
        "fields": {
            "answer": 5256,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.026
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3332,
        "fields": {
            "answer": 5257,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3333,
        "fields": {
            "answer": 5257,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.033
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 3334,
        "fields": {
            "answer": 5259,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20682,
        "fields": {
            "answer": 5154,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20683,
        "fields": {
            "answer": 5152,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20684,
        "fields": {
            "answer": 5222,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.0015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20691,
        "fields": {
            "answer": 20690,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.048
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20692,
        "fields": {
            "answer": 20690,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": -0.028
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20693,
        "fields": {
            "answer": 20690,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.032
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20698,
        "fields": {
            "answer": 20696,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.0015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20699,
        "fields": {
            "answer": 20696,
            "candidate": 202,
            "affected_candidate": 200,
            "global_multiplier": 0.08
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20713,
        "fields": {
            "answer": 20711,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.0018
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20714,
        "fields": {
            "answer": 20711,
            "candidate": 202,
            "affected_candidate": 200,
            "global_multiplier": 0.09
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20729,
        "fields": {
            "answer": 20725,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20730,
        "fields": {
            "answer": 20716,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.0015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20733,
        "fields": {
            "answer": 20731,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20739,
        "fields": {
            "answer": 20736,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20753,
        "fields": {
            "answer": 20751,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.0051
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20755,
        "fields": {
            "answer": 20751,
            "candidate": 202,
            "affected_candidate": 201,
            "global_multiplier": 0.022
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20756,
        "fields": {
            "answer": 20751,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.052
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20759,
        "fields": {
            "answer": 20757,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.0042
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20760,
        "fields": {
            "answer": 20757,
            "candidate": 202,
            "affected_candidate": 201,
            "global_multiplier": -0.024
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20761,
        "fields": {
            "answer": 20757,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.048
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20767,
        "fields": {
            "answer": 20763,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20770,
        "fields": {
            "answer": 5202,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.0055
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20779,
        "fields": {
            "answer": 20777,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20797,
        "fields": {
            "answer": 20777,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20800,
        "fields": {
            "answer": 20798,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20802,
        "fields": {
            "answer": 20798,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20806,
        "fields": {
            "answer": 20803,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20819,
        "fields": {
            "answer": 5202,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20850,
        "fields": {
            "answer": 20848,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.0005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20854,
        "fields": {
            "answer": 20852,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20858,
        "fields": {
            "answer": 20856,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.0035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20860,
        "fields": {
            "answer": 20848,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.016
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20862,
        "fields": {
            "answer": 20856,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20865,
        "fields": {
            "answer": 20863,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20866,
        "fields": {
            "answer": 20863,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20868,
        "fields": {
            "answer": 20863,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20873,
        "fields": {
            "answer": 20871,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20874,
        "fields": {
            "answer": 20871,
            "candidate": 202,
            "affected_candidate": 201,
            "global_multiplier": -0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20892,
        "fields": {
            "answer": 20871,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.32
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20895,
        "fields": {
            "answer": 20893,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20896,
        "fields": {
            "answer": 20893,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20902,
        "fields": {
            "answer": 20900,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20903,
        "fields": {
            "answer": 20900,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20906,
        "fields": {
            "answer": 20900,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20913,
        "fields": {
            "answer": 20907,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20917,
        "fields": {
            "answer": 20915,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20918,
        "fields": {
            "answer": 20915,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20940,
        "fields": {
            "answer": 20938,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20941,
        "fields": {
            "answer": 20938,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20950,
        "fields": {
            "answer": 20948,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20951,
        "fields": {
            "answer": 20948,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20953,
        "fields": {
            "answer": 20948,
            "candidate": 202,
            "affected_candidate": 201,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20962,
        "fields": {
            "answer": 5184,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20966,
        "fields": {
            "answer": 5184,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20983,
        "fields": {
            "answer": 20981,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20984,
        "fields": {
            "answer": 20981,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20990,
        "fields": {
            "answer": 20988,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20991,
        "fields": {
            "answer": 20988,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 20997,
        "fields": {
            "answer": 20995,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21003,
        "fields": {
            "answer": 21001,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21006,
        "fields": {
            "answer": 21001,
            "candidate": 203,
            "affected_candidate": 200,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21017,
        "fields": {
            "answer": 21013,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21018,
        "fields": {
            "answer": 21013,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21019,
        "fields": {
            "answer": 21013,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.25
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21022,
        "fields": {
            "answer": 21020,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.0001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21023,
        "fields": {
            "answer": 21020,
            "candidate": 202,
            "affected_candidate": 200,
            "global_multiplier": 0.086
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21026,
        "fields": {
            "answer": 5150,
            "candidate": 200,
            "affected_candidate": 200,
            "global_multiplier": -0.0035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21027,
        "fields": {
            "answer": 5170,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.1
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21035,
        "fields": {
            "answer": 5212,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21041,
        "fields": {
            "answer": 21039,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21042,
        "fields": {
            "answer": 21039,
            "candidate": 201,
            "affected_candidate": 202,
            "global_multiplier": 0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21044,
        "fields": {
            "answer": 21039,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21046,
        "fields": {
            "answer": 5263,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21049,
        "fields": {
            "answer": 5262,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21052,
        "fields": {
            "answer": 20955,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21053,
        "fields": {
            "answer": 20955,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21057,
        "fields": {
            "answer": 21055,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21060,
        "fields": {
            "answer": 5227,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21065,
        "fields": {
            "answer": 5230,
            "candidate": 200,
            "affected_candidate": 202,
            "global_multiplier": 0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21066,
        "fields": {
            "answer": 5245,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21067,
        "fields": {
            "answer": 5244,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21069,
        "fields": {
            "answer": 5247,
            "candidate": 200,
            "affected_candidate": 202,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21071,
        "fields": {
            "answer": 5246,
            "candidate": 200,
            "affected_candidate": 200,
            "global_multiplier": -0.028
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21075,
        "fields": {
            "answer": 5248,
            "candidate": 200,
            "affected_candidate": 202,
            "global_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21076,
        "fields": {
            "answer": 5249,
            "candidate": 200,
            "affected_candidate": 202,
            "global_multiplier": 0.024
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21083,
        "fields": {
            "answer": 5252,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21085,
        "fields": {
            "answer": 5250,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21087,
        "fields": {
            "answer": 5225,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21101,
        "fields": {
            "answer": 21096,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21104,
        "fields": {
            "answer": 21102,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21107,
        "fields": {
            "answer": 21096,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21110,
        "fields": {
            "answer": 21108,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21117,
        "fields": {
            "answer": 21115,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21118,
        "fields": {
            "answer": 21115,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21133,
        "fields": {
            "answer": 21131,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21134,
        "fields": {
            "answer": 21131,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21139,
        "fields": {
            "answer": 21136,
            "candidate": 203,
            "affected_candidate": 201,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21159,
        "fields": {
            "answer": 21156,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21162,
        "fields": {
            "answer": 21160,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21176,
        "fields": {
            "answer": 21165,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21179,
        "fields": {
            "answer": 21177,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.0015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21181,
        "fields": {
            "answer": 21177,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21182,
        "fields": {
            "answer": 21177,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21187,
        "fields": {
            "answer": 21183,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21192,
        "fields": {
            "answer": 21190,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.0045
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21206,
        "fields": {
            "answer": 21204,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21210,
        "fields": {
            "answer": 21208,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21212,
        "fields": {
            "answer": 21208,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21215,
        "fields": {
            "answer": 21213,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21216,
        "fields": {
            "answer": 21213,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21222,
        "fields": {
            "answer": 21220,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21242,
        "fields": {
            "answer": 21240,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21256,
        "fields": {
            "answer": 21253,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21257,
        "fields": {
            "answer": 21253,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21258,
        "fields": {
            "answer": 21245,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21261,
        "fields": {
            "answer": 21259,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21262,
        "fields": {
            "answer": 21259,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21266,
        "fields": {
            "answer": 21264,
            "candidate": 201,
            "affected_candidate": 203,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21267,
        "fields": {
            "answer": 21264,
            "candidate": 201,
            "affected_candidate": 201,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21269,
        "fields": {
            "answer": 21264,
            "candidate": 200,
            "affected_candidate": 201,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21270,
        "fields": {
            "answer": 21259,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21271,
        "fields": {
            "answer": 21253,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21272,
        "fields": {
            "answer": 21245,
            "candidate": 201,
            "affected_candidate": 200,
            "global_multiplier": 0.003
        }
    }
]

campaignTrail_temp.answer_score_issue_json = [
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2639,
        "fields": {
            "answer": 5139,
            "issue": 100,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2640,
        "fields": {
            "answer": 5141,
            "issue": 100,
            "issue_score": -0.25,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2641,
        "fields": {
            "answer": 5147,
            "issue": 103,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2642,
        "fields": {
            "answer": 5148,
            "issue": 103,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2643,
        "fields": {
            "answer": 5150,
            "issue": 102,
            "issue_score": -0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2644,
        "fields": {
            "answer": 5150,
            "issue": 103,
            "issue_score": 0,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2645,
        "fields": {
            "answer": 5151,
            "issue": 100,
            "issue_score": 0.55,
            "issue_importance": 5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2646,
        "fields": {
            "answer": 5151,
            "issue": 101,
            "issue_score": 0.55,
            "issue_importance": 5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2647,
        "fields": {
            "answer": 5151,
            "issue": 102,
            "issue_score": 0.55,
            "issue_importance": 5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2648,
        "fields": {
            "answer": 5151,
            "issue": 103,
            "issue_score": 0.55,
            "issue_importance": 5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2649,
        "fields": {
            "answer": 5151,
            "issue": 104,
            "issue_score": 0.55,
            "issue_importance": 5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2650,
        "fields": {
            "answer": 5153,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2651,
        "fields": {
            "answer": 5154,
            "issue": 100,
            "issue_score": 0.25,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2652,
        "fields": {
            "answer": 5154,
            "issue": 101,
            "issue_score": -0.25,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2653,
        "fields": {
            "answer": 5154,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2654,
        "fields": {
            "answer": 5154,
            "issue": 103,
            "issue_score": 0.4,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2655,
        "fields": {
            "answer": 5154,
            "issue": 104,
            "issue_score": 0.4,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2656,
        "fields": {
            "answer": 5170,
            "issue": 100,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2657,
        "fields": {
            "answer": 5170,
            "issue": 101,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2658,
        "fields": {
            "answer": 5171,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2659,
        "fields": {
            "answer": 5172,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2660,
        "fields": {
            "answer": 5173,
            "issue": 103,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2661,
        "fields": {
            "answer": 5174,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2662,
        "fields": {
            "answer": 5175,
            "issue": 102,
            "issue_score": -0.35,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2663,
        "fields": {
            "answer": 5175,
            "issue": 103,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2664,
        "fields": {
            "answer": 5178,
            "issue": 100,
            "issue_score": 0.45,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2665,
        "fields": {
            "answer": 5178,
            "issue": 101,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2666,
        "fields": {
            "answer": 5179,
            "issue": 100,
            "issue_score": 0.32,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2667,
        "fields": {
            "answer": 5179,
            "issue": 102,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2671,
        "fields": {
            "answer": 5189,
            "issue": 100,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2672,
        "fields": {
            "answer": 5190,
            "issue": 100,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2677,
        "fields": {
            "answer": 5198,
            "issue": 100,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2678,
        "fields": {
            "answer": 5199,
            "issue": 100,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2679,
        "fields": {
            "answer": 5200,
            "issue": 100,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2680,
        "fields": {
            "answer": 5200,
            "issue": 101,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2681,
        "fields": {
            "answer": 5200,
            "issue": 102,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2682,
        "fields": {
            "answer": 5200,
            "issue": 103,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2683,
        "fields": {
            "answer": 5200,
            "issue": 104,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2684,
        "fields": {
            "answer": 5201,
            "issue": 100,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2685,
        "fields": {
            "answer": 5201,
            "issue": 101,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2686,
        "fields": {
            "answer": 5203,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2687,
        "fields": {
            "answer": 5203,
            "issue": 101,
            "issue_score": -0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2688,
        "fields": {
            "answer": 5203,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2692,
        "fields": {
            "answer": 5263,
            "issue": 100,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2693,
        "fields": {
            "answer": 5263,
            "issue": 103,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2694,
        "fields": {
            "answer": 5263,
            "issue": 104,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2816,
        "fields": {
            "answer": 5139,
            "issue": 101,
            "issue_score": -0.35,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2817,
        "fields": {
            "answer": 5139,
            "issue": 102,
            "issue_score": -0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2818,
        "fields": {
            "answer": 5139,
            "issue": 104,
            "issue_score": 0.575,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2819,
        "fields": {
            "answer": 5140,
            "issue": 100,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2820,
        "fields": {
            "answer": 5140,
            "issue": 101,
            "issue_score": -0.375,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2821,
        "fields": {
            "answer": 5140,
            "issue": 102,
            "issue_score": -0.125,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2822,
        "fields": {
            "answer": 5140,
            "issue": 104,
            "issue_score": 0.575,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2823,
        "fields": {
            "answer": 5141,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2824,
        "fields": {
            "answer": 5141,
            "issue": 101,
            "issue_score": -0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2825,
        "fields": {
            "answer": 5141,
            "issue": 102,
            "issue_score": 0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2826,
        "fields": {
            "answer": 5141,
            "issue": 103,
            "issue_score": 0.475,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2827,
        "fields": {
            "answer": 5141,
            "issue": 104,
            "issue_score": 0.425,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2828,
        "fields": {
            "answer": 5142,
            "issue": 100,
            "issue_score": 0.32,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2829,
        "fields": {
            "answer": 5142,
            "issue": 101,
            "issue_score": -0.333,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2830,
        "fields": {
            "answer": 5142,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2831,
        "fields": {
            "answer": 5142,
            "issue": 104,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2832,
        "fields": {
            "answer": 5143,
            "issue": 100,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2833,
        "fields": {
            "answer": 5143,
            "issue": 103,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2834,
        "fields": {
            "answer": 5144,
            "issue": 100,
            "issue_score": 0.425,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2835,
        "fields": {
            "answer": 5155,
            "issue": 100,
            "issue_score": 0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2836,
        "fields": {
            "answer": 5155,
            "issue": 101,
            "issue_score": -0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2837,
        "fields": {
            "answer": 5155,
            "issue": 102,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2838,
        "fields": {
            "answer": 5155,
            "issue": 103,
            "issue_score": 0.55,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2839,
        "fields": {
            "answer": 5155,
            "issue": 104,
            "issue_score": 0.55,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2840,
        "fields": {
            "answer": 5156,
            "issue": 100,
            "issue_score": 0.35,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2841,
        "fields": {
            "answer": 5156,
            "issue": 101,
            "issue_score": -0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2842,
        "fields": {
            "answer": 5156,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2843,
        "fields": {
            "answer": 5156,
            "issue": 103,
            "issue_score": 0.55,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2844,
        "fields": {
            "answer": 5156,
            "issue": 104,
            "issue_score": 0.55,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2845,
        "fields": {
            "answer": 5157,
            "issue": 100,
            "issue_score": 0.35,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2846,
        "fields": {
            "answer": 5157,
            "issue": 101,
            "issue_score": -0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2847,
        "fields": {
            "answer": 5157,
            "issue": 102,
            "issue_score": -0.125,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2848,
        "fields": {
            "answer": 5157,
            "issue": 103,
            "issue_score": 0.55,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2849,
        "fields": {
            "answer": 5157,
            "issue": 104,
            "issue_score": 0.55,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2856,
        "fields": {
            "answer": 5191,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2857,
        "fields": {
            "answer": 5191,
            "issue": 102,
            "issue_score": 0.15,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2858,
        "fields": {
            "answer": 5196,
            "issue": 100,
            "issue_score": 0.45,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2859,
        "fields": {
            "answer": 5196,
            "issue": 102,
            "issue_score": 0.25,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2860,
        "fields": {
            "answer": 5196,
            "issue": 103,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2861,
        "fields": {
            "answer": 5197,
            "issue": 100,
            "issue_score": 0.45,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2862,
        "fields": {
            "answer": 5197,
            "issue": 102,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2863,
        "fields": {
            "answer": 5197,
            "issue": 103,
            "issue_score": 0.65,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2864,
        "fields": {
            "answer": 5198,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2865,
        "fields": {
            "answer": 5198,
            "issue": 102,
            "issue_score": -0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2866,
        "fields": {
            "answer": 5199,
            "issue": 101,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2867,
        "fields": {
            "answer": 5199,
            "issue": 102,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2874,
        "fields": {
            "answer": 5213,
            "issue": 102,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2875,
        "fields": {
            "answer": 5214,
            "issue": 102,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2876,
        "fields": {
            "answer": 5215,
            "issue": 100,
            "issue_score": -0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2877,
        "fields": {
            "answer": 5215,
            "issue": 102,
            "issue_score": -0.5,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2882,
        "fields": {
            "answer": 5220,
            "issue": 100,
            "issue_score": 0.675,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2883,
        "fields": {
            "answer": 5221,
            "issue": 100,
            "issue_score": 0.35,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2884,
        "fields": {
            "answer": 5222,
            "issue": 100,
            "issue_score": 0.35,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2885,
        "fields": {
            "answer": 5223,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2886,
        "fields": {
            "answer": 5225,
            "issue": 103,
            "issue_score": 0.666,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2887,
        "fields": {
            "answer": 5231,
            "issue": 102,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2888,
        "fields": {
            "answer": 5232,
            "issue": 102,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2889,
        "fields": {
            "answer": 5233,
            "issue": 102,
            "issue_score": -0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20687,
        "fields": {
            "answer": 5234,
            "issue": 102,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20724,
        "fields": {
            "answer": 20716,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20728,
        "fields": {
            "answer": 20725,
            "issue": 100,
            "issue_score": -0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20734,
        "fields": {
            "answer": 20731,
            "issue": 103,
            "issue_score": 0.45,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20750,
        "fields": {
            "answer": 20736,
            "issue": 101,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20754,
        "fields": {
            "answer": 20751,
            "issue": 101,
            "issue_score": 0.6,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20762,
        "fields": {
            "answer": 20757,
            "issue": 101,
            "issue_score": -0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20768,
        "fields": {
            "answer": 20763,
            "issue": 101,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20771,
        "fields": {
            "answer": 5202,
            "issue": 103,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20796,
        "fields": {
            "answer": 20777,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20801,
        "fields": {
            "answer": 20798,
            "issue": 100,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20807,
        "fields": {
            "answer": 20803,
            "issue": 100,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20851,
        "fields": {
            "answer": 20848,
            "issue": 103,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20855,
        "fields": {
            "answer": 20852,
            "issue": 104,
            "issue_score": 0.45,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20859,
        "fields": {
            "answer": 20856,
            "issue": 104,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20861,
        "fields": {
            "answer": 20848,
            "issue": 100,
            "issue_score": -0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20867,
        "fields": {
            "answer": 20863,
            "issue": 104,
            "issue_score": 0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20869,
        "fields": {
            "answer": 20777,
            "issue": 103,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20876,
        "fields": {
            "answer": 20871,
            "issue": 100,
            "issue_score": 0,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20898,
        "fields": {
            "answer": 20893,
            "issue": 100,
            "issue_score": 0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20899,
        "fields": {
            "answer": 20893,
            "issue": 103,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20904,
        "fields": {
            "answer": 20900,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20912,
        "fields": {
            "answer": 20907,
            "issue": 103,
            "issue_score": 0.45,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20920,
        "fields": {
            "answer": 20915,
            "issue": 103,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20942,
        "fields": {
            "answer": 20938,
            "issue": 103,
            "issue_score": 0.25,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20952,
        "fields": {
            "answer": 20948,
            "issue": 103,
            "issue_score": -0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20963,
        "fields": {
            "answer": 5184,
            "issue": 100,
            "issue_score": -0.2,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20964,
        "fields": {
            "answer": 5184,
            "issue": 101,
            "issue_score": -0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20965,
        "fields": {
            "answer": 5184,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20985,
        "fields": {
            "answer": 20981,
            "issue": 100,
            "issue_score": -0.15,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20986,
        "fields": {
            "answer": 20981,
            "issue": 101,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20987,
        "fields": {
            "answer": 20981,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20992,
        "fields": {
            "answer": 20988,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20993,
        "fields": {
            "answer": 20988,
            "issue": 101,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20994,
        "fields": {
            "answer": 20988,
            "issue": 102,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20998,
        "fields": {
            "answer": 20995,
            "issue": 102,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20999,
        "fields": {
            "answer": 20995,
            "issue": 104,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21004,
        "fields": {
            "answer": 21001,
            "issue": 102,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21005,
        "fields": {
            "answer": 21001,
            "issue": 104,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21011,
        "fields": {
            "answer": 21007,
            "issue": 102,
            "issue_score": 0.15,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21012,
        "fields": {
            "answer": 21007,
            "issue": 104,
            "issue_score": 0.15,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21015,
        "fields": {
            "answer": 21013,
            "issue": 102,
            "issue_score": -0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21016,
        "fields": {
            "answer": 21013,
            "issue": 104,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21033,
        "fields": {
            "answer": 5146,
            "issue": 102,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21034,
        "fields": {
            "answer": 5145,
            "issue": 102,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21043,
        "fields": {
            "answer": 21039,
            "issue": 100,
            "issue_score": 0.35,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21054,
        "fields": {
            "answer": 20955,
            "issue": 103,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21059,
        "fields": {
            "answer": 21055,
            "issue": 103,
            "issue_score": -0.1,
            "issue_importance": 0
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21061,
        "fields": {
            "answer": 5228,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21062,
        "fields": {
            "answer": 5227,
            "issue": 100,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21063,
        "fields": {
            "answer": 5229,
            "issue": 100,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21064,
        "fields": {
            "answer": 5230,
            "issue": 100,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21072,
        "fields": {
            "answer": 5247,
            "issue": 103,
            "issue_score": 0.2,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21073,
        "fields": {
            "answer": 5246,
            "issue": 103,
            "issue_score": 0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21074,
        "fields": {
            "answer": 5248,
            "issue": 103,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21077,
        "fields": {
            "answer": 5249,
            "issue": 103,
            "issue_score": 0.25,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21078,
        "fields": {
            "answer": 5255,
            "issue": 102,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21079,
        "fields": {
            "answer": 5254,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21080,
        "fields": {
            "answer": 5253,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21081,
        "fields": {
            "answer": 5251,
            "issue": 100,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21082,
        "fields": {
            "answer": 5252,
            "issue": 101,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21084,
        "fields": {
            "answer": 5250,
            "issue": 101,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21086,
        "fields": {
            "answer": 5226,
            "issue": 100,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21088,
        "fields": {
            "answer": 5224,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21089,
        "fields": {
            "answer": 5224,
            "issue": 100,
            "issue_score": 0,
            "issue_importance": 0
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21099,
        "fields": {
            "answer": 21096,
            "issue": 102,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21105,
        "fields": {
            "answer": 21102,
            "issue": 102,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21111,
        "fields": {
            "answer": 21108,
            "issue": 102,
            "issue_score": 0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21119,
        "fields": {
            "answer": 21115,
            "issue": 103,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21135,
        "fields": {
            "answer": 21131,
            "issue": 103,
            "issue_score": 0,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21140,
        "fields": {
            "answer": 21136,
            "issue": 103,
            "issue_score": -0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21155,
        "fields": {
            "answer": 21152,
            "issue": 103,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21158,
        "fields": {
            "answer": 21156,
            "issue": 103,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21163,
        "fields": {
            "answer": 21160,
            "issue": 103,
            "issue_score": 0,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21167,
        "fields": {
            "answer": 21165,
            "issue": 103,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21180,
        "fields": {
            "answer": 21177,
            "issue": 103,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21188,
        "fields": {
            "answer": 21183,
            "issue": 103,
            "issue_score": 0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21193,
        "fields": {
            "answer": 21190,
            "issue": 103,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21207,
        "fields": {
            "answer": 21204,
            "issue": 103,
            "issue_score": 0.45,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21211,
        "fields": {
            "answer": 21208,
            "issue": 100,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21217,
        "fields": {
            "answer": 21213,
            "issue": 103,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21218,
        "fields": {
            "answer": 21213,
            "issue": 104,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21223,
        "fields": {
            "answer": 21220,
            "issue": 102,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21243,
        "fields": {
            "answer": 21240,
            "issue": 102,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21248,
        "fields": {
            "answer": 21245,
            "issue": 104,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21255,
        "fields": {
            "answer": 21253,
            "issue": 104,
            "issue_score": -0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21263,
        "fields": {
            "answer": 21259,
            "issue": 104,
            "issue_score": 0,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21268,
        "fields": {
            "answer": 21264,
            "issue": 104,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    }
]

campaignTrail_temp.answer_score_state_json = [
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20515,
        "fields": {
            "answer": 5196,
            "state": 1047,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.01575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20516,
        "fields": {
            "answer": 5196,
            "state": 1023,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0118125
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20517,
        "fields": {
            "answer": 5196,
            "state": 1017,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00984375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20518,
        "fields": {
            "answer": 5196,
            "state": 1009,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00945
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20519,
        "fields": {
            "answer": 5196,
            "state": 1019,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00905625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20520,
        "fields": {
            "answer": 5196,
            "state": 1039,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0086625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20521,
        "fields": {
            "answer": 5196,
            "state": 1000,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00826875
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20522,
        "fields": {
            "answer": 5196,
            "state": 1032,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00748125
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20523,
        "fields": {
            "answer": 5196,
            "state": 1007,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0070875
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20524,
        "fields": {
            "answer": 5196,
            "state": 1045,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00669375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20525,
        "fields": {
            "answer": 5196,
            "state": 1041,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0063
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20526,
        "fields": {
            "answer": 5196,
            "state": 1008,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0063
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20527,
        "fields": {
            "answer": 5196,
            "state": 1003,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0063
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20528,
        "fields": {
            "answer": 5196,
            "state": 1031,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00590625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20529,
        "fields": {
            "answer": 5196,
            "state": 1012,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00590625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20530,
        "fields": {
            "answer": 5196,
            "state": 1029,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.006890625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20531,
        "fields": {
            "answer": 5196,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00590625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20532,
        "fields": {
            "answer": 5196,
            "state": 1034,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0055125
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20533,
        "fields": {
            "answer": 5196,
            "state": 1042,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0055125
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20534,
        "fields": {
            "answer": 5196,
            "state": 1024,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00511875
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20535,
        "fields": {
            "answer": 5196,
            "state": 1037,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00511875
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20536,
        "fields": {
            "answer": 5196,
            "state": 1006,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00511875
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20537,
        "fields": {
            "answer": 5196,
            "state": 1013,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.004725
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20538,
        "fields": {
            "answer": 5196,
            "state": 1027,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.004725
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20539,
        "fields": {
            "answer": 5196,
            "state": 1016,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20540,
        "fields": {
            "answer": 5196,
            "state": 1020,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20541,
        "fields": {
            "answer": 5196,
            "state": 1035,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20542,
        "fields": {
            "answer": 5196,
            "state": 1038,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20543,
        "fields": {
            "answer": 5196,
            "state": 1004,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00354375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20544,
        "fields": {
            "answer": 5196,
            "state": 1015,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00354375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20545,
        "fields": {
            "answer": 5196,
            "state": 1049,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00354375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20546,
        "fields": {
            "answer": 5196,
            "state": 1022,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20547,
        "fields": {
            "answer": 5196,
            "state": 1026,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20548,
        "fields": {
            "answer": 5196,
            "state": 1005,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20549,
        "fields": {
            "answer": 5196,
            "state": 1001,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20550,
        "fields": {
            "answer": 5196,
            "state": 1002,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20551,
        "fields": {
            "answer": 5196,
            "state": 1046,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00275625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20552,
        "fields": {
            "answer": 5196,
            "state": 1048,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00275625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20553,
        "fields": {
            "answer": 5196,
            "state": 1010,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0023625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20554,
        "fields": {
            "answer": 5196,
            "state": 1030,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0023625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20555,
        "fields": {
            "answer": 5196,
            "state": 1014,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20556,
        "fields": {
            "answer": 5196,
            "state": 1036,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00118125
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20557,
        "fields": {
            "answer": 5196,
            "state": 1050,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20558,
        "fields": {
            "answer": 5196,
            "state": 1043,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20559,
        "fields": {
            "answer": 5196,
            "state": 1028,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20560,
        "fields": {
            "answer": 5196,
            "state": 1040,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20561,
        "fields": {
            "answer": 5196,
            "state": 1033,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20562,
        "fields": {
            "answer": 5196,
            "state": 1018,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20563,
        "fields": {
            "answer": 5197,
            "state": 1047,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0126
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20564,
        "fields": {
            "answer": 5197,
            "state": 1023,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00945
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20565,
        "fields": {
            "answer": 5197,
            "state": 1017,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.007875
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20566,
        "fields": {
            "answer": 5197,
            "state": 1009,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00756
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20567,
        "fields": {
            "answer": 5197,
            "state": 1019,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.007245
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20568,
        "fields": {
            "answer": 5197,
            "state": 1039,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00693
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20569,
        "fields": {
            "answer": 5197,
            "state": 1000,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.006615
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20570,
        "fields": {
            "answer": 5197,
            "state": 1032,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.005985
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20571,
        "fields": {
            "answer": 5197,
            "state": 1007,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00567
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20572,
        "fields": {
            "answer": 5197,
            "state": 1045,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.005355
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20573,
        "fields": {
            "answer": 5197,
            "state": 1041,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00504
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20574,
        "fields": {
            "answer": 5197,
            "state": 1008,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00504
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20575,
        "fields": {
            "answer": 5197,
            "state": 1003,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00504
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20576,
        "fields": {
            "answer": 5197,
            "state": 1031,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.004725
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20577,
        "fields": {
            "answer": 5197,
            "state": 1012,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.004725
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20578,
        "fields": {
            "answer": 5197,
            "state": 1029,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0055125
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20579,
        "fields": {
            "answer": 5197,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20580,
        "fields": {
            "answer": 5197,
            "state": 1034,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00441
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20581,
        "fields": {
            "answer": 5197,
            "state": 1042,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00441
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20582,
        "fields": {
            "answer": 5197,
            "state": 1024,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.004095
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20583,
        "fields": {
            "answer": 5197,
            "state": 1037,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20584,
        "fields": {
            "answer": 5197,
            "state": 1006,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.004095
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20585,
        "fields": {
            "answer": 5197,
            "state": 1013,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00378
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20586,
        "fields": {
            "answer": 5197,
            "state": 1027,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00378
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20587,
        "fields": {
            "answer": 5197,
            "state": 1016,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20588,
        "fields": {
            "answer": 5197,
            "state": 1020,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20589,
        "fields": {
            "answer": 5197,
            "state": 1035,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20590,
        "fields": {
            "answer": 5197,
            "state": 1038,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20591,
        "fields": {
            "answer": 5197,
            "state": 1004,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002835
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20592,
        "fields": {
            "answer": 5197,
            "state": 1015,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002835
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20593,
        "fields": {
            "answer": 5197,
            "state": 1049,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20594,
        "fields": {
            "answer": 5197,
            "state": 1022,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20595,
        "fields": {
            "answer": 5197,
            "state": 1026,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20596,
        "fields": {
            "answer": 5197,
            "state": 1005,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20597,
        "fields": {
            "answer": 5197,
            "state": 1001,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20598,
        "fields": {
            "answer": 5197,
            "state": 1002,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20599,
        "fields": {
            "answer": 5197,
            "state": 1046,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002205
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20600,
        "fields": {
            "answer": 5197,
            "state": 1048,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002205
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20601,
        "fields": {
            "answer": 5197,
            "state": 1010,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00189
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20602,
        "fields": {
            "answer": 5197,
            "state": 1030,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00189
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20603,
        "fields": {
            "answer": 5197,
            "state": 1014,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00126
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20604,
        "fields": {
            "answer": 5197,
            "state": 1036,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000945
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20605,
        "fields": {
            "answer": 5197,
            "state": 1050,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20606,
        "fields": {
            "answer": 5197,
            "state": 1043,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20607,
        "fields": {
            "answer": 5197,
            "state": 1028,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20608,
        "fields": {
            "answer": 5197,
            "state": 1040,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20609,
        "fields": {
            "answer": 5197,
            "state": 1033,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20610,
        "fields": {
            "answer": 5197,
            "state": 1018,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000315
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20611,
        "fields": {
            "answer": 5201,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.00333
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20612,
        "fields": {
            "answer": 5201,
            "state": 1034,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20613,
        "fields": {
            "answer": 5233,
            "state": 1047,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0063
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20614,
        "fields": {
            "answer": 5233,
            "state": 1023,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.004725
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20615,
        "fields": {
            "answer": 5233,
            "state": 1017,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0039375
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20616,
        "fields": {
            "answer": 5233,
            "state": 1009,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00378
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20617,
        "fields": {
            "answer": 5233,
            "state": 1019,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0036225
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20618,
        "fields": {
            "answer": 5233,
            "state": 1039,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.003465
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20619,
        "fields": {
            "answer": 5233,
            "state": 1000,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0033075
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20620,
        "fields": {
            "answer": 5233,
            "state": 1032,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0029925
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20621,
        "fields": {
            "answer": 5233,
            "state": 1007,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.002835
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20622,
        "fields": {
            "answer": 5233,
            "state": 1045,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0026775
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20623,
        "fields": {
            "answer": 5233,
            "state": 1041,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20624,
        "fields": {
            "answer": 5233,
            "state": 1008,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20625,
        "fields": {
            "answer": 5233,
            "state": 1003,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00252
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20626,
        "fields": {
            "answer": 5233,
            "state": 1031,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0023625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20627,
        "fields": {
            "answer": 5233,
            "state": 1012,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0023625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20628,
        "fields": {
            "answer": 5233,
            "state": 1029,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00275625
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20629,
        "fields": {
            "answer": 5233,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20630,
        "fields": {
            "answer": 5233,
            "state": 1034,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.002205
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20631,
        "fields": {
            "answer": 5233,
            "state": 1042,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.002205
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20632,
        "fields": {
            "answer": 5233,
            "state": 1024,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0020475
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20633,
        "fields": {
            "answer": 5233,
            "state": 1037,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20634,
        "fields": {
            "answer": 5233,
            "state": 1006,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0020475
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20635,
        "fields": {
            "answer": 5233,
            "state": 1013,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00189
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20636,
        "fields": {
            "answer": 5233,
            "state": 1027,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00189
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20637,
        "fields": {
            "answer": 5233,
            "state": 1016,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20638,
        "fields": {
            "answer": 5233,
            "state": 1020,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20639,
        "fields": {
            "answer": 5233,
            "state": 1035,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20640,
        "fields": {
            "answer": 5233,
            "state": 1038,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20641,
        "fields": {
            "answer": 5233,
            "state": 1004,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0014175
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20642,
        "fields": {
            "answer": 5233,
            "state": 1015,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0014175
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20643,
        "fields": {
            "answer": 5233,
            "state": 1049,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20644,
        "fields": {
            "answer": 5233,
            "state": 1022,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00126
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20645,
        "fields": {
            "answer": 5233,
            "state": 1026,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00126
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20646,
        "fields": {
            "answer": 5233,
            "state": 1005,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00126
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20647,
        "fields": {
            "answer": 5233,
            "state": 1001,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00126
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20648,
        "fields": {
            "answer": 5233,
            "state": 1002,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00126
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20649,
        "fields": {
            "answer": 5233,
            "state": 1046,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0011025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20650,
        "fields": {
            "answer": 5233,
            "state": 1048,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0011025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20651,
        "fields": {
            "answer": 5233,
            "state": 1010,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.000945
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20652,
        "fields": {
            "answer": 5233,
            "state": 1030,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.000945
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20653,
        "fields": {
            "answer": 5233,
            "state": 1014,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.00063
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20654,
        "fields": {
            "answer": 5233,
            "state": 1036,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0004725
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20655,
        "fields": {
            "answer": 5233,
            "state": 1050,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20656,
        "fields": {
            "answer": 5233,
            "state": 1043,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20657,
        "fields": {
            "answer": 5233,
            "state": 1028,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20658,
        "fields": {
            "answer": 5233,
            "state": 1040,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20659,
        "fields": {
            "answer": 5233,
            "state": 1033,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20660,
        "fields": {
            "answer": 5233,
            "state": 1018,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0001575
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20664,
        "fields": {
            "answer": 5258,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20665,
        "fields": {
            "answer": 5258,
            "state": 1022,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20666,
        "fields": {
            "answer": 5258,
            "state": 1049,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20667,
        "fields": {
            "answer": 5259,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20668,
        "fields": {
            "answer": 5259,
            "state": 1022,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20669,
        "fields": {
            "answer": 5259,
            "state": 1049,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20670,
        "fields": {
            "answer": 5260,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20671,
        "fields": {
            "answer": 5260,
            "state": 1022,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20672,
        "fields": {
            "answer": 5260,
            "state": 1049,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20673,
        "fields": {
            "answer": 5261,
            "state": 1021,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20674,
        "fields": {
            "answer": 5261,
            "state": 1022,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20675,
        "fields": {
            "answer": 5261,
            "state": 1049,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20676,
        "fields": {
            "answer": 5258,
            "state": 1008,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0033
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20677,
        "fields": {
            "answer": 5260,
            "state": 1002,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20678,
        "fields": {
            "answer": 5260,
            "state": 1005,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20679,
        "fields": {
            "answer": 5260,
            "state": 1027,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20680,
        "fields": {
            "answer": 5260,
            "state": 1030,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.0015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20772,
        "fields": {
            "answer": 5155,
            "state": 1045,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20773,
        "fields": {
            "answer": 5157,
            "state": 1045,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20774,
        "fields": {
            "answer": 5156,
            "state": 1045,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20811,
        "fields": {
            "answer": 5200,
            "state": 1046,
            "candidate": 202,
            "affected_candidate": 201,
            "state_multiplier": -0.12
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20812,
        "fields": {
            "answer": 5200,
            "state": 1044,
            "candidate": 203,
            "affected_candidate": 201,
            "state_multiplier": -0.2
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20813,
        "fields": {
            "answer": 5200,
            "state": 1044,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.08
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20814,
        "fields": {
            "answer": 5200,
            "state": 1046,
            "candidate": 200,
            "affected_candidate": 200,
            "state_multiplier": 0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20815,
        "fields": {
            "answer": 5200,
            "state": 1036,
            "candidate": 202,
            "affected_candidate": 201,
            "state_multiplier": -0.1
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20816,
        "fields": {
            "answer": 5200,
            "state": 1028,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20817,
        "fields": {
            "answer": 5202,
            "state": 1044,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20818,
        "fields": {
            "answer": 5202,
            "state": 1044,
            "candidate": 202,
            "affected_candidate": 201,
            "state_multiplier": -0.1
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21024,
        "fields": {
            "answer": 21020,
            "state": 1031,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.000001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21025,
        "fields": {
            "answer": 21020,
            "state": 1031,
            "candidate": 200,
            "affected_candidate": 201,
            "state_multiplier": -0.000001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21028,
        "fields": {
            "answer": 5170,
            "state": 1044,
            "candidate": 202,
            "affected_candidate": 201,
            "state_multiplier": -0.12
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21029,
        "fields": {
            "answer": 5170,
            "state": 1044,
            "candidate": 201,
            "affected_candidate": 201,
            "state_multiplier": 0.4
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21031,
        "fields": {
            "answer": 5172,
            "state": 1044,
            "candidate": 202,
            "affected_candidate": 201,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21100,
        "fields": {
            "answer": 21096,
            "state": 1008,
            "candidate": 200,
            "affected_candidate": 201,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21106,
        "fields": {
            "answer": 21102,
            "state": 1008,
            "candidate": 200,
            "affected_candidate": 201,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21112,
        "fields": {
            "answer": 21108,
            "state": 1008,
            "candidate": 200,
            "affected_candidate": 201,
            "state_multiplier": -0.001
        }
    }
]

campaignTrail_temp.answer_feedback_json = [
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2620,
        "fields": {
            "answer": 5139,
            "candidate": 201,
            "answer_feedback": "Republicans end up picking up 7 seats in the House and 6 seats in the Senate, flipping it. Still, some consider it a slight underperformance, although not all of this can directly be linked to you.<br><br>Meanwhile, as the Republican primaries get surprisingly crowded, you wonder if you’re even gonna face Jeb at this rate."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2621,
        "fields": {
            "answer": 5140,
            "candidate": 201,
            "answer_feedback": "<i>Hard Choices</i> ends up becoming a New York Times bestseller. Some think you are setting yourself up to be a mainstream, establishment Democratic candidate. It worked for Obama, at least."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2622,
        "fields": {
            "answer": 5141,
            "candidate": 201,
            "answer_feedback": "<i>A Fair Shake: A Lifetime for America</i> ends up becoming a New York Times bestseller. Analysts and voters alike do detect more of a populist note in your latest political persona, for better or worse."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2623,
        "fields": {
            "answer": 5142,
            "candidate": 201,
            "answer_feedback": "Indeed, you do get free hot dogs, and your very own Mystery Machine is popular with the voters you encounter. Although, some voters see this as cynical, but it’s also true that you just got your face on the local news in a lot of places across the country."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2624,
        "fields": {
            "answer": 5143,
            "candidate": 201,
            "answer_feedback": "Hitting back hard to shift the narrative usually helps, especially when voters are exhausted by this whole saga. Not everyone will believe you, but honestly, at this point, if you’re not pissing off certain people, you’re not doing it right. Right?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2625,
        "fields": {
            "answer": 5144,
            "candidate": 201,
            "answer_feedback": "This is true, although a good chunk of those emails were just mislabeled. On the other hand, maybe turning this into a “both sides” narrative will benefit you. That is, as long as no outsider candidate comes in."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2626,
        "fields": {
            "answer": 5145,
            "candidate": 201,
            "answer_feedback": "It’s true that both Rice and Powell had personal email accounts, and Powell himself once told you he used a home PC to circumvent State Department restrictions. But ants in high heels can’t climb walls; your opponents will try to rehash this story until the campaign is over. And of course, those two are not likely to step in to defend you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2627,
        "fields": {
            "answer": 5146,
            "candidate": 201,
            "answer_feedback": "Maybe the best you can do here is show some contrition."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2628,
        "fields": {
            "answer": 5147,
            "candidate": 201,
            "answer_feedback": "It’s not hard to see you strike at Trump here, and maybe you have a point. His response to this shooting has caused some unease within members of his own party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2629,
        "fields": {
            "answer": 5148,
            "candidate": 201,
            "answer_feedback": "Ever since Columbine, you feel like the issue of gun control in America has only run around in circles. The worst part is that it’s not an issue you can easily grapple with. It’s sad."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2630,
        "fields": {
            "answer": 5149,
            "candidate": 201,
            "answer_feedback": "Alongside Senator Bill Nelson and Orlando Mayor Buddy Dyer, you meet with the families of the victims of the shooting that same day. You can’t even imagine the pain they are feeling right now."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2631,
        "fields": {
            "answer": 5150,
            "candidate": 201,
            "answer_feedback": "At first, it’s not yet clear whether this attack was actually terrorism. Although both you and Trump are coming under some criticism for jumping to that conclusion, it is Trump’s statements that get more of the media criticism."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2632,
        "fields": {
            "answer": 5151,
            "candidate": 201,
            "answer_feedback": "Bill thinks you sounded a lot more like Bernie Sanders than Hillary Clinton out there. Given your low favorability as of late, this may have its advantages."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2633,
        "fields": {
            "answer": 5152,
            "candidate": 201,
            "answer_feedback": "This is the standard acceptance speech that people expect from a modern Democratic candidate. Given how tense the primaries were, it’s a good idea to try and unite the convention. You’ll have to thank O’Malley later for helping with this speech, too."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2634,
        "fields": {
            "answer": 5153,
            "candidate": 201,
            "answer_feedback": "Your direct attack on Trump dominates headlines — and so do your supporters’ chants of “Lock him up! Lock him up!”. Given how he <i>also</i> attacked you at the Republican convention a week earlier, it’s good to strike back. Just keep in mind that voters want to hear ideas, too."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2635,
        "fields": {
            "answer": 5154,
            "candidate": 201,
            "answer_feedback": "When you finished your speech and returned backstage, you found Podesta dozing off on one of the couches. At some point during your speech, he got bored and went off to play the new hit game Pokémon Go. You think this may be a good sign."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2636,
        "fields": {
            "answer": 5155,
            "candidate": 201,
            "answer_feedback": "Tim appreciates the tone and is quite ready to campaign. Although quite popular within the party, he’s not very well-known nationally."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2637,
        "fields": {
            "answer": 5156,
            "candidate": 201,
            "answer_feedback": "Tim rapidly leans into his new role, stepping up appearances and even working on a few Spanish-language ads. His enthusiasm goes up when he feels genuinely included."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2638,
        "fields": {
            "answer": 5157,
            "candidate": 201,
            "answer_feedback": "Although Tim is not the first person that comes to people’s mind when they think of a “progressive”, you believe he’ll fit in nicely with your campaign."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2651,
        "fields": {
            "answer": 5170,
            "candidate": 201,
            "answer_feedback": "Bernie is happy to have your support here. On the day of the convention, his speech helps to electrify the crowd and define the Democratic Party as the real party of progress."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2652,
        "fields": {
            "answer": 5171,
            "candidate": 201,
            "answer_feedback": "The somewhat brief involvement of Bernie in your campaign does not go unnoticed by his supporters, who think you are moving too far to the center for no valid reason."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2653,
        "fields": {
            "answer": 5172,
            "candidate": 201,
            "answer_feedback": "The convention night had three good highlights. Two of them were from your former primary challengers, O’Malley and Webb, who had strong speeches. The third highlight was the front page of the Daily Kos flooded with anti-Hillary messages from alienated Bernie supporters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2654,
        "fields": {
            "answer": 5173,
            "candidate": 201,
            "answer_feedback": "This statement resonates with your base. Trump, of course, accuses you of being too soft in the face of terror."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2655,
        "fields": {
            "answer": 5174,
            "candidate": 201,
            "answer_feedback": "This is a standard response. You end up meeting with the city’s mayor, Philippe Pradal, and also French President François Hollande, and you come across as pretty statesmanlike — especially in comparison to Trump."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2656,
        "fields": {
            "answer": 5175,
            "candidate": 201,
            "answer_feedback": "It’s not hard to notice the surprisingly strong tone of your speech about ISIS. There is at least one portion of the American political spectrum that’s excited to hear this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2657,
        "fields": {
            "answer": 5176,
            "candidate": 201,
            "answer_feedback": "…lunar bears?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2658,
        "fields": {
            "answer": 5177,
            "candidate": 201,
            "answer_feedback": "You’re striking a balance between attacking Trump’s behavior and focusing on the issues of the day. Given how strange this election has been so far, this might be the best choice for you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2659,
        "fields": {
            "answer": 5178,
            "candidate": 201,
            "answer_feedback": "Some advisors think that letting Trump off the hook is a missed opportunity. You can’t help but notice his direct attacks on you have slowed down, however. Huh."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2660,
        "fields": {
            "answer": 5179,
            "candidate": 201,
            "answer_feedback": "After much insistence, you agree to go on Ellen. They watch you whip. They watch you nae nae. Hell, they even watch you dab, which causes the crowd to go wild. The next day, amidst the media firestorm, Trump holds a mock funeral for your campaign. You don’t know what’s happening anymore."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2665,
        "fields": {
            "answer": 5184,
            "candidate": 201,
            "answer_feedback": "Bill appreciates the support; you find him on the trail with you pretty often. Although he is fairly popular with the median voter, your advisors are worried about his gaffes, and also his weaknesses with the progressive and populist wings of your party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2669,
        "fields": {
            "answer": 5189,
            "candidate": 201,
            "answer_feedback": "This is a shift from your earlier position, but it keeps the progressive wing of your party happy. Some of your supporters worry this reversal will be framed as politically convenient."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2670,
        "fields": {
            "answer": 5191,
            "candidate": 201,
            "answer_feedback": "You know the crowd loves hearing your foreign policy stories. They don’t laugh so much, however, when you avoid the topic of minimum wage entirely, only to talk about how Mahatma Gandhi may or may not have run a gas station down in St. Louis."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2674,
        "fields": {
            "answer": 5196,
            "candidate": 201,
            "answer_feedback": "It’s an intriguing experience, but you and Obama find yourself on <b>the campaign trail</b> more often than not, subtly asking for more and more campaign support and infrastructure in exchange for other concessions. Suddenly, everything feels a lot more clear."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2675,
        "fields": {
            "answer": 5197,
            "candidate": 201,
            "answer_feedback": "Obama emphasizes turnout repeatedly in his speeches across these areas. It feels a bit transactional, but you’re definitely not complaining."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2676,
        "fields": {
            "answer": 5198,
            "candidate": 201,
            "answer_feedback": "There are a few unwanted rumors out there that you and Obama don’t totally get along. Unless you wanted those to leak out?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2677,
        "fields": {
            "answer": 5199,
            "candidate": 201,
            "answer_feedback": "Progressives are beginning to think that, perhaps, you are a new woman after all. So is Obama, who thinks you’ve thrown him overboard for nothing."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2678,
        "fields": {
            "answer": 5200,
            "candidate": 201,
            "answer_feedback": "There are pros and cons to embracing Bernie so closely, and some advisors wonder if you’ve gone insane. To prove them wrong, you make a speech the next week talking about the trials and tribulations of modern socialism. Perhaps this is what feeling the bern feels like."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2679,
        "fields": {
            "answer": 5201,
            "candidate": 201,
            "answer_feedback": "A crowd of about 10,000 people shows up to your joint rally in Saginaw. A part of you thinks that perhaps, in the words of Dubya, you may have misunderestimated him."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2680,
        "fields": {
            "answer": 5203,
            "candidate": 201,
            "answer_feedback": "It takes about three and a half meetings mediated by Elizabeth Warren for Bernie to begrudgingly endorse you. The media circus as a result of this leaves you wishing for more late-night benders."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2684,
        "fields": {
            "answer": 5227,
            "candidate": 201,
            "answer_feedback": "Unfortunately, this issue has cost you several days of appearances during a critical part of the campaign. Still, voters appreciate your transparency, and Trump even sends you a “get well soon” card, along with many pictures of him in Jon Arbuckle-esque attire to prove he’s healthier than you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2685,
        "fields": {
            "answer": 5228,
            "candidate": 201,
            "answer_feedback": "Eventually, this moment fades from the media, and your campaign gets back into full force."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2686,
        "fields": {
            "answer": 5229,
            "candidate": 201,
            "answer_feedback": "You push through rallies at full force, although reporters eventually start noticing how fatigued you seem at some of your rallies. It doesn’t help that in one of these rallies, you made a total of fifty-eight Pokémon jokes. If I could be Pokémon Crystal about this, you better Pokémon Snap out of whatever you’re doing and just get voters to Pokémon Go to the polls."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2687,
        "fields": {
            "answer": 5230,
            "candidate": 201,
            "answer_feedback": "Sure enough, you keep campaigning, but it gets harder and harder to hide your occasional coughing fits at times. At his rallies, Trump talks about “Hillarygate” and suggests you died and were replaced by a low-energy double."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2688,
        "fields": {
            "answer": 5242,
            "candidate": 201,
            "answer_feedback": "“Lester, I tell you this, I’ve seen many places. Beautiful places, and they all treat me with tremendous respect. But Hillary, see, she thinks I’m bad— n-no respect for our elders— she thinks I’m heroin chic. Are you heroin chic, Lester? Are we…? What did you say?”<br/><br/>Sure enough, Trump does unravel, though not exactly in the way you expected. You can’t help but laugh at times, and he finds himself doing the same. Although most polls indicate that you were the winner of the debates, you start to feel this may not affect the final results as much."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2689,
        "fields": {
            "answer": 5243,
            "candidate": 201,
            "answer_feedback": "“We’ve seen how Hillary went after Obamna. She—she couldn’t let him speak, it’s impressive. She put Joe Biden to sleep. And frankly, I look—I look at that, and I say, isn’t that sad? She has no— no respect for her friends. A very sad, very nasty woman indeed.”<br/><br/>Although you try your best, you find out that fact-checking Trump in real-time is harder than it seems, and you end up calling him a liar most of the time. Although fearing you’ve been seen as annoying, most polls indicate you won the debates."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2690,
        "fields": {
            "answer": 5244,
            "candidate": 201,
            "answer_feedback": "“Have you seen it? She wants amnesty, she wants open borders. I’ve never seen so many open— so many borders. She doesn’t know, Hillary doesn’t know what an immigrant is. Everything is legal to her, it’s terrible… the drugs— the illegal drugs. I want a strong wall, the strongest in the history of strong walls.”<br/><br/>Trump’s insults at you throughout the debate don’t exactly go unnoticed, and neither do your somewhat futile attempts at focusing on more concrete issues. Still, you hit some good notes, and polls indicate you are the winner of these debates."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2691,
        "fields": {
            "answer": 5245,
            "candidate": 201,
            "answer_feedback": "“Her health plan is very bad. So bad, I call it ‘Killarycare.’ Mrs. Clinton wants to kill your insurance— it’s terrible, really— kill our healthcare and quintuple our debt. An unbelievable amount of debt. Never— never has more debt existed in the history of debt, that’s what her plan does.”<br/><br/>Of course, you and Trump spend a lot of time attacking each other in the debates, although he follows suit and focuses more on your ideas than on yourself. Still, most polls indicate you’ve won these debates."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2692,
        "fields": {
            "answer": 5246,
            "candidate": 201,
            "answer_feedback": "The amount of backlash that Trump gets from his fellow conservatives surprises you a bit. Of course, this type of dissension can only help you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2693,
        "fields": {
            "answer": 5247,
            "candidate": 201,
            "answer_feedback": "There’s already some talk on the Christian right of staying home on Election Day, or casting their votes for someone else. Naturally, this can only help you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2694,
        "fields": {
            "answer": 5248,
            "candidate": 201,
            "answer_feedback": "You don’t even need to do anything here; your surrogates will spread the word while you go around the country. It can’t get any better than this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2695,
        "fields": {
            "answer": 5249,
            "candidate": 201,
            "answer_feedback": "That same day, Trump responds to you on Twitter with a typo-filled rant about how you “have never been funny in your life.” It does not stop the bleeding he’s getting from all sides of his coalition, however, which can only help you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2696,
        "fields": {
            "answer": 5250,
            "candidate": 201,
            "answer_feedback": "It’s always good to clarify things, but “free trade” is anathema to the progressive base and many voters in the Midwest. I don’t know about you, but I think you’re getting yourself in some deep shit."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2697,
        "fields": {
            "answer": 5251,
            "candidate": 201,
            "answer_feedback": "This is factually accurate for pretty much every American politician, but you’re seen more as two-faced rather than honest here. You’re not even sure if Lincoln actually said that or if you’re misremembering something from the Steven Spielberg movie “Lincoln”. It’s a pretty good movie. You’ll have to rewatch it sometime."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2698,
        "fields": {
            "answer": 5252,
            "candidate": 201,
            "answer_feedback": "You don’t want negative attention to your campaign at such a crucial moment. Perhaps focusing on Trump’s misdeeds will make this easier on you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2699,
        "fields": {
            "answer": 5253,
            "candidate": 201,
            "answer_feedback": "These leaks will only add more fuel to the fire, especially with young progressives who already didn’t trust you in the first place. Not too long later, the media picks up on these leaks as well."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2700,
        "fields": {
            "answer": 5254,
            "candidate": 201,
            "answer_feedback": "You have a point here, although the very nature of these emails is still going to hurt your credibility among his supporters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2701,
        "fields": {
            "answer": 5255,
            "candidate": 201,
            "answer_feedback": "There’s not really much you can do here besides deflecting to another, easier issue to deal with. Nevertheless, this is still gonna hurt you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2702,
        "fields": {
            "answer": 5256,
            "candidate": 201,
            "answer_feedback": "You find yourself on the defense almost all the time, and some of your advisors worry that attacking the FBI Director directly will affect your standing with undecided voters. Comey eventually announced that no new evidence had been found, but maybe the damage has already been done."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2703,
        "fields": {
            "answer": 5257,
            "candidate": 201,
            "answer_feedback": "After a few days, Comey does announce that no new evidence was found. Unfortunately for you, there was a definite effect on the polls as early voting began."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2707,
        "fields": {
            "answer": 5212,
            "candidate": 201,
            "answer_feedback": "This is true, although Trump did not explicitly vote for the invasion like you did — and also turned on it sooner than you. You two have a back and forth on this for a couple of weeks before he gives up and moves on to greener pastures. That is, Benghazi."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2708,
        "fields": {
            "answer": 5215,
            "candidate": 201,
            "answer_feedback": "The front cover of today’s The New York Times edition has “Clinton Defends Iraq War” in a bigger font size than you’d prefer. Although your statement is factually accurate, it puts you to the right of almost everyone in your party. I don’t even need to tell you who’s enraged with you, right?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2711,
        "fields": {
            "answer": 5220,
            "candidate": 201,
            "answer_feedback": "Way to excite the progressive elements of your base. Although some Republicans are wary of a second Hillarycare, especially given your earlier failures on this front, maybe you could give it a shot if Dems regain control of the House and Senate this year."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2712,
        "fields": {
            "answer": 5221,
            "candidate": 201,
            "answer_feedback": "This was the stance you took in the primaries, and is a fairly mainstream position in your party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2713,
        "fields": {
            "answer": 5223,
            "candidate": 201,
            "answer_feedback": "It’s always good to defend a popular program, although both supporters and opponents can see that you are not really rocking the boat on this issue."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2714,
        "fields": {
            "answer": 5224,
            "candidate": 201,
            "answer_feedback": "Your base hears you out, but it seems like you’ll have to apologize over this more than you’d think in the following days. It sucks."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2715,
        "fields": {
            "answer": 5225,
            "candidate": 201,
            "answer_feedback": "You definitely can’t ignore it, but voters also won’t ignore what you just said because, like it or not, you come across as dismissive of a good chunk of Trump’s base. It does not help that there are Obama voters out there who like Trump, and will not vote for you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2716,
        "fields": {
            "answer": 5226,
            "candidate": 201,
            "answer_feedback": "The least you can do is muddy the waters a bit and hope the reaction to this dies down soon. But now that it’s been said, you’ll have to live through this anyway."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 2717,
        "fields": {
            "answer": 5233,
            "candidate": 201,
            "answer_feedback": "Behind the scenes, Obama is a bit needled by your lukewarm support for a deal you’ve endorsed from the very beginning. There are already some rumors in the political press of a rift between you two, but you insist everything is fine."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20681,
        "fields": {
            "answer": 5261,
            "candidate": 201,
            "answer_feedback": "Just as you’re wrapping up your speech, Madonna enthusiastically pulls you into an unplanned duet of “Girl Gone Wild.” You awkwardly power through the chorus with undeniable commitment and a lot of lipsyncing. At the end of it, your head is spinning. The smirk on Bill’s face will probably be ingrained in your mind for years to come."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20685,
        "fields": {
            "answer": 5222,
            "candidate": 201,
            "answer_feedback": "It’s always a good idea to establish a contrast between you and your opponent, especially given the ACA’s popularity, but keep in mind that voters want to hear ideas as well. You’ll have plenty of other opportunities for bullying Trump throughout the campaign."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20688,
        "fields": {
            "answer": 5234,
            "candidate": 201,
            "answer_feedback": "Might as well hit him back on this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20689,
        "fields": {
            "answer": 5231,
            "candidate": 201,
            "answer_feedback": "Behind the scenes, you hear that Obama is pleased with your comments. As a gift, he sends you a pot of Häagen-Dazs® butter pecan ice cream after one of your rallies; you don’t think it tastes too good."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20694,
        "fields": {
            "answer": 20690,
            "candidate": 201,
            "answer_feedback": "The good news is that you have more than enough surrogates to do a Full Ginsburg in your defense. A few days later, Comey cleared you, again, but it’s also clear that your numbers in the polls have taken a very real hit."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20697,
        "fields": {
            "answer": 20696,
            "candidate": 201,
            "answer_feedback": "This is probably the case. It’s worth noting, however, that any loss of support for Trump can only help you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20712,
        "fields": {
            "answer": 20711,
            "candidate": 201,
            "answer_feedback": "Although it’s unlikely that most of these Republicans will back you, there’s no one stopping you from twisting the knife a bit more."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20717,
        "fields": {
            "answer": 20716,
            "candidate": 201,
            "answer_feedback": "This is in line with your position so far. Of course, Democratic majorities in both chambers would make this so much easier…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20726,
        "fields": {
            "answer": 20725,
            "candidate": 201,
            "answer_feedback": "You wake up the next day with an unexpected <i>The Wall Street Journal</i> op-ed praising elements of your economic policy — and calling you a “second triangulator”, in a reference to your husband. Your confusion only grows when you find out it was signed by Nate Silver of 538."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20732,
        "fields": {
            "answer": 20731,
            "candidate": 201,
            "answer_feedback": "Some in the political arena think Trump is a “New Republican”, and that may not be too far from reality. But of course, you don’t want them to think that. It cannot be true."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20737,
        "fields": {
            "answer": 20736,
            "candidate": 201,
            "answer_feedback": "Threading the needle on <i>trade</i>, of all issues, has given you more headaches than you could count. Although you’re skeptical that most progressives will see through this, maybe a spoonful of sugar helps the medicine go down?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20752,
        "fields": {
            "answer": 20751,
            "candidate": 201,
            "answer_feedback": "You get a good day of press from about half a dozen or so progressive media outlets. Privately, however, Obama and other Democrats are disappointed."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20758,
        "fields": {
            "answer": 20757,
            "candidate": 201,
            "answer_feedback": "After some hesitancy on your part, Obama is happy to see you’re walking the walk on the TPP. For progressives, though, it may be the nail on the coffin."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20764,
        "fields": {
            "answer": 20763,
            "candidate": 201,
            "answer_feedback": "You can’t argue that this is a changed position on your part. Still, it might help mend fences with the more protectionist wing of your party. They know you’re no Sanders, but at least you can show them you’re no Bill."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20769,
        "fields": {
            "answer": 5202,
            "candidate": 201,
            "answer_feedback": "Turns out Sanders has a very enthusiastic base of operatives. Maybe some of them can do the dirty work for you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20778,
        "fields": {
            "answer": 20777,
            "candidate": 201,
            "answer_feedback": "You don’t believe the first half of what you said, but this is the logical answer. The Republican obstructionism on Garland’s nomination has not been popular with the public, after all. Some base progressives expected more from you, however."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20799,
        "fields": {
            "answer": 20798,
            "candidate": 201,
            "answer_feedback": "You basically just told Obama he picked the wrong guy. As honest as it may have been, he’s not very happy about it."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20804,
        "fields": {
            "answer": 20803,
            "candidate": 201,
            "answer_feedback": "Some of the names floated to you include Paul Watford, Sri Srinivasan, and Ketanji Brown Jackson. On the very bottom of the list, one scribbled name needles you a bit: Barack Obama. W-what’s he doing here? You didn’t write that down. N-no. You’re not doing this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20808,
        "fields": {
            "answer": 5258,
            "candidate": 201,
            "answer_feedback": "You remember what they did to Gore. The likes of Jeb, Harris, O’Connor… you can’t help but wonder if the same will happen here."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20809,
        "fields": {
            "answer": 5259,
            "candidate": 201,
            "answer_feedback": "Besides an awkward seven-second handshake you had with Sanders at the start of the rally, things go pretty smoothly. Soon it will be all over."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20810,
        "fields": {
            "answer": 5260,
            "candidate": 201,
            "answer_feedback": "You’d never imagined that your final campaign rally would be in Vegas, but you’re glad it was. Fifty-five years after Raoul Duke and Dr. Gonzo departed this place, you realize it’s still a bit of a mad city. It’s funny."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20849,
        "fields": {
            "answer": 20848,
            "candidate": 201,
            "answer_feedback": "It’s true that there are some on the left who, disappointed, think you’re not much of a change from Obama in this regard. But other people hear you as well.\n"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20853,
        "fields": {
            "answer": 20852,
            "candidate": 201,
            "answer_feedback": "Pundits on both the left and the right debate your about-face on this issue."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20857,
        "fields": {
            "answer": 20856,
            "candidate": 201,
            "answer_feedback": "This may be true, but voters would still prefer to hear an actual answer from you. Nevertheless, you persist."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20864,
        "fields": {
            "answer": 20863,
            "candidate": 201,
            "answer_feedback": "A bit of a change from your previous position, but it won’t hurt (too) much."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20872,
        "fields": {
            "answer": 20871,
            "candidate": 201,
            "answer_feedback": "This is a more of a market-focused philosophy coming from you. The progressive wing of your party is not satisfied, though."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20894,
        "fields": {
            "answer": 20893,
            "candidate": 201,
            "answer_feedback": "Interesting. Although the idea of a Green New Deal isn’t mainstream yet, a few prominent environmental activists are quite enthusiastic about it. One of them is a supporter of your campaign, Robert F. Kennedy Jr."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20901,
        "fields": {
            "answer": 20900,
            "candidate": 201,
            "answer_feedback": "This is the standard Democratic position on this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20908,
        "fields": {
            "answer": 20907,
            "candidate": 201,
            "answer_feedback": "A part of you thinks that you can win the “War on Coal”, whatever you want to call it. Another part of you, seeing the outrage from Republicans — and some members of your party, such as Manchin —, thinks it’s gonna be a long ride."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20916,
        "fields": {
            "answer": 20915,
            "candidate": 201,
            "answer_feedback": "This was your stance in the Democratic primaries. The progressive base won’t think this is enough, but well, it’s definitely a start."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20939,
        "fields": {
            "answer": 20938,
            "candidate": 201,
            "answer_feedback": "Interesting response. Sanders’ primary platform had something similar, too."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20949,
        "fields": {
            "answer": 20948,
            "candidate": 201,
            "answer_feedback": "Although this is true, there are some wondering if you’ve taken this position to back away from your college tuition plan. You know who won’t be happy about this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20956,
        "fields": {
            "answer": 20955,
            "candidate": 201,
            "answer_feedback": "Calling you “obsessed” with him, Trump plays the Mariah Carey song of the same name in his rallies over and over until his campaign gets a cease and desist order from her record label. This may not be his weakest point, but you’ll definitely keep talking about this over the campaign."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20982,
        "fields": {
            "answer": 20981,
            "candidate": 201,
            "answer_feedback": "Although disappointed, Bill understands. Despite his limited number of campaign appearances, it’s not hard to notice he’s far more effective in places like Chillicothe, Ohio, and Altoona, Pennsylvania, where your poll numbers just aren’t very comfortable."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 20989,
        "fields": {
            "answer": 20988,
            "candidate": 201,
            "answer_feedback": "Publicly, he understands your message. Privately, you notice he’s colder than usual. He thinks you’re doing the same thing that Gore did to him at the start of the millennium. At home, he spends more time reading briefing papers than you’ve ever seen. You sleep alone for a few nights, too. But maybe you know something he doesn’t."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21000,
        "fields": {
            "answer": 20995,
            "candidate": 201,
            "answer_feedback": "Compared to your position in the primaries, this is a surprisingly dovish tone on foreign policy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21002,
        "fields": {
            "answer": 21001,
            "candidate": 201,
            "answer_feedback": "It doesn’t take long for a right-wing rumor that you are going to flood the country with immigrants to pop up, although most of it is overshadowed by your support for a bombing campaign. The progressive wing of your party is furious."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21008,
        "fields": {
            "answer": 21007,
            "candidate": 201,
            "answer_feedback": "This is more of a thought-out version of your position that you held in the primaries. Overall, it seems to be the mainstream view — unless you’re someone like Trump."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21014,
        "fields": {
            "answer": 21013,
            "candidate": 201,
            "answer_feedback": "Overnight, it seems like a lot of neo-con media commentators have changed their opinion on you. As the so-called Cheney-heads drum up support for an eventual strike on Syria, the progressive elements of your party are livid. They think you fucked up."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21021,
        "fields": {
            "answer": 21020,
            "candidate": 201,
            "answer_feedback": "After much discussion, Podesta presents a name to you: that of former New York Governor George Pataki. You feel like you want to cry, and your tears are not of joy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21036,
        "fields": {
            "answer": 5214,
            "candidate": 201,
            "answer_feedback": "This point needles you from time to time. Your force-averseness didn’t stop you from voting yes, and it only reminds you of your own words of encouragement to Bill regarding bombing Serbia. But maybe there is a point to this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21037,
        "fields": {
            "answer": 5213,
            "candidate": 201,
            "answer_feedback": "Perhaps it might be safer to pivot on this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21038,
        "fields": {
            "answer": 5232,
            "candidate": 201,
            "answer_feedback": "A bit of a hedge, but it won’t hurt much."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21040,
        "fields": {
            "answer": 21039,
            "candidate": 201,
            "answer_feedback": "On the balance, this strikes a pragmatic tone, although this does leave some progressive voters wanting more. It’s a start, though."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21045,
        "fields": {
            "answer": 5190,
            "candidate": 201,
            "answer_feedback": "This is less policy-specific, but you’re betting a lot that making Trump less popular than you will pave the way to an easier victory. Maybe this works?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21047,
        "fields": {
            "answer": 5263,
            "candidate": 201,
            "answer_feedback": "Kaine was almost picked over Biden in 2008, and you don’t see him as a bad choice at all. Still, perhaps highlighting his progressive credentials may help bring these people over to the fold — or shut them up for a while."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21048,
        "fields": {
            "answer": 5262,
            "candidate": 201,
            "answer_feedback": "This is true; the 2016 Democratic platform is perhaps the most progressive of all Democratic platforms, and you’ll need the progressives on your side anyway if you win."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21056,
        "fields": {
            "answer": 21055,
            "candidate": 201,
            "answer_feedback": "There are some in your party who want you to point this out more, but do you have to? Let him shoot himself in the foot."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21097,
        "fields": {
            "answer": 21096,
            "candidate": 201,
            "answer_feedback": "Nationwide, this is a popular position, and this is one achievement of Obama that, if preserved, would be a huge bonus to your foreign policy. Meanwhile, in Miami, aging exile voters and an odd fellow named Marco Rubio call you a traitor."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21103,
        "fields": {
            "answer": 21102,
            "candidate": 201,
            "answer_feedback": "This answer offends no one and excites no one, but it’s in line with what most of your advisors believe in. You do believe in us too, right? Right?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21109,
        "fields": {
            "answer": 21108,
            "candidate": 201,
            "answer_feedback": "You get a standing ovation in Little Havana, and the AM radio circuit there declares you a hero. This is also a reversal from your previous position, and one that younger voters in your party just don’t get."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21116,
        "fields": {
            "answer": 21115,
            "candidate": 201,
            "answer_feedback": "Of course, Fox News schedules many negative segments on you. But for many young voters, especially Black voters, you’re finally saying what needed to be said."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21132,
        "fields": {
            "answer": 21131,
            "candidate": 201,
            "answer_feedback": "Some activists are disappointed, but this may be closer to the general public’s position."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21137,
        "fields": {
            "answer": 21136,
            "candidate": 201,
            "answer_feedback": "You sound more like 1990s Hillary than 2010s Hillary here. It does not help that one of your speeches defending the famous 1994 Crime Bill and using the term “super predators” is making the rounds in the media. Unless, of course, that was in your plans all this time?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21153,
        "fields": {
            "answer": 21152,
            "candidate": 201,
            "answer_feedback": "Fair enough. Some of your advisors think this is a missed opportunity to connect with the youth vote, however."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21157,
        "fields": {
            "answer": 21156,
            "candidate": 201,
            "answer_feedback": "You know Hillary, if I were a single man, I might ask that Vaporeon out. That’s a good-looking Vaporeon. Right? Right?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21161,
        "fields": {
            "answer": 21160,
            "candidate": 201,
            "answer_feedback": "Oh my God. This turns out to be the single most quoted line of your campaign, for better or worse. You better hope these people will Pokémon Go to a polling station and vote on that thang. I mean, your name."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21166,
        "fields": {
            "answer": 21165,
            "candidate": 201,
            "answer_feedback": "Although congressional Republicans will call this “a political stunt,” as photos of brown tap water resurface in ads, some voters will remember what “business as usual” cost them."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21178,
        "fields": {
            "answer": 21177,
            "candidate": 201,
            "answer_feedback": "Your broader focus here resonates with younger voters and progressive activists, although Trump accuses you of overgeneralizing Flint."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21184,
        "fields": {
            "answer": 21183,
            "candidate": 201,
            "answer_feedback": "A more technical response coming from you, although some in your party see this as needling your former boss, Obama."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21191,
        "fields": {
            "answer": 21190,
            "candidate": 201,
            "answer_feedback": "This is a good way to strike back at him, although there are still some people in your party who are uneasy about your administration’s economic policy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21205,
        "fields": {
            "answer": 21204,
            "candidate": 201,
            "answer_feedback": "In retrospect, this would’ve been a more efficient attack if this were the election of 2008, or rather, the election of 2000. But maybe you have a point."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21209,
        "fields": {
            "answer": 21208,
            "candidate": 201,
            "answer_feedback": "You know, pretty much calling him a loser does poll well with some of our focus groups, in particular the moderates. What if… perchance…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21214,
        "fields": {
            "answer": 21213,
            "candidate": 201,
            "answer_feedback": "This is fair, but just remember that “Trump bad” probably won’t win you the election on its own. You gotta give out the details, you know."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21221,
        "fields": {
            "answer": 21220,
            "candidate": 201,
            "answer_feedback": "The funny thing here is that May herself is reportedly in favor of staying in the EU; maybe it could work if you do that. The less funny thing is how negatively the reactions to your comments are viewed in the European circuit."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21241,
        "fields": {
            "answer": 21240,
            "candidate": 201,
            "answer_feedback": "Although this is not a major issue this election, it’s good to establish how your administration will respond to this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21246,
        "fields": {
            "answer": 21245,
            "candidate": 201,
            "answer_feedback": "This is somewhat vague on your part, but is in line with the Democratic position on this issue."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21254,
        "fields": {
            "answer": 21253,
            "candidate": 201,
            "answer_feedback": "Although this may be closer to the general public’s position, it will not please the progressive wing of your party, who’s not wishing for you to be a watered-down Trump on this issue."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21260,
        "fields": {
            "answer": 21259,
            "candidate": 201,
            "answer_feedback": "This is a good way to strike a balance between your own interests and also your party’s current situation; if they don’t do well in the House and Senate this year, there will be no point to twist and shout."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21265,
        "fields": {
            "answer": 21264,
            "candidate": 201,
            "answer_feedback": "This is in line with what you said in the primaries, and also appeals to the progressive elements of your party."
        }
    }
]

campaignTrail_temp.candidate_image_url = "https://i.imgur.com/rGazUY4.jpeg";
campaignTrail_temp.running_mate_image_url = "https://i.imgur.com/7TQKexe.jpeg";
campaignTrail_temp.candidate_last_name = "Clinton";
campaignTrail_temp.running_mate_last_name = "Kaine";



campaignTrail_temp.jet_data = [{
    "mapping_enabled": false,
    "mapping_data": {
        "mapSvg": ""
    },
    "nicknames": {
        "200": "Trump",
        "201": "Hillary",
        "202": "Johnson",
        "203": "Stein"
    },
    "banner_enabled": true,
    "banner_data": {
        "canName": "Clinton",
        "canImage": "https://i.imgur.com/rGazUY4.jpeg",
        "runName": "Kaine",
        "runImage": "https://i.imgur.com/7TQKexe.jpeg"
    },
    "cyoa_enabled": false,
    "cyoa_data": {},
    "endings_enabled": false,
    "ending_data": {}
}
]

// This is, in a way, fairly similar to astrohuncho's bunnyhop. (hi astro!)
// However, using the actual bunnyhop here was not a viable option, as many of this mod's
// questions were already set in place using Jet's Mod tool — which served for adding/removing
// most of them. Re-writing everything would take a lot of time.
// For the sake of simplicity, we had to resort to an in-house solution.

// standard Fisher-Yates shuffle function
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

const questionCount = campaignTrail_temp.global_parameter_json[0].fields.question_count;

if (questionCount == 40) {
	// questions 1-10
    const fixedStart = campaignTrail_temp.questions_json.slice(0, 10);

    // create the main randomized batch
    // this pool has questions 11-21 AND questions 30-40
    const mainRandomPoolSource = campaignTrail_temp.questions_json.slice(10, 21); // Q11-21
    const extraRandomPoolSource = campaignTrail_temp.questions_json.slice(29, 40); // Q30-40
    const combinedRandomPool = mainRandomPoolSource.concat(extraRandomPoolSource);
    shuffle(combinedRandomPool); // shuffle the combined pool

    // create the second randomized batch for questions 22-25
    const midRandomPool = campaignTrail_temp.questions_json.slice(21, 25); // Q22-25
    shuffle(midRandomPool);

    // questions 26-29 (fixed at the end)
    const fixedEnd = campaignTrail_temp.questions_json.slice(25, 29); // Q26-29

    // assemble the new, final question list
    const newQuestionsList = [
        ...fixedStart,
        ...combinedRandomPool,
        ...midRandomPool,
        ...fixedEnd
    ];

    // replace the old question list with the newly constructed one
    campaignTrail_temp.questions_json = newQuestionsList;

} else {
    // configuration for segments to be shuffled
	// each object defines the 'start' index (0-based) of the segment in the original array
	// and the 'count' of elements in that segment
    const segmentsToShuffle = [
        { start: 10, count: 11, extra: [29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39] },   // questions 11-21 (indices 10-20) + post-29 questions
        { start: 25, count: 2 }   // questions 26-27 (indices 25-26) are shuffled amongst themselves
    ];

    // iterate over the configuration and shuffle the specified segments
    segmentsToShuffle.forEach(segment => {
      // grab the contiguous block
      let block = campaignTrail_temp.questions_json
        .slice(segment.start, segment.start + segment.count);

      // if there are extras, pull them in too
      if (Array.isArray(segment.extra)) {
        segment.extra.forEach(idx => {
          // only pull if the question exists
          if (campaignTrail_temp.questions_json[idx]) {
            block.push(campaignTrail_temp.questions_json[idx]);
          }
        });
      }

      // shuffle the combined pool
      shuffle(block);

      // take only as many as the original segment count to fill the space
      const toWrite = block.slice(0, segment.count);

      // splice those back into the main list
      campaignTrail_temp.questions_json
        .splice(segment.start, segment.count, ...toWrite);
    });
}

console.log("Question re-ordering applied. At least this is working.");

// This is used to replace a series of images & question data for each running mate.
// 211 is Booker, 212 is Patrick, 213 is Biden, 215 is Biden, 216 is Garcetti.
// Kaine is unaffected, for obvious reasons

const UNLOCK_THRESHOLD_EV = 306; // EV threshold to unlock running mates
const STORAGE_KEY = 'hillary2016_unlocked_rms';

const RUNNING_MATE_IDS = {
    KAINE: 209,
    BOOKER: 211,
    PATRICK: 212,
	BIDEN: 213,
    CASTRO: 214,
    GARCETTI: 215,
};

const STATE_IDS = {
    NEW_JERSEY: 1029,
    MASSACHUSETTS: 1020,
	DELAWARE: 1007,
    TEXAS: 1042,
    CALIFORNIA: 1004,
};

const RUNNING_MATE_DATA = {
    [RUNNING_MATE_IDS.BOOKER]: {
        name: "Booker",
        bannerUrl: 'https://i.imgur.com/TaaPEfy.png',
        mateImageUrl: 'https://i.imgur.com/Hu0XBpc.jpeg',
        advisorUrl: 'https://i.imgur.com/FGwBSzI.jpeg',
        questions: {
            1046: "Just prior to the convention, you selected Cory Booker, a Senator from New Jersey, as your running mate. What was your rationale behind selecting him?",
            1077: "Progressive activists wanted a more left-wing choice than Cory Booker, and don’t feel very enthusiastic about your new running mate. How do you respond to those who feel he’s too centrist?"
        },
        answers: {
            5155: "Cory Booker’s grassroots work in Newark taught him how to bring people together across divides to solve problems. I knew we needed that kind of bridge-building leadership and collaborative spirit on our team. There was no way I could say no to that.",
            5156: "See, I wanted a partner who could authentically speak to both working-class families and the business community. Cory’s proven record not only shows he can bridge those worlds effectively, but he can also make real differences for families while understanding how to drive economic opportunity.",
            5157: "What excites me about Cory is how he combines genuine compassion with effective action. He’s earned widespread trust through his criminal justice reform work, and I have complete confidence in his ability to help advance our agenda for America.",
            5262: "His record in the Senate is there to prove that Cory is a safe, pragmatic <i>and</i> progressive choice. Not only that, but he’s garnered a ton of experience in the Senate and is more than qualified to hold the position of Vice President.",
            5263: "Read my lips: Booker and I will be running the most progressive administration in American history. Our platform shows that, and together we will tackle climate change and maternal mortality, while protecting Social Security and Medicare."
        },
        feedback: {
            5155: "Cory is a bit of a rising star in the Democratic Party, and this selection only reinforces that. In fact, he’s so excited that he’s already lining up new community events for you.",
			5156: (() => {
                const favoriteMovies = [
                    'Click', 'Grown Ups', 'Grown Ups 2', 'Paul Blart: Mall Cop', 'Paul Blart: Mall Cop 2', 'Jack and Jill', 'Hoodwinked', 'Hoodwinked Two! Hood vs. Evil', 'Pixels', 'Zookeeper', 'That’s My Boy', 'Fred: The Movie', 'Little Nicky', 'Gigli', 'Happily N’Ever After', 'Bridge to Terabithia', 'Tenacious D in The Pick of Destiny', 'Alvin and the Chipmunks: The Squeakquel', 'Happy Feet', 'Miss Congeniality', 'The Pink Panther', 'The Pink Panther 2', 'Reno 911!: Miami', 'Taxi (2004)', 'D.E.B.S.', 'Bad Girls from Valley High', 'Legally Blondes', 'Dream a Little Dream 2', 'An Extremely Goofy Movie', 'National Lampoon’s Last Resort', 'The Aristocrats', 'The Longest Yard', 'Bingo', 'The Human Centipede (First Sequence)', 'The Heartbreak Kid', 'Dirty Rotten Scoundrels', 'The Out-of-Towners (1999)', 'Arthur (2011)', 'Bedazzled (2000)', 'A Bucket of Blood (1995)', 'The Kid from Left Field (1979)', 'Gambit (2012)', 'Piranha 3D', 'I Don’t Know How She Does It', 'I Want Someone to Eat Cheese With', 'School for Scoundrels (2006)', 'Spy Kids: All the Time in the World', 'The Magic Roundabout', 'TMMT (2007)',
                ];
                const movie = favoriteMovies[Math.floor(Math.random() * favoriteMovies.length)];
                return `Happy to be on your team, Booker wants to be directly involved in your outreach efforts. His enthusiasm is quite infectious, and he brings copies of one of his favorite movies, <i>${movie}</i>, to every rally he’s in. A lot of copies, actually.`;
            })(),
            5157: "Though some see him as more pragmatic than progressive, you believe his blend of idealism might help you win over skeptical moderates, and maybe get some of those Bernie-bros to look more into him.",
            5262: "To be fair, Cory’s only been in the Senate for about three years now, although you think his experience in Newark more than makes up for it. Whether the others in your party will be convinced, well…",
            5263: "The good news is that, if anything goes wrong in the next four years, you can at least twist the meaning of “progressive” to favor your side. You’d better hope they look at Cory and see him as someone they can also trust.",
			// other feedback
			5176: "I’m telling you, I don’t get why you talk so much about lunar bears. There aren’t any. Right?",
			5214: "We can’t be everywhere all at once, but you gotta take risks sometimes. Do you think Trump would be as strong on Milosevic as your husband was?",
			5220: "Who knows how this will end up, but you can always get Magaziner to come up with a plan that suits you if all goes well.",
			5231: "Behind the scenes, you hear that Obama is pleased with your comments. As a gift, he sends you a pot of Häagen-Dazs® creamy mango ice cream after one of your rallies; it’s a funny taste, and not your favorite, but you’re slowly warming up to it.",
			20803: "Some of the names floated to you include Amy Klobuchar, Lucy Koh, and… wait, Cory Booker? H-hold on a bit. But— are you— did you write this down, Hill?",
			20893: "Good call. After our failures with Kyoto, the least we want to see is a Trump presidency turning the nation into a seaQuestian-like dystopian nightmare.",
			21020: "After much discussion, Podesta presents a name to you: that of former eBay CEO Meg Whitman. You feel like you want to cry, and your tears are not of joy.",
			21156: "You know, Saddam tried to ban Pokémon in Iraq once. If he wasn’t history now, I’d get my— what do they call it again? Oh yeah, a “Machamp” to whoop his ass."
        },
        issueScores: {
            5155: [
                { issue: 100, score: 0.4 }, { issue: 101, score: -0.3 }, { issue: 102, score: 0.1 },
                { issue: 103, score: 0.55 }, { issue: 104, score: 0.55 }
            ],
            5156: [
                { issue: 100, score: 0.35 }, { issue: 101, score: -0.3 }, { issue: 102, score: 0 },
                { issue: 103, score: 0.55 }, { issue: 104, score: 0.55 }
            ],
            5157: [
                { issue: 100, score: 0.35 }, { issue: 101, score: -0.3 }, { issue: 102, score: -0.125 },
                { issue: 103, score: 0.55 }, { issue: 104, score: 0.55 }
            ]
        },
        stateScores: [
            { answer: 5155, state: STATE_IDS.NEW_JERSEY },
            { answer: 5156, state: STATE_IDS.NEW_JERSEY },
            { answer: 5157, state: STATE_IDS.NEW_JERSEY },
        ],
        globalScores: {
            5262: [
                { candidate: 201, affected_candidate: 203, global_multiplier: -0.002 }
            ]
        }
    },
    [RUNNING_MATE_IDS.PATRICK]: {
        name: "Patrick",
        bannerUrl: 'https://i.imgur.com/T5HdnXI.png',
        mateImageUrl: 'https://i.imgur.com/fhNuRLE.jpeg',
        advisorUrl: 'https://i.imgur.com/iAZtKqW.jpeg',
        questions: {
            1046: "Unexpectedly, you’ve chosen former Massachusetts Governor Deval Patrick as your running mate. As he was on none of the rumored shortlists for your running mate pick, what was your rationale behind selecting him?",
            1077: "It’s not easy to say this, but there are a lot on the left who feel deflated by your choice of Deval Patrick as your running mate, finding him to be an “Obama pick” and nothing else. What’s your message to those critics?"
        },
        answers: {
            5155: "Deval Patrick transformed Massachusetts into a genuine laboratory for progressive ideas that work, from healthcare expansion to comprehensive education reform. That’s exactly the kind of proven track record and innovative leadership we need to bring to the White House.",
            5156: "I needed a vice president who could both innovate with bold ideas and govern effectively from day one. Deval’s record speaks for itself; he created jobs, reduced crime, and improved schools across Massachusetts. He’s the ideal partner for our administration.",
            5157: "Governor Patrick’s extensive experience makes him someone the American people can truly count on. President Obama was absolutely right when he praised Deval’s leadership, and I couldn’t agree more.",
            5262: "Anyone can see that Patrick is a progressive pick, for God’s sake. He’s fought for same-sex marriage and passed a plan that brought Massachusetts’ transportation system into the 21st century. If that’s not progress, what else could it be? I stand by him 1000%.",
            5263: "They don’t need to worry. Patrick and I have evolved just as much on the issues as other progressives have, and we’re both gonna bring hope and change into America by moving forward on issues like child poverty, paternity leave, infrastructure, and much more."
        },
        feedback: {
            5155: "When you think of a progressive, I’m pretty sure Deval Patrick is not at top of the list. Or in the middle. I don’t even know if he’d be at the bottom. But perhaps you have a point.",
            5156: "Massachusetts hasn’t been a competitive state in decades, but if you had any fears of underperforming in nearby states such as New Hampshire and Maine, perhaps those fears are unfounded?",
            5157: "Ding ding ding! You think you’re being too obvious, but by linking Patrick to Obama, you’re clearly showing where your administration is heading next.",
            5262: "Perhaps highlighting Patrick’s credentials will make people understand your side; it’s good to keep your party united. As Obama once told you, you gotta have them bells… and whistles too.",
            5263: "The Democratic Party has evolved quite a bit in a lot of issues over the last 25 years. You’ve just got to prove to them that, after your leftward swings in the primaries, that your new stances are for real-real, and not for play-play.",
			// other feedback
			5176: "As you focus more and more on the size of your rally crowds, your use of “Fight Song” has quintupled at increasingly aggressive decibel levels. An unlucky crowd in Toledo, Ohio goes home with ruptured eardrums. At least my earpiece works, but so much for lunar bears.",
			5199: "No! You can’t say that! He-he’s… <i>he’s</i> listening.",
			5203: "The Notorious H.R.C. strikes again. You know, for someone who seems so unburdened by what can be and has been, you’re giving us the heebie-jeebies here.",
			5231: "Behind the scenes, you hear that Obama is pleased with your comments. As a gift, he sends you a pot of Häagen-Dazs® vanilla swiss almond ice cream after one of your rallies; you don’t think it— wait. Damn. It actually tastes really good.",
			20751: "Damn Hillary. Back at it again with the anti-trade comments. You know, my job’s on the line too—",
			20803: "Some of the names floated to you include Paul Watford, Sri Srinivasan, and Ketanji Brown Jackson. On the very bottom of the list, one scribbled name needles you a bit: Barack Obama. Heh. I didn’t add him. You know what, I think we can keep that one.",
			21020: "After much discussion, Podesta presents a name to you: that of former mayor of New York City Michael Bloomberg. I mean, he was a Republican once, so it counts. You feel like you want to cry, and your tears are not of joy.",
			21156: "We love the Pokémon, we’re telling you. On my way home, I almost stepped into a Squirtle. Poor guy."
        },
        issueScores: {
            5155: [
                { issue: 100, score: 0.3 }, { issue: 101, score: -0.2 }, { issue: 102, score: 0.15 },
                { issue: 103, score: 0.45 }, { issue: 104, score: 0.5 }
            ],
            5156: [
                { issue: 100, score: 0.25 }, { issue: 101, score: -0.25 }, { issue: 102, score: 0.05 },
                { issue: 103, score: 0.5 }, { issue: 104, score: 0.5 }
            ],
            5157: [
                { issue: 100, score: 0.25 }, { issue: 101, score: -0.25 }, { issue: 102, score: -0.1 },
                { issue: 103, score: 0.5 }, { issue: 104, score: 0.5 }
            ]
        },
        stateScores: [
            { answer: 5155, state: STATE_IDS.MASSACHUSETTS },
            { answer: 5156, state: STATE_IDS.MASSACHUSETTS },
            { answer: 5157, state: STATE_IDS.MASSACHUSETTS },
        ],
        globalScores: {
            5262: [
                { candidate: 201, affected_candidate: 203, global_multiplier: -0.002 }
            ]
        }
    },
	[RUNNING_MATE_IDS.BIDEN]: {
        name: "Biden",
        bannerUrl: 'https://i.imgur.com/39gse3c.png',
        mateImageUrl: 'https://i.imgur.com/ReeSbxO.jpeg',
        advisorUrl: 'https://i.imgur.com/d65IjTu.jpeg',
        questions: {
            1046: "In an interesting move, you’ve selected sitting Vice President Joe Biden as your running mate. What was the thinking behind this highly unusual ‘continuity’ ticket?",
            1077: "The progressive wing of the party is underwhelmed, to say the least. They see Joe Biden as a relic of a bygone era and feel your ticket lacks any forward-looking energy. How do you respond to them?"
        },
        answers: {
            5155: "Look, folks, here’s the deal. Joe’s been in the room where it happens for eight years. There is literally no one more prepared to be Vice President on day one. It’s a no-brainer, really.",
            5156: "I chose a partner who can speak directly to the folks in Scranton and across the Rust Belt. Joe understands their values and their struggles better than anyone in Washington, and he served the state of Delaware admirably for over 30 years.",
            5157: "This election is a clear choice between the steady leadership of the Obama-Biden administration and the chaos of Donald Trump and the Republicans. With Joe on the ticket, we’re making that choice crystal clear.",
			5259: "We’re gonna be barnstorming Pennsylvania. I’ll take Philly and the suburbs, and I’m sending Joe to Scranton and the Steel Valley to bring those voters home.",
            5262: "Give me a break. Joe Biden helped pass the Recovery Act, he championed the Violence Against Women Act, and he’s been a leader on foreign policy for decades. That’s a record any progressive should be proud of. If he’s not progressive, then I must be a blender.",
            5263: "This isn’t about looking back, it’s about building on our progress. Joe and I are going to take the successes of the last eight years and supercharge them to create the strongest, fairest economy in American history."
        },
        feedback: {
            5155: "A very safe, if unexciting, choice. Biden has already started measuring the drapes in the VP residence… again. He seems quite happy about not having to move.",
            5156: "At a rally in Cleveland, Biden goes off-script for 15 minutes to talk about his ’67 Corvette. The crowd is confused but strangely entertained. So are we. You’re starting to think this will be a good campaign after all.",
            5157: "You’re making it very clear to voters that your administration will be an extension of Obama’s. Of course, Trump immediately nicknames you two ‘Sleepy Hillary and Sleepier Joe,’ which you have to admit has a certain ring to it, unfortunately.",
            5262: "To be fair, there are many laws Biden voted for in the 1990s that would make progressives tremble, and not in a good way. But who knows; maybe they like blenders?",
            5263: "You’re trying to frame this as a continuation of progress, which is a solid message. Whether voters want to keep following that path is a completely different thing, though.",
            // other feedback
            5176: "You know, I never met lunar bears, but I met a couple of polar bears. Very funny guys, strange sense of humor though.",
			5198: "Privately, Biden’s surrogates tell you this is a good thing. They say he’s too busy with his newest love affair, Jennifer Aniston, to campaign with you anyway.",
            5231: "Behind the scenes, you hear that Obama is pleased with your comments. As a gift, he sends you a pot of Häagen-Dazs® chocolate chip cookie dough ice cream after one of your rallies; attached to it is a note. ‘This is Joe’s favorite,’ the note reads. ‘He can eat a whole pint in one sitting. It’s a little frightening, honestly.’",
			20803: "Some of the names floated to you include Jane Kelly, Jacqueline Nguyen, and Kamala Harris. On the very bottom of the list, one scribbled name needles you a bit: Barack Obama. <i>This is malarkey, jack…</i>",
			21020: "After much discussion, Podesta presents a name to you: that of— wait, what? Bush Sr? H-how did that even happen? You feel strange.",
            21156: "I wish we could do Donkey Kong Country references here, but I’m not sure if ‘Donkey Kong go to the polls’ works."
        },
        issueScores: {
            5155: [
                { issue: 100, score: 0.1 }, { issue: 101, score: -0.3 }, { issue: 102, score: 0.25 },
                { issue: 103, score: 0.8 }, { issue: 104, score: 0.5 }
            ],
            5156: [
                { issue: 100, score: 0.4 }, { issue: 101, score: -0.2 }, { issue: 102, score: 0.1 },
                { issue: 103, score: 0.6 }, { issue: 104, score: 0.55 }
            ],
            5157: [
                { issue: 100, score: 0.2 }, { issue: 101, score: -0.15 }, { issue: 102, score: 0.15 },
                { issue: 103, score: 0.7 }, { issue: 104, score: 0.6 }
            ]
        },
        stateScores: [{ answer: 5155, state: STATE_IDS.DELAWARE }, { answer: 5156, state: STATE_IDS.DELAWARE }, { answer: 5157, state: STATE_IDS.DELAWARE }],
		globalScores: {
            5262: [
                { candidate: 201, affected_candidate: 203, global_multiplier: -0.002 }
            ]
        }
    },
    [RUNNING_MATE_IDS.CASTRO]: {
        name: "Castro",
        bannerUrl: 'https://i.imgur.com/RSS4S6V.png',
        mateImageUrl: 'https://i.imgur.com/4Qy26rt.jpeg',
        advisorUrl: 'https://i.imgur.com/3PpIhC2.jpeg',
        questions: {
            1046: "Just prior to the convention, you selected Julian Castro, the Secretary of Housing and Urban Development, as your running mate. What was your rationale behind selecting him?",
            1077: "Some pundits and voters are questioning Castro’s national experience, with some calling him a ‘lightweight’ choice. How do you counter the narrative that he’s not ready for the national stage?"
        },
        answers: {
            5155: "Julian’s story is the American story. From his humble beginnings in San Antonio to the President’s cabinet, he represents the promise of our nation. That’s the vision I want for all Americans.",
            5156: "With Castro on the ticket, we are making it clear that we intend to compete everywhere, including his home state of Texas. He’s more than qualified for this position, as we’ve seen at HUD, and together, we are building a coalition that looks like America.",
            5157: "I didn’t choose a running mate for the past; I chose one for the future! Castro represents the next generation of Democratic leadership, and he’ll be a vital partner in building a 21st-century economy.",
            5262: "Honestly, this is just ridiculous. Being the mayor of a major American city like San Antonio and a member of the Presidential Cabinet is more executive experience than Donald Trump and many other Republicans will ever have. He’s ready, period.",
            5263: "This ticket is about bringing new voices to the table. Julian’s perspective on housing, urban development, and community-building is exactly what we need to tackle inequality and create opportunity."
        },
        feedback: {
            5155: "It’s a compelling narrative, and Castro is a polished speaker. Your campaign’s media team is already cutting ads featuring his mother and their inspiring backstory, which could help make him more known.",
            5156: "Texas has not been won by a Democratic presidential candidate in 40 years, but you have to admire your optimism here. Who knows what could happen?",
            5157: "Just the other day I saw a couple of young voters doing… well, they are making… what are those things… Vines? to show their support for the Clinton-Castro ticket. It’s a six-second video of someone dabbing. They’re telling us this is a good thing.",
            5262: "A solid defense that your supporters appreciate. Podesta accidentally briefs Julian’s twin brother, Joaquin, for a full hour before anyone realizes the mistake. To his credit, Joaquin was surprisingly well-informed on housing policy.",
            5263: "This focus on his cabinet experience helps shore up his credentials. He’s an effective surrogate, although the public still needs to see quite a bit more of Castro on the campaign before forming their opinions about him.",
            // other feedback
			5148: "You recall that after Columbine, the Republican-led House refused to vote on the gun control bills your husband introduced. You haven’t forgiven them for it since.",
			5176: "God, I hope there are no lunar bears around here. Lunar bears can sure be a downer.",
            21156: "Good, good. We honestly ran out of jokes to include here, Hill. So uh… get those Pokémon or whatever.",			
			21264: "I’m putting Julian in charge of a task force on day one. We will have a comprehensive immigration reform bill on the floor of Congress within 100 days, and he will be its face."
        },
        issueScores: {
            5155: [
                { issue: 100, score: 0.5 }, { issue: 101, score: 0.3 }, { issue: 102, score: 0.1 },
                { issue: 103, score: -0.2 }, { issue: 104, score: 0.6 }
            ],
            5156: [
                { issue: 100, score: 0.3 }, { issue: 101, score: 0.1 }, { issue: 102, score: 0.05 },
                { issue: 103, score: -0.1 }, { issue: 104, score: 0.55 }
            ],
            5157: [
                { issue: 100, score: 0.4 }, { issue: 101, score: 0.4 }, { issue: 102, score: 0.0 },
                { issue: 103, score: -0.25 }, { issue: 104, score: 0.65 }
            ]
        },
        stateScores: [{ answer: 5155, state: STATE_IDS.TEXAS }, { answer: 5156, state: STATE_IDS.TEXAS }, { answer: 5157, state: STATE_IDS.TEXAS }],
		globalScores: {
            5262: [
                { candidate: 201, affected_candidate: 203, global_multiplier: -0.002 }
            ]
        }
    },
    [RUNNING_MATE_IDS.GARCETTI]: {
        name: "Garcetti",
        bannerUrl: 'https://i.imgur.com/P21TOxd.png',
        mateImageUrl: 'https://i.imgur.com/dCqP9Bm.jpeg',
        advisorUrl: 'https://i.imgur.com/ukgNXdi.jpeg',
        questions: {
            1046: "In an unexpected move, you’ve pulled a true dark horse, selecting Los Angeles Mayor Eric Garcetti as your running mate. What was your rationale behind selecting him?",
            1077: "The main criticism of Garcetti is that he’s a ‘coastal elite’ whose experience running liberal Los Angeles won’t play in places like Peoria. How do you convince swing voters he’s on their side?"
        },
        answers: {
            5155: "Running America’s second-largest city is a tougher job than anything my opponents have ever done. Eric has managed a massive budget and an increasingly diverse population in Los Angeles. He’s an executive and not a reality TV star, you know.",
            5156: "I chose a partner who understands how to build the infrastructure of the future. Eric has been a leader on transit, technology, and green energy, and that’s exactly the experience we need in Washington.",
            5157: "Look, our ticket is about turning the page on old arguments. Eric is a pragmatic, post-partisan leader who has brought people together to get things done. That’s a message that resonates everywhere, and no one can argue with that.",
			5179: "We could barely keep up with Sanders’ online presence, and now Trump’s clobbering us on this. The best bet for us to take is to what he does: get free media attention. Is there anywhere we can go in such short time? Eric Garcetti has been talking about this show, <i>Rick and Morty</i>. Can we get a 5-minute short there?",
            5262: "If by ‘coastal elite’ they mean a Rhodes Scholar with a track record of creating jobs and lowering crime, then I’ll take it. Anyone can see Eric is a proven problem-solver and not just your average big city mayor. He’s in it for America and so am I.",
            5263: "The challenges facing our cities are the same challenges facing our nation. Eric understands that; I’ve never heard of an Eric who doesn’t. We’re going to talk about solutions that work, regardless of whether you live, and get our country moving forward."
        },
        feedback: {
            5155: "A strong defense of his executive experience. It’s not like Garcetti will ask you to replace Air Force One with a fleet of electric scooters and a hyperloop tunnel to Camp David; but he will get the celebrities who like these ideas to vote for <i>you</i>.",
            5156: "Garcetti is an interesting choice, to say the least. Let’s see how that pans out.",
            5157: "Fox News host Tucker Carlson spends a week or so trying to pronounce his name correctly before giving up and just using ‘GAR-seth’. Although some pundits praise your ‘outside-the-beltway’ thinking, you think that’s mostly because they have nothing else to say about him. That’s good, right?",
			5179: "— Honey, why is there a robot-looking Hillary Clinton on our couch watching TV? Is she with you?<br/>— There is a— ohhh. Huh? Well. Actually— no. Good question, actually.",
            5262: "It’s a good line, but you have to admit it sounds a little defensive. Garcetti tries to help by showing up to a Pennsylvania rally in a locally-made flannel shirt, which he wears over his perfectly-tailored suit. Somehow, it works.",
            5263: "The good news is that Garcetti’s presence on your campaign has all but erased ‘Fight Song’ on your rally playlists. On the other hand, you’re a bit puzzled to find out the replacement has been, well, greatest hits from the band Korn.",
            // other feedback
			5176: "Hmm, no, but they’ve been known to shit in the liquor tent, if I remember it right.",
			5261: "Thanks to Garcetti, he manages to get actor Shia LaBeouf on stage with you. Your rally quickly derails when the two of them keep talking the early 2000s show Even Stevens and nothing else.",
			21096: "Why can’t Cuban-Americans see the light? You’re so 3008, they’re so 2000 and late.",
            21156: "I always liked Tetris better, to be honest."
        },
        issueScores: {
            5155: [
                { issue: 100, score: 0.2 }, { issue: 101, score: 0.1 }, { issue: 102, score: 0.15 },
                { issue: 103, score: 0.2 }, { issue: 104, score: -0.2 }
            ],
            5156: [
                { issue: 100, score: 0.1 }, { issue: 101, score: 0.25 }, { issue: 102, score: 0.05 },
                { issue: 103, score: 0.1 }, { issue: 104, score: 0.1 }
            ],
            5157: [
                { issue: 100, score: 0.25 }, { issue: 101, score: 0.15 }, { issue: 102, score: 0.15 },
                { issue: 103, score: 0.0 }, { issue: 104, score: 0.0 }
            ]
        },
        stateScores: [{ answer: 5155, state: STATE_IDS.CALIFORNIA }, { answer: 5156, state: STATE_IDS.CALIFORNIA }, { answer: 5157, state: STATE_IDS.CALIFORNIA }],
		globalScores: {
            5262: [
                { candidate: 201, affected_candidate: 203, global_multiplier: -0.002 }
            ]
        }
    }
};

const generateMockPK = () => Math.floor(Math.random() * 100000);
let lastDataAppliedMateId = -1;
let hasInjectedMates = false;

// modifies the questions/answers/feedback
function applyDataModifications() {
    const runningMateId = campaignTrail_temp.running_mate_id;
    if (runningMateId === lastDataAppliedMateId) return;

    const mateData = RUNNING_MATE_DATA[runningMateId];

    if (mateData) {
        console.log(`Applying data for ${mateData.name}...`);

        // update text content
        mateData.questions && campaignTrail_temp.questions_json.forEach(q => { if (mateData.questions[q.pk]) q.fields.description = mateData.questions[q.pk]; });
        mateData.answers && campaignTrail_temp.answers_json.forEach(a => { if (mateData.answers[a.pk]) a.fields.description = mateData.answers[a.pk]; });
        mateData.feedback && campaignTrail_temp.answer_feedback_json.forEach(fb => { if (mateData.feedback[fb.fields.answer]) fb.fields.answer_feedback = mateData.feedback[fb.fields.answer]; });

        // update issue scores
        if (mateData.issueScores) {
            const answersToReplace = Object.keys(mateData.issueScores);
            campaignTrail_temp.answer_score_global_json = campaignTrail_temp.answer_score_global_json.filter(e => !answersToReplace.includes(String(e.fields.answer)));
            for (const [answerId, scores] of Object.entries(mateData.issueScores)) {
                scores.forEach(({ issue, score }) => campaignTrail_temp.answer_score_global_json.push({ model: "campaign_trail.answer_score_issue", pk: generateMockPK(), fields: { answer: parseInt(answerId), issue, issue_score: score, issue_importance: 2 } }));
            }
        }

        // update global scores
        if (mateData.globalScores) {
            const answersToReplace = Object.keys(mateData.globalScores);
            campaignTrail_temp.answer_score_global_json = campaignTrail_temp.answer_score_global_json.filter(e => !answersToReplace.includes(String(e.fields.answer)));
            for (const [answerId, scores] of Object.entries(mateData.globalScores)) {
                scores.forEach(scoreData => campaignTrail_temp.answer_score_global_json.push({ model: "campaign_trail.answer_score_global", pk: generateMockPK(), fields: { answer: parseInt(answerId), ...scoreData } }));
            }
        }

        // update state scores
        if (mateData.stateScores) {
            const answersToReplace = mateData.stateScores.map(s => s.answer);
            campaignTrail_temp.answer_score_state_json = campaignTrail_temp.answer_score_state_json.filter(e => !answersToReplace.includes(e.fields.answer));
            mateData.stateScores.forEach(({ answer, state }) => campaignTrail_temp.answer_score_state_json.push({ model: "campaign_trail.answer_score_state", pk: generateMockPK(), fields: { answer, state, candidate: 201, affected_candidate: 201, state_multiplier: 0.005 } }));
        }
    }

    lastDataAppliedMateId = runningMateId;
}

function updateDynamicUI() {
    const runningMateId = campaignTrail_temp.running_mate_id;
    const mateData = RUNNING_MATE_DATA[runningMateId];

    // default info for 1st running mate (Kaine)
    let bannerUrl = 'https://i.imgur.com/wjOkEfA.png';
    let mateImageUrl = campaignTrail_temp.running_mate_image_url;
    let advisorUrl = campaignTrail_temp.election_json[0].fields.advisor_url;

    // overwrite with specific mate data
    if (mateData) {
        bannerUrl = mateData.bannerUrl;
        mateImageUrl = mateData.mateImageUrl;
        advisorUrl = mateData.advisorUrl;
    }

    // apply to DOM elements if they exist
    const questionBanner = document.getElementById("campaign_sign");
    if (questionBanner) {
        questionBanner.style.backgroundImage = `url('${bannerUrl}')`;
    }

    const runningMateImg = document.getElementById("running_mate_image_ui");
    if (runningMateImg) {
        runningMateImg.src = mateImageUrl;
    }

    // update global state
    campaignTrail_temp.running_mate_image_url = mateImageUrl;
    const election = campaignTrail_temp.election_json?.[0]?.fields;
    if (election) {
        election.advisor_url = advisorUrl;
    }
}

function onGameChange() {
	if (!hasInjectedMates) {
        hasInjectedMates = true; // set the flag so it doesn't run again
    }

    applyDataModifications();
    updateDynamicUI();
}

const gameWindow = document.getElementById("game_window");
if (gameWindow) {
    const observer = new MutationObserver(onGameChange);
    observer.observe(gameWindow, { childList: true, subtree: true });

    onGameChange();
} else {
    console.error("Game window element not found.");
}

// This is to basically unlock the extra running mates for the mod.
const UNLOCK_MAP = {
    209: 213, // Kaine -> Biden
    211: 214, // Booker -> Castro
    212: 215, // Patrick -> Garcetti
};

// helper function to read from storage.
function getUnlockedRmsFromStorage() {
    try {
        const stored = localStorage.getItem(STORAGE_KEY);
        return stored ? JSON.parse(stored) : [];
    } catch (e) {
        return [];
    }
}

// write the unlock status in storage
function unlockRmInStorage(pk) {
    const unlocked = getUnlockedRmsFromStorage();
    if (!unlocked.includes(pk)) {
        unlocked.push(pk);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(unlocked));
        return true;
    }
    return false;
}

function showUnlockNotification(mateName) {
    const notification = document.createElement('div');
    notification.className = 'unlock-notification';
    notification.innerHTML = `<strong>Guess who...</strong><br/>You can now select ${mateName} on your next playthrough.`;
    document.body.appendChild(notification);

    requestAnimationFrame(() => {
        notification.classList.add('show');
    });

    setTimeout(() => {
        notification.classList.remove('show');
        notification.addEventListener('transitionend', () => notification.remove(), { once: true });
    }, 6000);
}

// runs on endgame to check for unlocks
function checkAndApplyUnlocks(playerEV, runningMateId) {
    if (playerEV < UNLOCK_THRESHOLD_EV) return;

    const unlockedPk = UNLOCK_MAP[runningMateId];
    if (unlockedPk && unlockRmInStorage(unlockedPk)) {
        const mateData = campaignTrail_temp.candidate_json.find(c => c.pk === unlockedPk);
        if (mateData) {
            const mateName = `${mateData.fields.first_name} ${mateData.fields.last_name}`;
            showUnlockNotification(mateName);
        }
    }
}

// This loads up the achievements for the mod.
let unlockedAchievements = JSON.parse(localStorage.getItem("unlockedAch")) || {};

const achievementQueue = [];
let playthroughAchievements = {};
let isAchievementShowing = false;
const achievementSoundURL = "";

function unlockAchievement(title) {
	if (typeof cheatsActive === 'undefined' || typeof campaignTrail_temp === 'undefined' || !campaignTrail_temp.CTS) { // not on CTS? then do nothing
		return;
	}
	if (unlockedAchievements[title]) { // has been unlocked? then do nothing
        return;
    }
	if (playthroughAchievements[title]) { // has been unlocked in this playthrough? then do nothing
        return;
    }
	
    // look up the achievement data using the title
    const achData = campaignTrail_temp.achievements[title];

    // if the achievement doesn't exist, log an error and exit
    if (!achData) {
        console.error(`Achievement with title "${title}" not found. Check for typos?`);
        return;
    }

    // check conditions before awarding
    if (achData.cannotBeCheated && cheatsActive) {
        console.log(`Cannot unlock "${title}" because cheats are active.`);
        return;
    }
    if (playthroughAchievements[title]) {
        return; // already earned
    }

    // mark as earned for this playthrough
    playthroughAchievements[title] = true;

    // add the achievement to the display queue
    queueAchievementPopup(title, achData.image, achievementSoundURL, achData.description);

    // save to local storage if it's a new unlock and difficulty is valid
    if (campaignTrail_temp.difficulty_level_multiplier <= 1 && campaignTrail_temp.CTS) {
        // only queue the popup for a brand new unlock
        queueAchievementPopup(title, achData.image, achievementSoundURL, achData.description);

        // mark as permanently unlocked and save
        unlockedAchievements[title] = true;
        localStorage.setItem("unlockedAch", JSON.stringify(unlockedAchievements));
        addAllAchievements();
    }
}

function queueAchievementPopup(title, imageUrl, soundUrl, description) {
	if (achievementQueue.some(ach => ach.title === title)) {
			return;
    }
    achievementQueue.push({ title, imageUrl, soundUrl, description });
    processAchievementQueue();
}

function processAchievementQueue() {
    if (isAchievementShowing || achievementQueue.length === 0) return;

    isAchievementShowing = true;
    const { title, imageUrl, soundUrl, description } = achievementQueue.shift();

    const achievementOverlay = document.createElement('div');
    achievementOverlay.className = 'achievement-popup';

    achievementOverlay.innerHTML = `
        <img src="${imageUrl}" class="achievement-popup-image" alt="Achievement Icon">
        <div>
            <h3 class="achievement-popup-title">${title}</h3>
            <p class="achievement-popup-desc">${description}</p>
        </div>
    `;

    document.body.appendChild(achievementOverlay);

    requestAnimationFrame(() => {
        achievementOverlay.classList.add('show');
    });
    
    // sound (we don't currently use this)
    // const achievementSound = new Audio(soundUrl);
    // ...

    setTimeout(() => {
        closeOverlay(achievementOverlay);
    }, 7000);
}

function closeOverlay(overlay) {
    overlay.classList.remove('show');
    
    overlay.addEventListener('transitionend', () => {
        overlay.remove();
        isAchievementShowing = false;
        processAchievementQueue();
    }, { once: true });
}

// This is fairly similar to the ending loader used in Things That Never Were.
// Well, I don't know if it was developed for that mod or not, but I took inspiration
// from the one there. Part of the design, that is — the underlying implementation
// for this took longer than I wanted to.

campaignTrail_temp.multiple_endings = true;

campaignTrail_temp.page = 0;
campaignTrail_temp.pages = [];
campaignTrail_temp.header = "";
campaignTrail_temp.image = false;
campaignTrail_temp.executable = [];

let endingObserver = null;
let contingentMode = false;

// helper function to set image
function setImage(url) {
    if (!url) return;

    const selector = ".person_image";

    const immediateImg = document.querySelector(selector);
    if (immediateImg) {
        immediateImg.src = url;
        return;
    }

    const observer = new MutationObserver((mutations, obs) => {
        const img = document.querySelector(selector);
        if (img) {
            img.src = url;
            obs.disconnect();
        }
    });

    observer.observe(document.body, {
        childList: true,
        subtree: true
    });

    setTimeout(() => {
        observer.disconnect();
    }, 5000);
}

// construct the HTML for the ending page
construct = (a = 1) => {
    // ensure page index is within bounds    
	if (a !== 'rerender') {
        const newPage = campaignTrail_temp.page + a;
        if (newPage >= 0 && newPage < campaignTrail_temp.pages.length) {
            campaignTrail_temp.page = newPage;
        } else if (a === 0) {
            campaignTrail_temp.page = 0;
        }
    }
	
    let html = campaignTrail_temp.header;

    // main scrollable container for both narrative and stats
    html += `<div id="main-ending-scroll-container" style="height: 37em; overflow: auto; position: relative;">`;
    
    // container for the narrative text
    html += `<div id="endingtxt" class="ending-narrative-content">
                <table style='margin:0px;padding:0px;display: table;width:100%;'>
                    <tbody style='display: table-row-group;'>
                        <tr style='display: table-row;'>
                            <td style='border: none;padding: 0px;display: table-cell;'>
                                <p style='margin-left: 0em;margin-right: 0em;'>${campaignTrail_temp.pages[campaignTrail_temp.page]}</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
             </div>`;

    // placeholder for stats, inside the main scrollable container, after the narrative
    html += `<div id="ending-stats-container" style="padding-top: 1rem;"></div>`;
    html += `</div>`;
    
    let buttons = "<div class=\"button_container\" style=\"margin-top: 0.5rem;\">";
    const existingButtons = document.querySelector(".button_container");
    if (existingButtons) existingButtons.remove();

    const currentPage = campaignTrail_temp.page;
    const lastPage = campaignTrail_temp.pages.length - 1;
    
    if (campaignTrail_temp.pages.length > 1) { // only show buttons if there's more than one page
        if(currentPage === 0){
            buttons += `<button style='position: relative;' onclick='endingConstructor(1)'>Next</button>`;
        } else if(currentPage === lastPage){
            buttons += `<button style='z-index: 10; position: relative;' onclick='endingConstructor(-1)'>Back</button>`;
        } else {
            buttons += `<button style='z-index: 10; position: relative;' onclick='endingConstructor(-1)'>Back</button>
                       <button style='margin-left: 5px; position: relative;' onclick='endingConstructor(1)'>Next</button>`;
        }
    }
    buttons += "</div>";

    for (let i = 0; i < campaignTrail_temp.executable.length; i++) {
        if (campaignTrail_temp.executable[i][0] === currentPage) {
            campaignTrail_temp.executable[i][1]();
        }
    }
  
    setTimeout(() => {
        const candImg = document.querySelector(".person_image");
        const resultsDesc = document.getElementById("final_results_description");

        if (resultsDesc) {
            // clear previous buttons before adding new ones, if any
            const oldButtons = resultsDesc.parentElement.querySelector(".button_container");
            if(oldButtons) oldButtons.remove();

            resultsDesc.style.textAlign = "left";
            resultsDesc.style.width = "72%";
            resultsDesc.style.height = "auto"; 
            resultsDesc.style.textOverflow = "ellipsis";
            resultsDesc.style.marginLeft = "auto";
            resultsDesc.style.marginRight = "auto";

            if (candImg) {
                if (campaignTrail_temp.image === true) {
                    candImg.style.display = 'none';
                } else if (campaignTrail_temp.image) {
                    candImg.src = campaignTrail_temp.image;
                    candImg.style.display = '';
                }
                 if (buttons !== "<div class=\"button_container\" style=\"margin-top: 0.5rem;\"></div>" && (typeof CONTINGENT === 'undefined' || CONTINGENT !== 0)) {
                    resultsDesc.insertAdjacentHTML('afterend', buttons);
                }
            } else {
                 if (buttons !== "<div class=\"button_container\" style=\"margin-top: 0.5rem;\"></div>" && (typeof CONTINGENT === 'undefined' || CONTINGENT !== 0)) {
                    resultsDesc.insertAdjacentHTML('afterend', buttons);
                }
            }
        }
    }, 10);
    
    return html;
};

let resetPage = false;
endingConstructor = (a = 1) => {
    if(resetPage){
        a = 0;
        resetPage = false;
    }

    const finalDesc = document.getElementById("final_results_description");
    const difficultyTxt = document.getElementById("difficulty_mult");
    const overallVote = document.getElementById("overall_vote_statistics");
    const mapFooter = document.getElementById("map_footer");
    
    if (!finalDesc) {
        console.log("#final_results_description not found. Ending cannot be displayed.");
        return;
    }
    if (!difficultyTxt || !overallVote || !mapFooter) {
        console.warn("One or more stats elements (#difficulty_mult, #overall_vote_statistics, #map_footer) not found. Stats display might be incomplete.");
    }

    if(overallVote) { overallVote.style.position = "relative"; overallVote.style.display = "block"; }
    if(mapFooter) { mapFooter.style.position = "relative"; mapFooter.style.display = "block"; }

    finalDesc.innerHTML = construct(a); 
    
    // append the stats elements to the #ending-stats-container
    const statsContainer = document.getElementById("ending-stats-container");
    if (statsContainer) {
        statsContainer.innerHTML = '';
        
        if(difficultyTxt) statsContainer.appendChild(difficultyTxt);
        if(overallVote) statsContainer.appendChild(overallVote);
        if(mapFooter) statsContainer.appendChild(mapFooter);
        
        statsContainer.querySelectorAll(":scope > div, :scope > p, :scope > span").forEach(el => {
            el.style.margin = "0.5rem 0"; 
        });
    } else {
        console.error("#ending-stats-container not found after construct call. Stats cannot be placed.");
    }
};

function attemptRenderEnding() {
    // if we're in contingent mode, don't attempt to render regular endings
    if (contingentMode) {
        return true;
    }
    
    const finalDesc = document.getElementById("final_results_description");
    const difficultyTxt = document.getElementById("difficulty_mult");
    const overallVote = document.getElementById("overall_vote_statistics");
    const mapFooter = document.getElementById("map_footer");

    if (finalDesc && difficultyTxt && overallVote && mapFooter) {
        console.log("Ending elements found. Rendering ending.");
        endingConstructor(0);
        if (endingObserver) {
            endingObserver.disconnect();
            endingObserver = null;
            //console.log("Ending observer disconnected.");
        }
        return true;
    }
    //console.log("Ending elements not yet ready. Observer will continue watching.");
    return false;
}

// this makes the contingent scheme work at least
function addContingent(likelihoodA, likelihoodB, likelihoodC) {
  let tableAdded = false;
  const observer = new MutationObserver((mutationsList, obs) => {
    const container = document.getElementById("coalitionList");
    if (!container || tableAdded) return;

    tableAdded = true;

    // build table
    const tbl = document.createElement("table");
    Object.assign(tbl.style, {
      backgroundColor: "#fff",
      margin: "1em auto",
      width: "70%",
      border: "1px solid #000",
      borderCollapse: "collapse"
    });

    // header
    const hdr = ["Delegation", "Party", "Negotiate?", "Willingness"];
    const hr = document.createElement("tr");
    hdr.forEach(txt => {
      const th = document.createElement("th");
      th.textContent = txt;
      Object.assign(th.style, { border: "1px solid #ccc", padding: "0.5em" });
      hr.appendChild(th);
    });
    tbl.appendChild(hr);

    // data rows
    const rows = [
      ["Democratic Leadership",   "Democratic",   likelihoodA],
      ["Blue Dog Democrats",      "Democratic",   likelihoodB],
      ["Republican Moderates",    "Republican",   likelihoodC],
	  ["Donald J. Trump",         "Republican",   -1]
    ];

    // keep refs to checkboxes
    const checks = [];

    rows.forEach(([name, party, lik], idx) => {
      const tr = document.createElement("tr");

      // name cell
      [name, party].forEach(text => {
        const td = document.createElement("td");
        td.textContent = text;
        Object.assign(td.style, { border: "1px solid #ccc", padding: "0.5em" });
        tr.appendChild(td);
      });

      // checkbox cell
      const tdChk = document.createElement("td");
      const cb = document.createElement("input");
      cb.type = "checkbox";
      tdChk.appendChild(cb);
      Object.assign(tdChk.style, { border: "1px solid #ccc", padding: "0.5em", textAlign: "center" });
      tr.appendChild(tdChk);
      checks.push({ cb, lik });

      // willingness cell
      const tdLik = document.createElement("td");
      let label;
      if (lik === -1) {
          label = "???";
      } else if (lik >= 3) {
          label = "Highly Likely";
      } else if (lik === 2) {
          label = "Possible";
      } else if (lik === 1) {
          label = "Unlikely";
      } else {
          label = "Impossible";
      }
      tdLik.textContent = label;
      Object.assign(tdLik.style, { border: "1px solid #ccc", padding: "0.5em" });
      tr.appendChild(tdLik);

      tbl.appendChild(tr);
    });

    container.appendChild(tbl);

    // negotiate button
    const btn = document.createElement("button");
    btn.textContent = "Negotiate!";
    btn.style.display = "block";
    btn.style.margin = "1em auto";
    btn.addEventListener("click", () => {
      // ensure exactly one selected
      const selected = checks.filter(o => o.cb.checked);
      if (selected.length !== 1) {
        return alert("Please pick exactly one delegation.");
      }

      const { lik } = selected[0];
      // set CONTINGENT code: 
      //   1 = democratic leadership,
      //   2 = blue dogs,
      //   3 = republican moderates,
	  //   4 = trump
      const idx = checks.indexOf(selected[0]) + 1;
      window.CONTINGENT = idx;

      // now rerun the special ending picker
      resetPage = true;
      endingPickerCONT();
    });
    container.appendChild(btn);

    obs.disconnect();
  });

  observer.observe(document.body, { childList: true, subtree: true });
}

function endingPickerCONT() {
  contingentMode = true;
  
  // tear down any observer
  if (endingObserver) {
    endingObserver.disconnect();
    endingObserver = null;
  }

  // reset the temp state
  campaignTrail_temp.pages      = [];
  campaignTrail_temp.executable = [];
  campaignTrail_temp.page       = 0;
  campaignTrail_temp.image      = false;

  // choose the content based on CONTINGENT
  let title, bodyHtml;
  
  const scores = {
      sandersRelations: window.sandersRelations || 0,
      wallStreetScore: window.wallStreetScore || 0,
      globalistScore: window.globalistScore || 0,
      hawkScore: window.hawkScore || 0,
      obamaLoyalty: window.obamaLoyalty || 0,
	  
      populistScore: window.populistScore || 0,
      aggressiveScore: window.aggressiveScore || 0,
      embracedSanders: window.embracedSanders === true,
      tookResponsibilityForEmails: window.tookResponsibilityForEmails === true,
  };
  const playerEV = window.playerEV || 260;
  const runningMateID = campaignTrail_temp.running_mate_id;
  
  switch (window.CONTINGENT) {
    case 1:
	  unlockAchievement("Tainted Love");
      title = "government hooker";
      bodyHtml = `
		<p>You turn to Nancy Pelosi and the Democratic leadership in the House. Behind closed doors in the Speaker’s office, you promise key committee chairs to wavering members and commit to supporting their pet projects in your first hundred days.</p>
		<p>The whip count is brutal. You need every single Democratic vote <i>plus</i> a couple of Republican defectors. After 72 hours of intense negotiations, you secure the razor-thin majority you needed.</p>
		<hr/>
		<p>The gavel fell, and just like that, it was over. The chamber didn’t erupt in cheers. It was quieter than that, actually. I had won. And what a victory that was.</p> <p>Every promise I’d made was an IOU written in my blood. Pretty much a mortgage was taken out on the soul of my presidency before it even drew its first breath. Oh boy. A piece of the EPA for a wavering vote from Colorado, a slice of the defense budget for a hawk in Virginia… my presidency was carved up and served on a platter to keep the wolves at bay. And I had sold the office to save it.</p> <p>Outside, the winter air over Washington was very unforgiving. The television screens were already on fire; Trump wasn’t screaming about a rigged election anymore, no. Now, he had a new story, a better one, forged in the truth of my compromise. He called it the "Corrupt Bargain of the Century", said I was so corrupt I was redefining the definition of corrupt. That I had bought the presidency, or that I had done with Congress what Tony Blair had done to Gordon Brown in 1994, when both wanted the leadership of the Labour Party. None of this was the case, or at least not in the way they said it was, but what could I say? The news anchors, those thieving bastards, spoke of a constitutional crisis, and of a Hillary administration whose legitimacy was dead on arrival.</p> <p>I stood in a quiet office overlooking the Capitol dome. My friend, Nancy Pelosi, had offered me a glass of champagne, but I declined. Staring at the bubbles would’ve made me feel like I was swallowing glass. She saw the look on my face. “We did what we had to do, Hillary,” she said, her voice a low whisper, as if the walls themselves were listening. “It was this, or <i>him</i>.”</p> <p>She was right, of course. It was a hard choice, but it was a choice. I was given the choice between a poisoned chalice and a loaded gun to the nation’s head. I could never live with the death of America. And so I chose the poison, hoping I could find the antidote later. But looking out at the city, I knew there was no antidote. There wasn’t. I hated saying this, but there wasn’t. The sickness was already in the bloodstream.</p> <p>The half a dozen “moderate” Republican defectors who saved me would be, eventually, retiring. They hailed from districts I’d won by double digits, and were already pariahs in the making. Paul Ryan wouldn’t live with that, no no. And neither would they. Their political careers were dead, and I was the one who had pulled the trigger. And their "profiles in courage" only reminded me of the price of power, whatever this meant at this point. They were not the first.</p> <p>Soon, I would have to walk out and give a speech. I’d have to talk about healing, about coming together, about being a president for all Americans and all that. The words were already forming on my tongue. But how do you unite a country when you began by proving its worst suspicions true? That power was a commodity, bought and sold by people who smiled while holding a knife behind their back?</p> <p>I had wanted this job my whole life. I’d climbed a really tall mountain, clawed my way up the sheer rock face through storms of scandal and rivers of doubt… and now here I was, at the summit. But it wasn’t a peak like I thought it would be. It was actually a ledge overlooking a chasm. The phone on the desk in front of me buzzed. It was my first call in prison.</p> <p>I had won the White House. But standing there, in the quiet dark, I felt like the biggest loser in the world. I fucked up. The real fight hadn’t ended with the vote. If anything, it had just begun, and I was starting it with my hands tied and my back against the wall.</p>
      `;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/632215016/pt/foto/topshot-former-us-president-bill-clinton-and-hillary-clinton-bow-their-heads-in-prayer-during.jpg?s=612x612&w=0&k=20&c=1hZ-z-r-DeVtaJcSKfCE8PG2NwM9bW0hzlFwF1JE3iw='; }]);
      break;

    case 2:
	  unlockAchievement("In Present Tense");
      title = "the hand that feeds";
      bodyHtml = `
        <p>You reach out to conservative Democrats who have grown uncomfortable with the party’s leftward shift. You promise to moderate your positions on gun control and environmental regulations, hoping to appeal to their rural constituencies.</p>
		<p>It’s not an easy strategy.</p>
		<hr/>
		<p>They called themselves “Blue Dogs”. I should have known a stray would bite the hand that tried to pet it. To be fair, the Blue Dogs were a dying species; they got whooped in 2010 and whoever was left got whooped by 2014. But I still believed that, in their hearts, they could understand the points I was making. The news broke on a flickering TV in a borrowed, rather forgotten office in the Rayburn building: “CLINTON GAMBLE FAILS: CONSERVATIVE DEMS TO BACK TRUMP.” Well, fuck.</p> <p>A staffer, barely old enough to remember my first run, turned off the screen as if that could stop the bleeding. It couldn’t. No, it couldn’t. That wound was mortal. I had reached across the aisle inside my own party, and they had sawn my arm off at the shoulder. Those bastards. They’d labeled me part of the “coastal elite”. It was a two-dollar insult from men whose districts I could have bought with a single fundraiser. And yet it stuck, and worked its way to the heart. Their hearts, that is.</p> <p>I had offered them a compromise. I’d offered to sand the edges off my platform, to speak their language, and to give them a shield to take back home, something none of the Republicans would’ve done. But they didn’t want it. And I knew why: they looked at me and saw the ghost of every factory that had closed, every regulation they hated, and every cultural battle they felt they were losing. To them, I wasn’t a potential president; I was a symbol of their decline. And by voting for Trump, they could turn the page, they thought. They were all very, very happy to watch the whole system go up in smoke.</p> <p>The progressives, who I’d nearly alienated with my offer, were now silent. Not only had I failed at my bridge-making efforts, but I had unintentionally dynamited both sides of the canyon, leaving me stranded in the middle with nothing but the fall below. They fucking Wile E. Coyote’d me. I was toxic to the left, a traitor to the center, and a punchline to the right. Hell, was anyone even on my side?</p> <p>Washington felt different now. Its beautiful monuments didn’t seem like symbols of enduring democracy anymore.</p> <p>“We should get you out of here,” my Secret Service agent said. His name was Rob, I think, and he was trained for threats you could see, for bullets and bombs. He obviously had no protocol for this. We didn’t take the main entrance; we took the back ways, the service tunnels and empty corridors, like I was a fugitive fleeing my own life. As I walked, it seemed like every portrait of a past leader on the walls seemed to stare at me with accusing eyes. What would they say if they looked at me?</p> <p>Our car was waiting in a secluded loading dock, and by then rain was beginning to slick the asphalt. The drops on the window looked a lot like prison bars. As we pulled out into the gridlocked traffic, the city was a blur of red taillights and neon. So much neon, what the hell. Trump was probably on TV, though I didn’t really care what he would say anymore. If anything, he had it easy; he didn’t have to rig or collude or whatever. He just had to wait! And so he did, waiting for us to tear ourselves apart. It’s like I had handed him the knife and told him to stab me.</p> <p>There was a long, dark road ahead, with no destination for me in sight. What I had just witnessed could’ve been the end of a particularly terrifying nightmare. It isn’t.</p><p><i>It’s the beginning.</i></p>
		`;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/81072012/pt/foto/washington-democratic-presidential-hopeful-sen-hillary-clinton-enters-the-u-s-capitol-may-13.jpg?s=612x612&w=0&k=20&c=vt_TrGMKhOBST9SR8RF6AEIgGHhnpaTm4I5gFFEFRvc='; }]);
      break;

    case 3:
	  unlockAchievement("Little Illusion Machine");
      title = "die another day";
      bodyHtml = `
        <p>In an unprecedented move, you reach across the aisle to moderate Republicans uncomfortable with Trump’s divisive rhetoric. You offer them significant input on Supreme Court nominations and promise a more centrist approach to fiscal policy.</p>
        <p>After tense negotiations led by senators Susan Collins and Lisa Murkowski, a couple of Republican representatives break ranks, citing the need for "healing and unity" in these turbulent times.</p>
		<hr/>
		<p>The final tally flickered onto the screen: I was the 45th President of the United States. It felt less like a victory and more like a diagnosis, however. Of course, the press was already spinning the narrative and painting it as a moment of national grace, a triumph of pragmatism over partisanship. How enlightening. “Healing and Unity.” The words sounded pretty under the bright lights of the TV cameras, and they did look pretty; it might’ve been the font they used. And yet, to an extent, it sounded just like the terms of a surrender.</p> <p>The Republicans who crossed the aisle might’ve saved the country from Trump, but this also meant that I owned them. The first vacancy on the Court wouldn’t be mine; it would be theirs. Garland would have a hard time anyway trying to get past them, unless he’d still be up for it. The upcoming budget and my fiscal policy would definitely make my own party’s blood run cold.</p> <p>I was President, but my hands were tied. Every decision would be a negotiation, and every bill a battle on two, three, four, many, many fronts. The right would hold the concessions over my head like a guillotine, and the left… the left would never forgive me.</p> <p>The calls from my own side had already started. They weren’t congratulatory, not at all. They were accusations. The venom in their voices was hotter than any Republican attack. I had betrayed their cause, and sold out the platform for a tainted title. What a "Madam President" I was, they said. To them, I hadn’t prevented a disaster; I had become one. It’s like I was a Trojan horse for the very policies we’d fought against. I was a president with no party, a leader with no followers, and forced to go along with "bipartisanship" while the sharks from both sides circled.</p> <p>I looked out the window at the Washington Monument, piercing the gray sky like a needle. I had wanted to heal a divided nation. Instead, I had just institutionalized the division inside the Oval Office itself. My administration would be in a permanent state of war, essentially.</p> <p>The history books would call it the “Grand Compromise”, or whatever they’d name it. It’d be a very neat, tidy, respectable name for what was more of a hostage situation. I had stared into the abyss of a Trump presidency and flinched. Instead, I walked into a prison built for me, and willingly locked the door from the inside.</p> <p>Someone knocked. Ugh. It was time to go out and face the cameras, to smile and talk about the dawning of a new day. I practiced my smile in the reflection of the dark window. It looked like a grimace. God, I was such a damsel in distress. I was the woman who had finally broken the highest, hardest glass ceiling… and yet all I could feel were the shards under my feet, and the cold draft coming through the hole where my power was supposed to be. I had the title, the office, the Chaos Emeralds. Hell, I had saved the republic. And in the process, I had lost everything.</p><p>It’s morning in America.</p>
      `;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/1309740/pt/foto/us-senator-elect-and-first-lady-hillary-clinton-speaks-to-reporters-at-the-us-capitol-during-a.jpg?s=612x612&w=0&k=20&c=tLLNKXzRSRiPAasnZCiIxD62NjZlKA7dkiXlKrx5lzg='; }]);	  
      break;
	  
	case 4:
	  unlockAchievement("Say Goodbye Forever");
      title = "hold me, thrill me, kiss me, kill me";
      bodyHtml = `
        <p>After thinking of your choices, you wondered if this one was possible. You couldn’t believe it. A single phone call with the man himself. No. No…</p>
        <hr/>
        <p>The ride to Trump Tower was silent. My chief of staff stared out the window, as if the gray Manhattan skyline held some profound answer he couldn’t find in my face. It didn’t. Unfortunately, there were no answers here, only consequences. We were ushered up to his penthouse, a place I had only ever seen in glossy magazine spreads. It was even bigger in person, honestly. There was gold everywhere. I didn’t even know if it was real gold or fake gold, but it was definitely gold. Quite the declaration that taste, after all, was for losers. I felt very out of place there.</p>
        <p>Trump was there, waiting, and flanked by his children, who looked on with a mixture of suspicion and, strangely, some piety. I tried not to stare too much at them. Trump, of course, was very excited. “Hillary! Welcome! We’re going to do something great today, really great.” The small talk was excruciating. He talked about his golf courses, about the ratings the press conference would get, all that shit. I just nodded and smiled; it felt like there was only white noise in my mind. But I also knew this was the only way to stop a constitutional crisis, to end the deadlock, and to prevent months of chaos that would tear the country apart. It was a rational, logical choice. Right? And yet, every instinct in my body was screaming that I had just walked into a trap of historic proportions.</p>
        <p>Then it was time. We walked out to the atrium, to a forest of cameras and a sea of many expectant faces. Oh God. What would they print about this? I felt the burn of a thousand lenses over my retina, and I knew they were all trying to decipher what was going on in here. Who am I? Why am I here? These questions echoed in the spaces of my mind. Standing beside him felt like an out-of-body experience. He stepped to the podium first, of course.</p>
        <p>“We had a tough campaign,” he began. “A very, very tough campaign. People said a lot of things. The fake news media, you know— they’re not happy, I can tell you. They’re very unhappy people. But we both love this country. We love this country more than anything.” He paused, letting the statement hang in the air. “And when you love America, you do what’s right for America. You make deals. You make the best deals.”</p>
        <p>A reporter from, I think, Vox, would later liken my vacant, twitchy expression to Harmony Korine at Cannes in ’95, trying to explain — or in his case, not explain — his unexplainable film, “Kids”. At that moment, he wasn’t entirely wrong. If you’re a passenger in, say, a roller coaster, you’re gonna wait for it to crest the hill. Usually, it does. Ours did, unfortunately. “So we sat down,” Trump continued, leaning into the microphone. He truly was a showman at heart. “And we came to an agreement. It’s an amazing agreement, a historic agreement. Something nobody’s ever seen before. Hillary Clinton… she fought hard, very hard, I saw that… and she will be the next President of the United States.”</p>
        <p>A wave of gasps and frantic murmurs rippled through the press corps. He rapidly held up a hand, silencing them with a gesture. “And I… <i>I</i> will be proud to serve this country. I will be proud to serve as her <i>Vice President</i>.”</p>
        <p>And there it was. The words landed in the room with the force of a physical blow. He said it. He fucking said it. The deal was real. My mind, which had been blissfully, mercifully blank until then, snapped back into focus with rather painful clarity. This was happening. Trump beamed. “We are going to do a tremendous job,” he declared, his voice rising. “We are going to fix our country. We are going to bring back our jobs. And we are going to Make America Great Again—Together!”</p>
        <p>He turned to me, his smile wide, and grabbed my hand. On autopilot, my own facial muscles contorted into what I hoped was, and probably was, a smile. We stood up. He raised our joined hands in the air; his hands were smaller than I had thought. For a split second, the room was utterly silent. And then, it erupted. Not with boos or questions or anything like that, but with surprising, thunderous, and stunning applause. They were clapping. They were all clapping. For the deal, for the show? I had no clue. But maybe it was for the audacity of it all.</p>
        <p>The walk offstage was such a blur, I almost couldn’t remember what happened next. In the elevator back up, no one spoke. Nor in the car on the way back home. Or maybe they did say something, but I genuinely didn’t recall. I had the presidency. I had done what I set out to do. I had stopped him from taking the highest office, which was an achievement in itself. But I hadn’t <i>defeated</i> him. Worse: I had absorbed him. It was funny to imagine that the presidency had turned from an office into a joint venture in such quick time, but actually— no, no, it was different. It was like a reality show with two headliners.</p><p>But I knew who the real star would always be.</p>
      `;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/610598194/pt/foto/hempstead-ny-democratic-presidential-nominee-hillary-clinton-takes-the-stage-with-republican.jpg?s=612x612&w=0&k=20&c=PMWkuNKLiu2aouvVd8VEjwLYHuz4rNRH5TYTKoVpFcI='; }]);	  
      break;

    default:
      title = "Error";
      bodyHtml = `<em>No coalition path selected. Something went wrong.</em>`;
  }
  
  // push the narrative page first
  const narrativePageHTML = `
	<div id="contingent-ending-flag"></div>
    <div style="
      background: #fdfaf2 url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      color: #212121; border: 2px solid #ddd; padding: 1.5em;
      font-family: Georgia, serif; line-height: 1.6;
      box-shadow: 0 3px 6px rgba(0,0,0,0.08), 0 10px 20px rgba(0,0,0,0.12);
      max-width: 800px; margin: 2em auto;
    ">
      <h2 style="text-align:center; color:#002D62; margin-bottom:1em; border-bottom: 2px solid #b38600; padding-bottom: 0.5em;">You have made a decision.</h2>
      <h3 style="text-align:center; color:#b38600; margin-bottom:1.5em; font-style: italic;">${title}</h3>
      <div style="padding:0 1em;">${bodyHtml}</div>
    </div>
  `;
  campaignTrail_temp.pages.push(narrativePageHTML);

  // push the cabinet pages next
  let cabinetHTML;
  switch (window.CONTINGENT) {
    case 1:
      let establishmentScores = {...scores, obamaLoyalty: scores.obamaLoyalty + 3, sandersRelations: scores.sandersRelations - 2};
      const cabinetHTML_case1 = generateCabinetTimeline('win', playerEV, runningMateID, establishmentScores);
	  campaignTrail_temp.pages.push('<div id="contingent-ending-flag"></div>' + cabinetHTML_case1);
	  campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
	  }]);
      break;
    case 2:
      const cabinetHTML_case2 = generateCabinetTimeline('loss', playerEV, runningMateID, scores);
      campaignTrail_temp.pages.push('<div id="contingent-ending-flag"></div>' + cabinetHTML_case2);
	  campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
	  }]);
      break;
    case 3:
      const unityPlayerEV = 271;
      const cabinetHTML_case3 = generateCabinetTimeline('win', unityPlayerEV, runningMateID, scores);
      campaignTrail_temp.pages.push('<div id="contingent-ending-flag"></div>' + cabinetHTML_case3);
	  campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
	  }]);
	  break;
    case 4:
	  const placeholderVP_ID_for_Trump = 999;
      let unityTicketScores = {...scores, globalistScore: -5, hawkScore: 5};
      const cabinetHTML_case4 = generateCabinetTimeline('win', playerEV, placeholderVP_ID_for_Trump, unityTicketScores);
      campaignTrail_temp.pages.push('<div id="contingent-ending-flag"></div>' + cabinetHTML_case4);
	  campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
	  }]);
	  break;
  }

  // render immediately
  endingConstructor(0);
  
  const contingentObserver = new MutationObserver((mutationsList, observer) => {
        const finalDesc = document.getElementById("final_results_description");

        if (finalDesc && !finalDesc.querySelector("#contingent-ending-flag")) {
            console.log("Contingent ending was overwritten, re-rendering...");
            
            endingConstructor('rerender');
        }
    });
  
    const targetNode = document.getElementById('game_screen') || document.getElementById('main_content') || document.body;
    contingentObserver.observe(targetNode, { childList: true, subtree: true });
}

// This is for a Wikipedia-style cabinet generator as an ending page.
// Famously, All The Way has a presidents list, which is quite neat,
// but probably wouldn't fit well here. Well, we had to resort to
// another idea.

// for announcement dates
function generateAnnouncementDate(tier) {
    const baseDate = new Date('2016-11-09T12:00:00Z'); // day after election
    let delayDays;

    switch (tier) {
        case 1: delayDays = Math.floor(Math.random() * 10) + 5; break;  // mid-to-late Nov
        case 2: delayDays = Math.floor(Math.random() * 15) + 20; break; // early-to-mid Dec
        case 3: delayDays = Math.floor(Math.random() * 20) + 40; break; // late Dec - early Jan
        default: delayDays = 25;
    }
    baseDate.setDate(baseDate.getDate() + delayDays);
    return baseDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
}

// for confirmation dates
function generateConfirmationDate(tier) {
    const baseDate = new Date('2017-01-20T12:00:00Z'); // Inauguration Day
    let delayDays;

    switch (tier) {
        case 1: delayDays = Math.floor(Math.random() * 7) + 1; break;   // Jan 21-27
        case 2: delayDays = Math.floor(Math.random() * 14) + 14; break; // Feb 3-17
        case 3: delayDays = Math.floor(Math.random() * 21) + 28; break; // Feb 17 - Mar 10
        default: delayDays = 21;
    }
    baseDate.setDate(baseDate.getDate() + delayDays);
    return baseDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
}

// generates the HTML for one pair of cells (office + designee)
function generateCabinetCells(member, victoryType) {
    const isElected = (member.position === 'President' || member.position === 'Vice President');
    const bgColor = isElected ? 'background: #90EE90;' : '';

    let dateHtml;
    if (member.position === 'Vice President') {
        const announceDate = (victoryType === 'win') ? 'July 22, 2016' : 'July 15, 2016';
        dateHtml = `
            Announced ${announceDate}<br>
            Elected November 8, 2016<br>
            Assumed office January 20, 2017
        `;
    } else if (member.position === 'President') {
        dateHtml = `
            Elected November 8, 2016<br>
            Assumed office January 20, 2017
        `;
    } else {
        dateHtml = `
            Announced ${member.announcedDate}<br>
            Assumed office ${member.confirmedDate}
        `;
    }

    const officeCell = `
        <td style="vertical-align: top; padding: 5px; ${bgColor}">
            <img src="${member.seal}" style="width: 75px; height: 75px; object-fit: contain;">
            <p style="margin: 0.5em 0; font-weight: bold;">${member.position}</p>
            <p style="font-size: 85%; margin: 0;">${dateHtml}</p>
        </td>
    `;

    const designeeCell = `
        <td style="vertical-align: top; padding: 5px; ${bgColor}">
            <img src="${member.img}" style="width: 95px; height: 120px; object-fit: cover; border: 1px solid #ccc;">
            <br>
            <span style="font-size: 85%;">${member.formerRole}</span>
            <br>
            <b>${member.name}</b>
            <br>
            <span style="font-size: 85%;">from ${member.state}</span>
        </td>
    `;
    return officeCell + designeeCell;
}

// the main function generator
function generateCabinetTimeline(victoryType, playerEV, runningMateID, scores) {
    const { sandersRelations, wallStreetScore, globalistScore, hawkScore, obamaLoyalty } = scores;
    let cabinet = [];
    let president, vicePresident, party, headerColor;
    let assignedPeople = new Set(); 

    const assignNominee = (position, nominee, seal, announceTier, confirmTier) => {
        if (!assignedPeople.has(nominee.name)) {
            const nomineeData = {
                position, ...nominee, seal,
                announcedDate: generateAnnouncementDate(announceTier),
                confirmedDate: generateConfirmationDate(confirmTier)
            };
            cabinet.push(nomineeData);
            assignedPeople.add(nominee.name);
            return true;
        }
        return false;
    };
	
	const pickAndAssign = (position, candidates, seal, announceTier) => {
        for (const nominee of candidates) {
            if (nominee && assignNominee(position, nominee, seal, announceTier, announceTier)) {
                return; 
            }
        }
    };

    // candidate & seal pools
    const seals = {
		potus: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Seal_of_the_President_of_the_United_States.svg/120px-Seal_of_the_President_of_the_United_States.svg.png",
        vp: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Seal_of_the_Vice_President_of_the_United_States.svg/120px-Seal_of_the_Vice_President_of_the_United_States.svg.png",
        state: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Seal_of_the_United_States_Secretary_of_State.svg/120px-Seal_of_the_United_States_Secretary_of_State.svg.png",
        treasury: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Seal_of_the_United_States_Department_of_the_Treasury.svg/120px-Seal_of_the_United_States_Department_of_the_Treasury.svg.png",
        defense: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Seal_of_the_United_States_Department_of_Defense.svg/120px-Seal_of_the_United_States_Department_of_Defense.svg.png",
        attorneyGeneral: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Seal_of_the_United_States_Department_of_Justice.svg/120px-Seal_of_the_United_States_Department_of_Justice.svg.png",
        interior: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Seal_of_the_United_States_Department_of_the_Interior.svg/120px-Seal_of_the_United_States_Department_of_the_Interior.svg.png",
        agriculture: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Seal_of_the_U.S._Department_of_Agriculture.svg/120px-Seal_of_the_U.S._Department_of_Agriculture.svg.png",
        commerce: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Seal_of_the_United_States_Department_of_Commerce.svg/120px-Seal_of_the_United_States_Department_of_Commerce.svg.png",
        labor: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Seal_of_the_United_States_Department_of_Labor.svg/120px-Seal_of_the_United_States_Department_of_Labor.svg.png",
        hhs: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/US_Department_of_Health_and_Human_Services_seal.svg/120px-US_Department_of_Health_and_Human_Services_seal.svg.png",
        hud: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Seal_of_the_United_States_Department_of_Housing_and_Urban_Development.svg/120px-Seal_of_the_United_States_Department_of_Housing_and_Urban_Development.svg.png",
        transportation: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Seal_of_the_United_States_Department_of_Transportation_-_Alternate_Version.svg/120px-Seal_of_the_United_States_Department_of_Transportation_-_Alternate_Version.svg.png",
        energy: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Seal_of_the_United_States_Department_of_Energy.svg/120px-Seal_of_the_United_States_Department_of_Energy.svg.png",
        education: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Seal_of_the_United_States_Department_of_Education.svg/120px-Seal_of_the_United_States_Department_of_Education.svg.png",
        veterans: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Seal_of_the_U.S._Department_of_Veterans_Affairs.svg/120px-Seal_of_the_U.S._Department_of_Veterans_Affairs.svg.png",
        homeland: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Seal_of_the_United_States_Department_of_Homeland_Security.svg/120px-Seal_of_the_United_States_Department_of_Homeland_Security.svg.png"
    };

	// veeps
    const clintonVPs = {
        209: { name: "Tim Kaine", img: "https://static.wikia.nocookie.net/althistory/images/0/06/Tim_Kaine_VP_portrait.png", formerRole: "U.S. Senator", state: "Virginia" },
        211: { name: "Cory Booker", img: "https://content.time.com/time/2009/time_100_walkup/cory_booker.jpg", formerRole: "U.S. Senator", state: "New Jersey" },
        212: { name: "Deval Patrick", img: "https://panamaadvisoryinternationalgroup.com/blog/wp-content/uploads/2014/03/massachusetts-governor-deval-patrick.jpg", formerRole: "Former Governor", state: "Massachusetts" },
        213: { name: "Joe Biden", img: "https://www.jornaldocomercio.com/_midias/jpg/2015/12/23/pol_22015-411473.jpg", formerRole: "Vice President", state: "Delaware" },
        214: { name: "Julián Castro", img: "https://npeaction.org/wp-content/uploads/2019/02/oEOE5IDE_400x400.jpg", formerRole: "Secretary of HUD", state: "Texas" },
        215: { name: "Eric Garcetti", img: "https://cdn.britannica.com/14/191614-050-DFF52410/Eric-Garcetti.jpg", formerRole: "Mayor of Los Angeles", state: "California" },
    };
	const trumpVPs = {
		"Mike Pence": { name: "Mike Pence", img: "https://upload.wikimedia.org/wikipedia/commons/0/06/Mike_Pence_February_2015_cropped_color_corrected_2_by_3.jpg", formerRole: "Governor of Indiana", state: "Indiana" },
		"Scott Brown": { name: "Scott Brown", img: "https://api.time.com/wp-content/uploads/2014/03/ap903125175694-copy.jpg", formerRole: "Former U.S. Senator", state: "Massachusetts" },
		"Ted Cruz": { name: "Ted Cruz", img: "https://hips.hearstapps.com/hmg-prod/images/gettyimages-1211620932-copy.jpg?crop=1xw:1.0xh;center,top&resize=640:*", formerRole: "U.S. Senator", state: "Texas" },
		"Mike Flynn": { name: "Mike Flynn", img: "https://s.hdnux.com/photos/55/42/06/11936176/4/rawImage.jpg", formerRole: "Former Lieutenant-General", state: "Rhode Island" },
		"Newt Gingrich": { name: "Newt Gingrich", img: "https://upload.wikimedia.org/wikipedia/commons/2/2c/Newt_Gingrich_by_Gage_Skidmore_6.jpg", formerRole: "Former Speaker of the House", state: "Georgia" },
		"Sarah Palin": { name: "Sarah Palin", img: "https://media.gazetadopovo.com.br/2008/10/sarah_palin_abuso_de_poder_10-10-1.0.115749785-gpMega.jpg", formerRole: "Former Governor of Alaska", state: "Alaska" },
		"Chris Christie": { name: "Chris Christie", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTKLqhEwJTWRgGxUlOMoCBH3CQA8TAfzrmH-Q&s", formerRole: "Governor of New Jersey", state: "New Jersey" },
		"Tom Cotton": { name: "Tom Cotton", img: "https://static.politico.com/48/2d/6898963f427c8b3e81b986507086/160212-tom-cotton-ap-1160.jpg", formerRole: "U.S. Senator", state: "Arkansas" },
		"Jeff Sessions": { name: "Jeff Sessions", img: "https://m.media-amazon.com/images/M/MV5BMTRhNTM4ZTMtMjk0OS00MWY4LWIyYjUtZjBmYWRlOGYwYjBlXkEyXkFqcGc@._V1_.jpg", formerRole: "U.S. Senator", state: "Alabama" },
		"Bob Corker": { name: "Bob Corker", img: "https://www.congress.gov/img/member/c001071_200.jpg", formerRole: "U.S. Senator", state: "Tennessee" },
		"Mary Fallin": { name: "Mary Fallin", img: "https://upload.wikimedia.org/wikipedia/commons/6/64/Mary_Fallin_official_110th_Congress_photo.jpg", formerRole: "Governor of Oklahoma", state: "Oklahoma" }
	};

    // candidates & etc
	const clintonCandidates = {
		state: {
			hawk: { name: "Victoria Nuland", img: "https://upload.wikimedia.org/wikipedia/commons/8/89/Victoria_Nuland_State_Department.jpg", formerRole: "Assistant Secretary of State", state: "Connecticut" },
			establishment: { name: "Bill Burns", img: "https://upload.wikimedia.org/wikipedia/commons/9/91/Assignment-_59-CF-DS-22432-05%29_Official_portrait_of_William_Burns%2C_U.S._Ambassador-designate_to_Russia_%28Photographer-_Ann_Thomas--State%29_%2859-CF-DS-22432-05_Amb_BillBurns0086_fromPSD_-_DPLA_-_24e3adb7aadd75ad1930cff23ef02645.jpg", formerRole: "Deputy Secretary of State", state: "Pennsylvania" },
			loyalist: { name: "Jake Sullivan", img: "https://ballotpedia.s3.amazonaws.com/images/thumb/f/fb/Jake_Sullivan.jpg/150px-Jake_Sullivan.jpg", formerRole: "National Security Advisor to the VP", state: "Minnesota" },
			progressive: { name: "Chris Murphy", img: "https://www.govtrack.us/static/legislator-photos/412194-200px.jpeg", formerRole: "U.S. Senator", state: "Connecticut" },
			biden_vp_loyalist: { name: "Anthony Blinken", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Secretary_Blinken%27s_Official_Department_Photo_%28cropped%29.jpg/220px-Secretary_Blinken%27s_Official_Department_Photo_%28cropped%29.jpg", formerRole: "Deputy National Security Advisor", state: "New York" }
		},
		treasury: {
			progressive: { name: "Gary Gensler", img: "https://www.cftc.gov/sites/default/files/inline-images/38817-1.gif", formerRole: "Chair of the CFTC", state: "Maryland" },
			corporate: { name: "Sheryl Sandberg", img: "https://hcsanfrancisco.clubs.harvard.edu/images/article_images/105.jpg", formerRole: "COO of Facebook", state: "California" },
			establishment: { name: "Lael Brainard", img: "https://www.cmc.edu/sites/default/files/news/2014/04/Lael_Brainard1-214x300.jpg", formerRole: "Federal Reserve Governor", state: "Virginia" },
			technocrat: { name: "Janet Yellen", img: "https://www.frbsf.org/wp-content/uploads/yellen.jpg", formerRole: "Chair of the Federal Reserve", state: "New York" },
			loyalist: { name: "Gene Sperling", img: "https://obamawhitehouse.archives.gov/sites/obamawhitehouse.archives.gov/files/person-photo/sperlingphoto.jpg", formerRole: "Director, National Economic Council", state: "Michigan" }
		},
		defense: {
			hawk: { name: "Michèle Flournoy", img: "https://i.dailymail.co.uk/i/pix/2013/01/04/article-2257216-16C0DB90000005DC-894_634x411.jpg", formerRole: "Under Secretary of Defense", state: "California" },
			dove: { name: "Adam Smith", img: "https://upload.wikimedia.org/wikipedia/commons/1/17/Adam_Smith_WA-9.jpg", formerRole: "Ranking Member, HASC", state: "Washington" },
			unity: { name: "Susan Collins", img: "https://www.nndb.com/people/210/000032114/susan-collins.jpg", formerRole: "U.S. Senator (R)", state: "Maine" },
			establishment: { name: "Ash Carter", img: "https://www.nextgov.com/media/ps360/GIG/FCWNow/People/C/Carter_Ashton.png", formerRole: "Secretary of Defense", state: "Pennsylvania" },
			biden_vp_loyalist: { name: "Gen. Lloyd Austin", img: "https://upload.wikimedia.org/wikipedia/commons/9/9a/Lloyd_J._Austin.jpg", formerRole: "Commander, U.S. Central Command", state: "Georgia" }
		},
		attorneyGeneral: {
			progressive: { name: "Xavier Becerra", img: "https://upload.wikimedia.org/wikipedia/commons/6/61/Xavier_Becerra%2C_Official_Portrait.JPG", formerRole: "U.S. Representative", state: "California" },
			establishment: { name: "Tom Perez", img: "https://cwa-union.org/sites/default/files/migrated/cwafiles.org/national/issues/PolicyIssues/NLRB/Perez_photo2.jpg", formerRole: "Secretary of Labor", state: "Maryland" },
			prosecutor: { name: "Preet Bharara", img: "https://static01.nyt.com/images/2013/06/10/world/asia/10-preet-interview-IndiaInk/10-preet-interview-IndiaInk-articleInline.jpg", formerRole: "U.S. Attorney, SDNY", state: "New York" },
			biden_vp_loyalist: { name: "Sally Yates", img: "https://upload.wikimedia.org/wikipedia/commons/4/49/Sally_Yates.jpg", formerRole: "Deputy Attorney General", state: "Georgia" },
			unity: { name: "Brian Sandoval", img: "https://www.ontheissues.org/Governor/Brian_Sandoval.jpg", formerRole: "Governor of Nevada (R)", state: "Nevada" }
		},
		interior: {
			progressive: { name: "Raúl Grijalva", img: "https://reproductivefreedomforall.org/wp-content/uploads/2017/11/croc-raul-grijalva.jpg", formerRole: "U.S. Representative", state: "Arizona" },
			establishment: { name: "Sally Jewell", img: "https://www.usatoday.com/gcdn/media/USATODAY/USATODAY/2013/02/06/ap-obama-interior-3_4.jpg?width=660&height=879&fit=crop&format=pjpg&auto=webp", formerRole: "Secretary of the Interior", state: "Washington" },
			western_dem: { name: "John Hickenlooper", img: "https://upload.wikimedia.org/wikipedia/commons/1/15/John_W._Hickenlooper_World_Economic_Forum_2013_%28cropped%29.jpg", formerRole: "Governor of Colorado", state: "Colorado" },
			tribal_affairs: { name: "Denise Juneau", img: "https://epe.brightspotcdn.com/ca/bc/76bc24b7eedcbc75a3680df57e61/10-campaign-denise-juneau-mug.jpg", formerRole: "State Supt. of Public Instruction", state: "Montana" }
		},
		agriculture: {
			progressive: { name: "Chellie Pingree", img: "https://www.pressherald.com/wp-content/uploads/sites/4/2013/04/KJ-Chellie-Pingree-gif.gif", formerRole: "U.S. Representative", state: "Maine" },
			establishment: { name: "Tom Vilsack", img: "https://www.hamilton.edu/assets/mmlibrary/images/670x/vilsack.jpg", formerRole: "Secretary of Agriculture", state: "Iowa" },
			rural_outreach: { name: "Heidi Heitkamp", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Heidi_Heitkamp_official_portrait.jpg/250px-Heidi_Heitkamp_official_portrait.jpg", formerRole: "U.S. Senator", state: "North Dakota" },
			biden_vp_loyalist: { name: "Krysta Harden", img: "https://www.motherjones.com/wp-content/uploads/Krysta_Harden_hirez.jpg", formerRole: "Deputy Secretary of Agriculture", state: "Georgia" }
		},
		commerce: {
			corporate: { name: "Terry McAuliffe", img: "https://images.squarespace-cdn.com/content/v1/5c7e8397ebfc7ff3dfb5acb1/1566489866793-FNJJ89353S7MC9PAFLHW/mcauliffe.jpg", formerRole: "Governor of Virginia", state: "Virginia" },
			unity: { name: "Meg Whitman", img: "https://cdn.mos.cms.futurecdn.net/2z4RhTK2CtBRLhvc3Adp9C.jpg", formerRole: "CEO of Hewlett Packard (R)", state: "California" },
			protectionist: { name: "Leo Gerard", img: "https://media.bizj.us/view/img/1626591/gerard-leo*400xx600-600-0-0.jpg", formerRole: "President, United Steelworkers", state: "Ontario" },
			establishment: { name: "Penny Pritzker", img: "https://upload.wikimedia.org/wikipedia/commons/c/cd/Penny_Pritzker_official_photograph.jpg", formerRole: "Secretary of Commerce", state: "Illinois" }
		},
		labor: {
			union: { name: "Richard Trumka", img: "https://aflcio.org/sites/default/files/migrate/files/Trumka-Bad-Trade-Deals-Kill-American-Jobs.jpg", formerRole: "President, AFL-CIO", state: "Pennsylvania" },
			progressive_unity: { name: "Bernie Sanders", img: "https://cdn.mos.cms.futurecdn.net/ZMoRE73eiomr8gfjR2PPv5.jpg", formerRole: "U.S. Senator", state: "Vermont" },
			establishment: { name: "Tom Perez", img: "https://cwa-union.org/sites/default/files/migrated/cwafiles.org/national/issues/PolicyIssues/NLRB/Perez_photo2.jpg", formerRole: "Secretary of Labor", state: "Maryland" },
			biden_vp_loyalist: { name: "Seth Harris", img: "https://upload.wikimedia.org/wikipedia/commons/9/94/Seth_Harris_DOL.jpg", formerRole: "Deputy Secretary of Labor", state: "New York" }
		},
		hhs: {
			loyalist: { name: "Neera Tanden", img: "https://static.wikia.nocookie.net/althistory/images/b/b2/Tanden_neera.jpg", formerRole: "President, Center for American Progress", state: "Massachusetts" },
			establishment: { name: "Sylvia Mathews Burwell", img: "https://www.wsb.com/wp-content/uploads/2021/06/Buwell_Sylvia_ORIGINAL.jpg", formerRole: "Secretary of HHS", state: "West Virginia" },
			progressive: { name: "Donna Edwards", img: "https://i0.wp.com/afro.com/wp-content/uploads/2014/05/Donna%20F%20Edwards%20Portrait.jpg?fit=239%2C360&ssl=1", formerRole: "U.S. Representative", state: "Maryland" },
			technocrat: { name: "Vivek Murthy", img: "https://imagesvs.oneindia.com/img/2014/12/16-1418705548-vivek.jpg", formerRole: "Surgeon General", state: "Florida" }
		},
		hud: {
			establishment: { name: "Julián Castro", img: "https://npeaction.org/wp-content/uploads/2019/02/oEOE5IDE_400x400.jpg", formerRole: "Secretary of HUD", state: "Texas" },
			progressive: { name: "Keith Ellison", img: "https://s3.amazonaws.com/berkley-center/KeithEllison.jpg", formerRole: "U.S. Representative", state: "Minnesota" },
			mayor: { name: "Stephanie Rawlings-Blake", img: "https://m.media-amazon.com/images/M/MV5BMTc5OTgwNTg5NV5BMl5BanBnXkFtZTgwMDY3MzcyOTE@._V1_.jpg", formerRole: "Mayor of Baltimore", state: "Maryland" },
			booker_vp_loyalist: { name: "Shaun Donovan", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQy4AHQdOABzeH4kcS3d1BzX-BbAgTz-OWxwA&s", formerRole: "Former Secretary of HUD", state: "New York" }
		},
		transportation: {
			infrastructure: { name: "Eric Garcetti", img: "https://cdn.britannica.com/14/191614-050-DFF52410/Eric-Garcetti.jpg", formerRole: "Mayor of Los Angeles", state: "California" },
			establishment: { name: "Anthony Foxx", img: "https://s.wsj.net/public/resources/images/OB-XG443_0428tr_G_20130428174057.jpg", formerRole: "Secretary of Transportation", state: "North Carolina" },
			technocrat: { name: "Jane Garvey", img: "https://media.gettyimages.com/id/1164441/pt/foto/federal-aviation-administration-administrator-jane-garvey-testifies-september-20-2001-during-a.jpg?s=612x612&w=0&k=20&c=gB48z4EW3clmEPMlSKngr7HYs9e0HSyUGT_6gdVzgkA=", formerRole: "Administrator of the FAA", state: "Massachusetts" },
			unity: { name: "Ray LaHood", img: "https://www.ttnews.com/sites/default/files/images/articles/ray-lahood.jpg", formerRole: "Former Sec. of Transportation (R)", state: "Illinois" }
		},
		energy: {
			green: { name: "Jay Inslee", img: "https://media2.s-nbcnews.com/i/streams/2012/November/121110/1C4694604-121109-inslee-723p.jpg", formerRole: "Governor of Washington", state: "Washington" },
			establishment: { name: "Ernest Moniz", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-132pp0u7ilUTH4eZ8nhtzDfEDv3NT68DLg&s", formerRole: "Secretary of Energy", state: "Massachusetts" },
			technocrat: { name: "Arun Majumdar", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmmT0CsHJ1wxTRYqCCLim05qFEFFBDn647lEgRGYtloZx04BgP9-EoBQMQGejNOPWmM04&usqp=CAU", formerRole: "Director of ARPA-E", state: "California" },
			progressive: { name: "Carol Browner", img: "https://obamawhitehouse.archives.gov/sites/obamawhitehouse.archives.gov/files/person-photo/browner_01.jpg", formerRole: "Director, WH Office of Energy", state: "Florida" }
		},
		education: {
			union: { name: "Randi Weingarten", img: "https://static.wikia.nocookie.net/althistory/images/2/2e/Weingarten_108.jpg", formerRole: "President, AFT", state: "New York" },
			reformer: { name: "Linda Darling-Hammond", img: "https://www.aera.net/portals/38/darling-hammond.jpg", formerRole: "Professor, Stanford University", state: "California" },
			establishment: { name: "John King Jr.", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/John_B._King_official_portrait.jpg/250px-John_B._King_official_portrait.jpg", formerRole: "Secretary of Education", state: "New York" },
			unity: { name: "Bill Haslam", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Bill-haslam-highlands-debate-tn1.jpg/640px-Bill-haslam-highlands-debate-tn1.jpg", formerRole: "Governor of Tennessee (R)", state: "Tennessee" }
		},
		veterans: {
			bipartisan: { name: "Robert McDonald", img: "https://www.vetshq.com/wp-content/blogs.dir/files/sites/11/2014/06/IMAGE-POST-BOB-MCDONALD-063014.jpg", formerRole: "Secretary of Veterans Affairs (R)", state: "Ohio" },
			war_veteran: { name: "Tulsi Gabbard", img: "https://upload.wikimedia.org/wikipedia/commons/5/53/Tulsi_pic.jpg", formerRole: "U.S. Representative", state: "Hawaii" },
			biden_vp_loyalist: { name: "Martin Dempsey", img: "https://upload.wikimedia.org/wikipedia/commons/1/1c/General_Martin_E._Dempsey.jpg", formerRole: "Chairman of the Joint Chiefs", state: "New York" },
			progressive: { name: "Patty Murray", img: "https://upload.wikimedia.org/wikipedia/commons/f/fd/Patty_Murray_official_portrait.jpg", formerRole: "U.S. Senator", state: "Washington" }
		},
		homeland: {
			establishment: { name: "Jeh Johnson", img: "https://www.aero-news.net/images/content/general/2013/Jeh-Johnson-Official-Photo-1213a.jpg", formerRole: "Secretary of Homeland Security", state: "New Jersey" },
			centrist: { name: "Alejandro Mayorkas", img: "https://i.dailymail.co.uk/i/pix/2013/07/23/article-2375290-1AF571D6000005DC-143_306x423.jpg", formerRole: "Deputy Secretary of DHS", state: "California" },
			counter_terror: { name: "Lisa Monaco", img: "https://images.axios.com/V43dgt0tHYh2gvGY9Mx0zOZqeMk=/723x0:4191x3468/1024x1024/2021/04/20/1618924706388.jpg", formerRole: "Homeland Security Advisor", state: "Massachusetts" },
			unity: { name: "Michael Chertoff", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Michael_Chertoff%2C_official_DHS_photo_portrait%2C_2007.jpg/250px-Michael_Chertoff%2C_official_DHS_photo_portrait%2C_2007.jpg", formerRole: "Former Secretary of DHS (R)", state: "New Jersey" }
		}
	};
    
	const trumpCandidates = {
		vp: { name: "Mike Pence", img: "https://upload.wikimedia.org/wikipedia/commons/0/06/Mike_Pence_February_2015_cropped_color_corrected_2_by_3.jpg", formerRole: "Governor of Indiana", state: "Indiana" },
		state: {
			loyalist: { name: "Newt Gingrich", img: "https://upload.wikimedia.org/wikipedia/commons/2/2c/Newt_Gingrich_by_Gage_Skidmore_6.jpg", formerRole: "Former Speaker of the House", state: "Georgia" },
			hawk: { name: "John Bolton", img: "https://upload.wikimedia.org/wikipedia/commons/6/68/John_Bolton_by_Gage_Skidmore.jpg", formerRole: "Former U.S. Ambassador to the UN", state: "Maryland" },
			wildcard: { name: "Rex Tillerson", img: "https://www.hollywoodreporter.com/wp-content/uploads/2016/12/rex_tillerson.jpg", formerRole: "CEO of ExxonMobil", state: "Texas" },
			alternate_loyalist: { name: "Rudy Giuliani", img: "https://www.uu.edu/events/scholarshipbanquet/2003/Giuliani-raw.jpg", formerRole: "Former Mayor of New York City", state: "New York" }
		},
		treasury: {
			establishment: { name: "Steven Mnuchin", img: "https://s.wsj.net/public/resources/images/BN-QZ801_1130mn_GR_20161130083306.jpg", formerRole: "CEO, Dune Entertainment", state: "California" },
			populist: { name: "Carl Icahn", img: "https://media.syracuse.com/haveyouheard/photo/icahn-investorsjpg-f9bad02bcbb3b758.jpg", formerRole: "Investor", state: "New York" },
			unity: { name: "Jamie Dimon", img: "https://static01.nyt.com/images/2014/07/02/business/dealbook/dbpix-dimon-bank/dbpix-dimon-tmagArticle.jpg", formerRole: "CEO of JPMorgan Chase (D)", state: "New York" }
		},
		defense: {
			general: { name: "James Mattis", img: "https://www.hoover.org/sites/default/files/uploads/images/Mattis_Centcom_2010-201308031626.jpg", formerRole: "Commander, U.S. Central Command", state: "Washington" },
			loyalist: { name: "Michael Flynn", img: "https://s.hdnux.com/photos/55/42/06/11936176/4/rawImage.jpg", formerRole: "Former Director of the DIA", state: "Rhode Island" },
			hardliner: { name: "Jeff Sessions", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Jeff_Sessions_official_Senate_portrait.jpg/220px-Jeff_Sessions_official_Senate_portrait.jpg", formerRole: "U.S. Senator", state: "Alabama" }
		},
		attorneyGeneral: {
			loyalist_1: { name: "Rudy Giuliani", img: "https://www.uu.edu/events/scholarshipbanquet/2003/Giuliani-raw.jpg", formerRole: "Former Mayor of New York City", state: "New York" },
			loyalist_2: { name: "Chris Christie", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Chris_Christie_by_Gage_Skidmore.jpg/220px-Chris_Christie_by_Gage_Skidmore.jpg", formerRole: "Governor of New Jersey", state: "New Jersey" },
			hardliner: { name: "Jeff Sessions", img: "https://m.media-amazon.com/images/M/MV5BMTRhNTM4ZTMtMjk0OS00MWY4LWIyYjUtZjBmYWRlOGYwYjBlXkEyXkFqcGc@._V1_.jpg", formerRole: "U.S. Senator", state: "Alabama" }
		},
		interior: {
			firebrand: { name: "Sarah Palin", img: "https://media.gettyimages.com/id/499973456/pt/foto/universal-city-ca-sarah-palin-visits-extra-at-universal-studios-hollywood-on-december-4-2015-in.jpg?s=612x612&w=0&k=20&c=w5B9KZhVcOmNc4zXpk-A_8IitiGPw0V6ND83csvojwU=", formerRole: "Former Governor of Alaska", state: "Alaska" },
			establishment: { name: "Mary Fallin", img: "https://upload.wikimedia.org/wikipedia/commons/6/64/Mary_Fallin_official_110th_Congress_photo.jpg", formerRole: "Governor of Oklahoma", state: "Oklahoma" },
			western: { name: "Cathy McMorris Rodgers", img: "https://upload.wikimedia.org/wikipedia/commons/1/14/Cathy_McMorris%2C_official_photo_portrait%2C_color.jpg", formerRole: "U.S. Representative", state: "Washington" }
		},
		agriculture: {
			establishment: { name: "Sonny Perdue", img: "https://cloudfront-us-east-1.images.arcpublishing.com/ajc/MR6G2TQBM27BQZLUPINJPZONYY.jpg", formerRole: "Former Governor of Georgia", state: "Georgia" },
			populist: { name: "Sid Miller", img: "https://cdn.houstonpublicmedia.org/wp-content/uploads/2016/04/Sid-Miller-804x1000.jpg", formerRole: "Texas Agriculture Commissioner", state: "Texas" },
			agribusiness: { name: "Chuck Conner", img: "https://upload.wikimedia.org/wikipedia/commons/6/66/Charles_F._Conner%2C_official_USDA_photo_portrait.jpg", formerRole: "CEO, National Council of Farmer Co-ops", state: "Indiana" }
		},
		commerce: {
			business: { name: "Wilbur Ross", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Wilbur_Ross.jpg/960px-Wilbur_Ross.jpg", formerRole: "Investor", state: "New York" },
			populist: { name: "Dan DiMicco", img: "https://leadersbowl.wordpress.com/wp-content/uploads/2012/12/wpid-dimicco-dan.jpg", formerRole: "CEO of Nucor Corporation", state: "North Carolina" },
			establishment: { name: "Rick Snyder", img: "https://riponsociety.org/wp-content/uploads/2014/08/rsnyderrf132.jpg", formerRole: "Governor of Michigan", state: "Michigan" }
		},
		labor: {
			business: { name: "Andrew Puzder", img: "https://www.kennesaw.edu/coles/events/images/andy-puzder.jpg", formerRole: "CEO of CKE Restaurants", state: "California" },
			establishment: { name: "Victoria A. Lipnic", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Victoria_Lipnic.jpg/1200px-Victoria_Lipnic.jpg", formerRole: "Commissioner of the EEOC", state: "Maryland" }
		},
		hhs: {
			establishment: { name: "Tom Price", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Tom_Price_official_Transition_portrait.jpg/960px-Tom_Price_official_Transition_portrait.jpg", formerRole: "U.S. Representative", state: "Georgia" },
			loyalist: { name: "Ben Carson", img: "https://www.pbs.org/newshour/app/uploads/2016/12/RTSUQQB-1024x683.jpg", formerRole: "Neurosurgeon", state: "Florida" },
			unity: { name: "Rick Scott", img: "https://www.cleanenergy.org/wp-content/uploads/Rick_Scott_official_portrait.jpg", formerRole: "Governor of Florida", state: "Florida" }
		},
		hud: {
			loyalist: { name: "Ben Carson", img: "https://www.pbs.org/newshour/app/uploads/2016/12/RTSUQQB-1024x683.jpg", formerRole: "Neurosurgeon", state: "Florida" },
			alternate: { name: "Pam Bondi", img: "https://floridapolitics.com/wp-content/uploads/2014/12/bondi-pam-fp1-1024x1024.jpg", formerRole: "Attorney General of Florida", state: "Florida" }
		},
		transportation: {
			establishment: { name: "Elaine Chao", img: "https://upload.wikimedia.org/wikipedia/commons/b/b1/Elaine_Chao_large.jpg", formerRole: "Former Secretary of Labor", state: "Kentucky" },
			alternate: { name: "John Mica", img: "https://upload.wikimedia.org/wikipedia/commons/f/f5/John_L._Mica_113th_Congress.jpg", formerRole: "U.S. Representative", state: "Florida" }
		},
		energy: {
			establishment: { name: "Rick Perry", img: "https://upload.wikimedia.org/wikipedia/commons/2/2f/Rick_Perry_by_Gage_Skidmore_3.jpg", formerRole: "Former Governor of Texas", state: "Texas" },
			oil_gas: { name: "Harold Hamm", img: "https://upload.wikimedia.org/wikipedia/commons/2/20/Harold_Hamm_2012_Shankbone.JPG", formerRole: "CEO of Continental Resources", state: "Oklahoma" }
		},
		education: {
			establishment: { name: "Betsy DeVos", img: "https://cdn.videos.rollcall.com/author/2016/11/23160739/betsydevos.jpg", formerRole: "Chair, American Federation for Children", state: "Michigan" },
			alternate: { name: "Gerard Robinson", img: "https://miamiherald.typepad.com/.a/6a00d83451b26169e2016768f681ba970b-pi", formerRole: "Former FL Education Commissioner", state: "Florida" }
		},
		veterans: {
			establishment: { name: "Jeff Miller", img: "https://upload.wikimedia.org/wikipedia/commons/c/ce/Jeff_Miller_Congress.JPG", formerRole: "U.S. Representative", state: "Florida" },
			alternate: { name: "David Shulkin", img: "https://upload.wikimedia.org/wikipedia/commons/4/40/David_Shulkin%2C_Under_Secretary_of_Health%2C_portrait.jpg", formerRole: "Under Secretary of V.A. for Health", state: "Pennsylvania" }
		},
		homeland: {
			general: { name: "John Kelly", img: "https://upload.wikimedia.org/wikipedia/commons/9/92/John_F._Kelly%2C_2012.jpg", formerRole: "Commander, U.S. Southern Command", state: "Virginia" },
			hardliner: { name: "Kris Kobach", img: "https://thesunflower.com/wp-content/uploads/2017/08/kriskobach.jpg", formerRole: "Secretary of State of Kansas", state: "Kansas" },
			loyalist: { name: "Sheriff David Clarke", img: "https://swiftmedia.s3.amazonaws.com/mountain.swiftcom.com/images/sites/9/2016/09/07013940/constitutionweek-shn-090916.jpg", formerRole: "Sheriff of Milwaukee County", state: "Wisconsin" }
		}
	};

    // picker logic
    if (victoryType === 'win') {
		president = { name: "Hillary Clinton", img: "https://upload.wikimedia.org/wikipedia/commons/7/7e/Secretary_Clinton_and_Australian_Foreign_Minister_Rudd_Deliver_Remarks_%285681069115%29_%28cropped%29.jpg", formerRole: "Former Secretary of State", state: "New York" };
		party = "Democratic";
		headerColor = "#002D62";
		
		let tempVP;
		if (runningMateID === 999) {
			tempVP = { name: "Donald Trump", img: "https://www.thesun.co.uk/wp-content/uploads/2019/06/NINTCHDBPICT000494691093-e1559546002438.jpg?strip=all&w=960", formerRole: "Businessman", state: "New York" };
		} else {
			tempVP = clintonVPs[runningMateID] || clintonVPs[209];
		}

		vicePresident = {
			position: "Vice President",
			...tempVP,
			seal: seals.vp
		};
		assignedPeople.add(vicePresident.name);

		const candidates = clintonCandidates;

        // Tier 1 appointments
        const statePicks = [
			(runningMateID === 213 && candidates.state.biden_vp_loyalist),
			(runningMateID === 209 && candidates.state.establishment),
			(sandersRelations >= 4 && candidates.state.progressive),
			(hawkScore >= 3 && candidates.state.hawk),
			candidates.state.loyalist
        ].filter(Boolean);
        pickAndAssign("Secretary of State", statePicks, seals.state, 1);

        const defensePicks = [
			(runningMateID === 213 && candidates.defense.biden_vp_loyalist),
			(runningMateID === 209 && candidates.defense.hawk),
			(playerEV < 280 && candidates.defense.unity),
			(sandersRelations >= 3 && candidates.defense.dove),
			candidates.defense.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Defense", defensePicks, seals.defense, 1);

        const treasuryPicks = [
			(runningMateID === 212 && candidates.treasury.establishment),
			(wallStreetScore <= -2 && candidates.treasury.progressive),
			(playerEV > 330 && candidates.treasury.technocrat),
			(wallStreetScore >= 2 && candidates.treasury.corporate),
			candidates.treasury.loyalist
        ].filter(Boolean);
        pickAndAssign("Secretary of the Treasury", treasuryPicks, seals.treasury, 1);

        const homelandPicks = [
			(playerEV < 290 && candidates.homeland.unity),
			(hawkScore >= 2 && candidates.homeland.counter_terror),
			(obamaLoyalty >= 3 && candidates.homeland.establishment),
			candidates.homeland.centrist
        ].filter(Boolean);
        pickAndAssign("Secretary of Homeland Security", homelandPicks, seals.homeland, 1);

        // Tier 2 appointments
		const agPicks = [
			(runningMateID === 212 && candidates.attorneyGeneral.establishment),
			(playerEV < 290 && candidates.attorneyGeneral.unity),
			(wallStreetScore >= 2 && candidates.attorneyGeneral.prosecutor),
			(sandersRelations >= 3 && candidates.attorneyGeneral.progressive),
			candidates.attorneyGeneral.biden_vp_loyalist
        ].filter(Boolean);
        pickAndAssign("Attorney General", agPicks, seals.attorneyGeneral, 2);

        const hhsPicks = [
			(sandersRelations >= 3 && candidates.hhs.progressive),
			(obamaLoyalty >= 2 && candidates.hhs.establishment),
			(globalistScore >= 1 && candidates.hhs.technocrat),
			candidates.hhs.loyalist
        ].filter(Boolean);
        pickAndAssign("Secretary of Health & Human Services", hhsPicks, seals.hhs, 2);

        const transportPicks = [
			(runningMateID === 215 && candidates.transportation.technocrat),
			(playerEV < 290 && candidates.transportation.unity),
			(runningMateID !== 215 && candidates.transportation.infrastructure),
			candidates.transportation.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Transportation", transportPicks, seals.transportation, 2);

        const energyPicks = [
			(campaignTrail_temp.player_answers.includes(20893) && candidates.energy.green),
			(sandersRelations >= 3 && candidates.energy.progressive),
			(obamaLoyalty >= 3 && candidates.energy.establishment),
			candidates.energy.technocrat
        ].filter(Boolean);
        pickAndAssign("Secretary of Energy", energyPicks, seals.energy, 2);

        // Tier 3 appointments
        const interiorPicks = [
			(sandersRelations >= 3 && candidates.interior.progressive),
			(playerEV > 320 && candidates.interior.western_dem),
			(obamaLoyalty >= 2 && candidates.interior.establishment),
			candidates.interior.tribal_affairs
        ].filter(Boolean);
        pickAndAssign("Secretary of the Interior", interiorPicks, seals.interior, 3);
        
        const agriculturePicks = [
			(runningMateID === 213 && candidates.agriculture.biden_vp_loyalist),
			(playerEV < 300 && candidates.agriculture.rural_outreach),
			(sandersRelations >= 2 && candidates.agriculture.progressive),
			candidates.agriculture.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Agriculture", agriculturePicks, seals.agriculture, 3);

        const commercePicks = [
            (globalistScore <= -2 && candidates.commerce.protectionist),
			(playerEV < 300 && candidates.commerce.unity),
			(wallStreetScore >= 1 && candidates.commerce.corporate),
			candidates.commerce.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Commerce", commercePicks, seals.commerce, 3);
        
        const laborPicks = [
			(sandersRelations >= 5 && playerEV > 330 && candidates.labor.progressive_unity),
			(sandersRelations >= 3 && candidates.labor.union),
			(runningMateID === 213 && candidates.labor.biden_vp_loyalist),
			candidates.labor.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Labor", laborPicks, seals.labor, 3);

        const hudPicks = [
			([211, 214].includes(runningMateID) && candidates.hud.booker_vp_loyalist),
			(sandersRelations >= 4 && candidates.hud.progressive),
			(runningMateID !== 214 && candidates.hud.establishment),
			candidates.hud.mayor
        ].filter(Boolean);
        pickAndAssign("Secretary of Housing & Urban Development", hudPicks, seals.hud, 3);

        const educationPicks = [
            (playerEV < 300 && candidates.education.unity),
			(sandersRelations >= 4 && candidates.education.union),
			(obamaLoyalty >= 2 && candidates.education.establishment), 
			candidates.education.reformer
        ].filter(Boolean);
        pickAndAssign("Secretary of Education", educationPicks, seals.education, 3);

        const veteransPicks = [
            (runningMateID === 213 && candidates.veterans.biden_vp_loyalist),
			(hawkScore <= 0 && candidates.veterans.war_veteran),
			(sandersRelations >= 2 && candidates.veterans.progressive),
			candidates.veterans.bipartisan
        ].filter(Boolean);
        pickAndAssign("Secretary of Veterans Affairs", veteransPicks, seals.veterans, 3);

	} else { // Trump victory
		president = { name: "Donald Trump", img: "https://www.thesun.co.uk/wp-content/uploads/2019/06/NINTCHDBPICT000494691093-e1559546002438.jpg?strip=all&w=960", formerRole: "Businessman", state: "New York" };
		party = "Republican";
		headerColor = "#AE1C23";
		
		const populistScore = window.populistScore || 0;
		const aggressiveScore = window.aggressiveScore || 0;
		
		const embracedSanders = window.embracedSanders === true;
		const tookResponsibilityForEmails = window.tookResponsibilityForEmails === true;

		const vpName = getTrumpVP(populistScore, aggressiveScore, embracedSanders, tookResponsibilityForEmails);

		const selectedVPData = trumpVPs[vpName] || trumpVPs["Mike Pence"];
		
		// define and assign the final vicePresident object
		vicePresident = { position: "Vice President", ...selectedVPData, seal: seals.vp };
		assignedPeople.add(vicePresident.name);

		const candidates = trumpCandidates;
		const trumpMandate = (playerEV < 200) ? 100 : (270 - playerEV);
		
		// Tier 1 appointments
		const agPicks = [
			(vpName === "Chris Christie" && candidates.attorneyGeneral.loyalist_2),
			(aggressiveScore >= 2 && candidates.attorneyGeneral.loyalist_1),     // Aggressive campaign -> Giuliani
			(vpName === "Jeff Sessions" && candidates.attorneyGeneral.hardliner),
			candidates.attorneyGeneral.loyalist_1                                  // Default loyalist -> Giuliani
		].filter(Boolean);
		pickAndAssign("Attorney General", agPicks, seals.attorneyGeneral, 1);
		
		const defensePicks = [
			(vpName === "Mike Flynn" && candidates.defense.loyalist),
			(aggressiveScore >= 3 && candidates.defense.hardliner), 
			(vpName === "Mike Pence" && candidates.defense.general),
			candidates.defense.general
		].filter(Boolean);
		pickAndAssign("Secretary of Defense", defensePicks, seals.defense, 1);
		
		const treasuryPicks = [
			(populistScore >= 4 && candidates.treasury.populist),
			(trumpMandate < 40 && candidates.treasury.unity),
			(vpName === "Mike Pence" && candidates.treasury.establishment),
			candidates.treasury.establishment
		].filter(Boolean);
		pickAndAssign("Secretary of the Treasury", treasuryPicks, seals.treasury, 1);
		
		const homelandPicks = [
			(aggressiveScore >= 3 && candidates.homeland.hardliner),
			(populistScore >= 3 && candidates.homeland.loyalist),
			(vpName === "Mike Pence" && candidates.homeland.general),
			candidates.homeland.general
		].filter(Boolean);
		pickAndAssign("Secretary of Homeland Security", homelandPicks, seals.homeland, 1);
		
		// Tier 2 appointments
		const statePicks = [
			(hawkScore >= 3 && candidates.state.hawk),
			(vpName === "Newt Gingrich" && candidates.state.loyalist),
			(populistScore >= 2 && candidates.state.wildcard),
			candidates.state.alternate_loyalist
		].filter(Boolean);
		pickAndAssign("Secretary of State", statePicks, seals.state, 2);

		const hhsPicks = [
			(populistScore >= 2 && candidates.hhs.loyalist),
			(trumpMandate < 50 && candidates.hhs.unity),
			(vpName === "Mike Pence" && candidates.hhs.establishment),
			candidates.hhs.establishment
		].filter(Boolean);
		pickAndAssign("Secretary of HHS", hhsPicks, seals.hhs, 2);
		
		const commercePicks = [
			(populistScore >= 3 && candidates.commerce.populist),
			(trumpMandate < 50 && candidates.commerce.establishment),
			candidates.commerce.business
		].filter(Boolean);
		pickAndAssign("Secretary of Commerce", commercePicks, seals.commerce, 2);
		
		pickAndAssign("Secretary of Transportation", [candidates.transportation.establishment, candidates.transportation.alternate], seals.transportation, 2);

		// Tier 3 appointments
		const interiorPicks = [
			(populistScore >= 5 && candidates.interior.firebrand),
			(vpName === "Mary Fallin" && candidates.interior.establishment),
			(populistScore >= 2 && candidates.interior.establishment),
			candidates.interior.western
		].filter(Boolean);
		pickAndAssign("Secretary of the Interior", interiorPicks, seals.interior, 3);
		
		pickAndAssign("Secretary of Agriculture", [candidates.agriculture.establishment, candidates.agriculture.populist, candidates.agriculture.agribusiness], seals.agriculture, 3);
		
		pickAndAssign("Secretary of Labor", [candidates.labor.business, candidates.labor.establishment], seals.labor, 3);
		
		const hudPicks = [
			(populistScore >= 3 && candidates.hud.loyalist),
			candidates.hud.alternate
		].filter(Boolean);
		pickAndAssign("Secretary of Housing & Urban Development", hudPicks, seals.hud, 3);
		
		const energyPicks = [
			(populistScore >= 3 && candidates.energy.oil_gas),
			candidates.energy.establishment
		].filter(Boolean);
		pickAndAssign("Secretary of Energy", energyPicks, seals.energy, 3);
		
		const educationPicks = [
			(vpName === "Mike Pence" && candidates.education.alternate),
			candidates.education.establishment
		].filter(Boolean);
		pickAndAssign("Secretary of Education", educationPicks, seals.education, 3);

		pickAndAssign("Secretary of Veterans Affairs", [candidates.veterans.establishment, candidates.veterans.alternate], seals.veterans, 3);
	}
    
    // html generation
	let html = `
	<div style="max-width: 800px; margin: 1em auto; font-family: sans-serif;">
		<style>
			.wikitable { background-color: #f8f9fa; color: #202122; margin: 1em 0; border: 1px solid #a2a9b1; border-collapse: collapse; }
			.wikitable > tbody > tr > th, .wikitable > tbody > tr > td { border: 1px solid #a2a9b1; padding: 0.35em 0.4em; }
			.wikitable > thead > tr > th { border: 1px solid #a2a9b1; padding: 0.35em 0.4em; }
			.wikitable > * > tr > th { background-color: #eaecf0; text-align: center; font-weight: bold; }
		</style>
		<table class="wikitable" style="text-align:center; width: 100%;">
			<thead>
				<tr>
					<th colspan="4" style="font-size:110%; color:white; background:${headerColor};">
						<b>Cabinet of President ${president.name}</b>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td colspan="4" style="text-align:left; font-size: 90%; background-color: #f8f9fa;">
						<div style="display:inline-block; border:1px solid #a2a9b1; width:1em; height:1em; background-color:#90EE90; vertical-align: middle;"></div> Elected to office
					</td>
				</tr>
	`;

	const presidentOfficeCell = `
		<td style="vertical-align: top; padding: 5px; background: #90EE90;" colspan="2">
			<img src="${seals.potus}" style="width: 75px; height: 75px; object-fit: contain;">
			<p style="margin: 0.5em 0; font-weight: bold;">President</p>
			<p style="font-size: 85%; margin: 0;">
				Elected November 8, 2016<br>
				Assumed office January 20, 2017
			</p>
		</td>
	`;
	const presidentDesigneeCell = `
		<td style="vertical-align: top; padding: 5px; background: #90EE90;" colspan="2">
			<img src="${president.img}" style="width: 95px; height: 120px; object-fit: cover; border: 1px solid #ccc;">
			<br>
			<span style="font-size: 85%;">${president.formerRole}</span>
			<br>
			<b>${president.name}</b>
			<br>
			<span style="font-size: 85%;">from ${president.state}</span>
		</td>
	`;
	html += `<tr>${presidentOfficeCell}${presidentDesigneeCell}</tr>`;

	// two-column header
	html += `
				<tr>
					<th scope="col" style="width: 30%;">Office<br><small>Date announced/confirmed</small></th>
					<th scope="col" style="width: 20%;">Designee</th>
					<th scope="col" style="width: 30%;">Office<br><small>Date announced/confirmed</small></th>
					<th scope="col" style="width: 20%;">Designee</th>
				</tr>
	`;

	// create the final list
	const cabinetMembers = [vicePresident, ...cabinet];

	for (let i = 0; i < cabinetMembers.length; i += 2) {
		html += '<tr>';
		const member1 = cabinetMembers[i];
		if (member1) {
			html += generateCabinetCells(member1, victoryType);
		}

		const member2 = cabinetMembers[i + 1];
		if (member2) {
			html += generateCabinetCells(member2, victoryType);
		} else {
			html += '<td colspan="2"></td>';
		}
		html += '</tr>';
	}

	html += `</tbody></table></div>`;
	return html;
}

// main ending picker function
endingPicker = (out, totv, aa, quickstats) => {
    console.log("Preparing ending data...");
    
    // reset contingent mode when starting a new ending picker
    contingentMode = false;
    
    campaignTrail_temp.pages = [];
    campaignTrail_temp.header = "";
    campaignTrail_temp.executable = [];
    campaignTrail_temp.page = 0;
    campaignTrail_temp.image = false;

    const playerEV = quickstats[0];
    const playerCandidateId = campaignTrail_temp.candidate_id;
    let popularVoteWon = aa[0].popular_votes > aa[1].popular_votes;
    
    // sort by electoral votes to ensure we handle any number of candidates correctly
    const sortedResults = [...aa].sort((a, b) => b.electoral_votes - a.electoral_votes);
    
    // find the player's position in the sorted results
    const playerIndex = sortedResults.findIndex(result => result.candidate === playerCandidateId);
    
    // get opponent EVs (that is, the candidate with most EVs who isn't the player)
    let opponentEVs = 0;
    let otherOpponentEVs = 0;
    
    if (playerIndex === 0) {
        // player is winning, get second and third place
        opponentEVs = sortedResults.length > 1 ? sortedResults[1].electoral_votes : 0;
        otherOpponentEVs = sortedResults.length > 2 ? sortedResults[2].electoral_votes : 0;
    } else {
        // player isn't winning, get first place and third place (or second non-player)
        opponentEVs = sortedResults[0].electoral_votes;
        
        // find the next highest candidate who isn't the player
        for (let i = 1; i < sortedResults.length; i++) {
            if (sortedResults[i].candidate !== playerCandidateId) {
                otherOpponentEVs = sortedResults[i].electoral_votes;
                break;
            }
        }
    }
    
    if (typeof CONTINGENT !== 'undefined' && CONTINGENT > 0) {
        endingPickerCONT();
        return "";
    }
	
	// for the achievements
	if (out === "win") {
		checkAndApplyUnlocks(playerEV, campaignTrail_temp.running_mate_id);
		unlockAchievement("Just Like Heaven");
		if (playerEV >= 535) unlockAchievement("In Present Tense");
		if (playerEV >= 332) unlockAchievement("Mother's Pride");
		if (campaignTrail_temp.player_answers.includes(5184)) unlockAchievement("If I Was Your Girlfriend");
		if (campaignTrail_temp.player_answers.includes(20988)) unlockAchievement("I Could Never Take The Place of Your Man");
		if (feelthebern >= 5) unlockAchievement("Eminence Front");
		if (feelthebern == 0) unlockAchievement("By Blood and Tears Alone");
		if (yeshillaryyes >= 3) unlockAchievement("Walking On A Dream");
		if (campaignTrail_temp.running_mate_id == 211) unlockAchievement("One Way Ticket");
		if (campaignTrail_temp.running_mate_id == 212) unlockAchievement("I Can See Clearly Now");
		if (hawkhill >= 3) unlockAchievement("Hoist The Colors");
		if (hipnfly >= 3) unlockAchievement("Fashion Is Danger");
		if (floor13 == false) unlockAchievement("Abhorrent to Every Instinct");
		if (campaignTrail_temp.difficulty_level_multiplier <= 0.93) unlockAchievement("Spitting Off The Edge of The World");
		if (campaignTrail_temp.final_state_results[42]["result"][0]["candidate"] == 201) unlockAchievement("Saturday Nighter");
		if (goodtimes >= 3) unlockAchievement("Class of '93");
		if (campaignTrail_temp.running_mate_id == 213) unlockAchievement("Before My Telephone Rings");
		if (campaignTrail_temp.running_mate_id == 214) unlockAchievement("Ghosts and Creatures");
		if (campaignTrail_temp.running_mate_id == 215) unlockAchievement("Perfect Celebrity");
	} else {
		if (out === "loss" & (!popularVoteWon)) {
			unlockAchievement("Plastic Machinery");
		} else if (out === "loss") {
			unlockAchievement("Nothing Has Changed");
		}
	}
	if (playerEV < 270 && opponentEVs < 270) {
		unlockAchievement("Tongue-Tied");
	}
	    
    if(typeof nct_stuff !== 'undefined' && nct_stuff.themes && nct_stuff.selectedTheme) {
        nct_stuff.themes[nct_stuff.selectedTheme].text_col = "white";
    }
	
	// Define scores with a neutral starting point
	let scores = {
		sandersRelations: 0,
		wallStreetScore: 0,
		globalistScore: 0,
		hawkScore: 0,
		obamaLoyalty: 0,
	};

	const answers = campaignTrail_temp.player_answers;

	// Sanders Relations Scoring
	if (answers.includes(5170)) scores.sandersRelations += 2;
	if (answers.includes(5171)) scores.sandersRelations += 1;
	if (answers.includes(5172)) scores.sandersRelations -= 2;
	if (answers.includes(5200)) scores.sandersRelations += 2;
	if (answers.includes(5203)) scores.sandersRelations -= 3;
	if (answers.includes(5151)) scores.sandersRelations += 1;
	if (answers.includes(5189)) scores.sandersRelations += 1;
	if (answers.includes(20798)) scores.sandersRelations += 1;
	if (answers.includes(20893)) scores.sandersRelations += 1;

	// Wall Street Score Scoring
	if (answers.includes(5140)) scores.wallStreetScore += 2;
	if (answers.includes(5250) || answers.includes(5251)) scores.wallStreetScore += 1;
	if (answers.includes(5151)) scores.wallStreetScore -= 2;
	if (answers.includes(20725)) scores.wallStreetScore += 1;

	// Globalist Score Scoring
	if (answers.includes(20757)) scores.globalistScore += 2;
	if (answers.includes(20751) || answers.includes(20736)) scores.globalistScore -= 2;
	if (answers.includes(21240)) scores.globalistScore += 1;

	// Hawk Score Scoring
	if (answers.includes(21001) || answers.includes(21013)) scores.hawkScore += 2;
	if (answers.includes(20995)) scores.hawkScore -= 2;
	if (answers.includes(5215)) scores.hawkScore += 1;
	if (answers.includes(5214)) scores.hawkScore -= 1;

	// Obama Loyalty Scoring
	if (answers.includes(5196)) scores.obamaLoyalty += 2;
	if (answers.includes(5223)) scores.obamaLoyalty += 1;
	if (answers.includes(21096)) scores.obamaLoyalty += 1;
	if (answers.includes(5198)) scores.obamaLoyalty -= 2;
	if (answers.includes(5199)) scores.obamaLoyalty -= 1;

    
    // Clinton loss - nothing.
	if ((playerEV == 0 || playerEV == 3)){
        campaignTrail_temp.pages.push(`<div style="font-family: 'Times New Roman', Times, serif; border: 1px solid #ccc; padding: 15px; background-color: #fdfdfd;"> <h3 style="text-align: center; border-bottom: 2px solid #333; padding-bottom: 5px; margin-top: 0;">The Chappaqua Chronicle</h3> <p style="text-align: center; font-size: 0.9em; color: #555;">Your Community, Your News | Saturday, March 18, 2017</p> <h4 style="font-weight: bold;">Mrs. Clinton Parks Car on Chappaqua Street</h4> <p><strong>CHAPPAQUA, NY</strong> – In a display of normalcy that has become increasingly common for the former presidential candidate, Chappaqua resident Hillary Clinton successfully parallel parked a dark-colored SUV on South Greeley Avenue this morning. The maneuver, described by one onlooker as “pretty good, maybe a little close to the curb,” preceded a brief trip into the local DeCicco & Sons Market.</p> <p>Inside, dressed in a black jacket, Mrs. Clinton was seen navigating the produce aisle, pausing to inspect a bunch of kale before moving on to the dairy section. She offered polite smiles to the few shoppers who recognized her, eventually purchasing a carton of milk, a bag of quinoa, and a rotisserie chicken.</p> <p>“Oh yes, she and the President [Bill Clinton] come in from time to time,” remarked Brenda Scofield, 62, a retired teacher bagging her groceries nearby. “We just try to give them their space. They’re our neighbors, after all.”</p> <p>Mrs. Clinton has kept a decidedly low profile since the conclusion to last fall’s presidential contest, which saw her fail to win any of the 50 states in the country and their votes in the Electoral College. Aside from occasional walks in the nearby woods with her husband and their dogs, a local pastime that has gained some national attention, she has made few public appearances since.</p> <p>However, whispers in local Democratic circles have begun to circulate about a potential next act. With veteran Congresswoman Nita Lowey (D-NY17), 79, reportedly mulling retirement ahead of the 2018 midterms, some party insiders have quietly wondered if Mrs. Clinton might consider a run for the House of Representatives. Such a move would allow her to re-enter the political fray, representing the community she has called home for nearly two decades.</p> <p>When asked by this reporter for comment on her parking technique or future political plans, the former First Lady simply offered a warm smile and a slight wave before loading her groceries into her vehicle. For now, it seems her most immediate concern isn’t holding a congressional district, but simply getting home before the ice cream melts.</p> </div>`);
        campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/1236930867/pt/foto/us-first-lady-and-senator-elect-hillary-rodham-clinton-is-bundled-against-the-cold-during-a.jpg?s=612x612&w=0&k=20&c=pRr63Borwnky7WeZShL8dnEhpwTdo__8Lgwx3nK7CGQ='; }]);
		
		const cabinetHTML = generateCabinetTimeline('loss', playerEV, campaignTrail_temp.running_mate_id, scores);
		campaignTrail_temp.pages.push(cabinetHTML);
		campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
		}]);
    }
	// Clinton loss - bigly!
    else if (playerEV >= 4 && playerEV < 200) {
        campaignTrail_temp.pages.push(`<div style="background: rgba(0, 0, 0, 0.5); color: white; padding: 1.2em; display: inline-block; border-radius: .5em 0 0 .5em;"><h3><span style="color:#eee;">chasing pirates</span></h3><p>The first domino was Florida, as it so often is. The second one was Ohio. But the one that broke the spell was Pennsylvania. The networks called it at 1:36 a.m. With it, the red bar for Trump nudged past the threshold, and the state on the holographic TV map flickered from toss-up gray to a deep, final crimson.<br/><br/>No one screamed. No one threw anything. The sound that followed was worse: a collective exhalation, as if a hundred people or so had been holding their breath for eighteen months and had all let it go at once. If anything, it felt like whatever energy they had was sucked out of them entirely. They had already abandoned the Javits Center hours ago, and were in a random Manhattan hotel waiting for a miracle that wasn’t coming.<br/><br/>Hillary stood before the wall of screens, her expression unreadable. She had watched the Blue Wall, the firewall she had been assured would hold, crumble brick by brick. Michigan was bleeding, Wisconsin was gone, and she didn’t even wanna think about Minnesota. This wasn’t like a normal landslide, no, it was like a death by a thousand cuts... each one a precinct in a county she’d never heard of, and each one a vote <i>she</i> was supposed to have. The final margin wouldn’t be a chasm.<br/><br/>Slowly, as if moving through water, she walked to the main television. She picked up the remote from a table littered with half-empty coffee cups and some binders. With a quiet <i>click</i>, the screen went black. It was over.<br/><br/>The sudden silence was absolute. In the dark glass of the TV, she saw not a President-elect, but a woman. Tired. Impossibly tired, too, with lines around her eyes that not even the best makeup could hide, and her reflection was so pale she looked as if she had seen a ghost.<br/><br/>Bill moved to her side and put a hand on her arm. His voice was quite low. “Hillary… Barack is on the line. He thinks… h-he says for the good of the country, we should think about a concession call.”<br/><br/>She didn’t turn to look at him. She just kept staring at the TV screen. “I want to go home, Bill.”<br/><br/>“I know,” he said gently. “But the markets, the transition… we need a smooth transfer of power, Hill. We have to show…”<br/><br/>“No,” she said. Her voice wasn’t sharp or angry, although it was quite flat. “I want to go home. Please.”<br/><br/>He looked from his wife to the stunned faces of Podesta and Huma and the rest of her inner circle, all standing frozen. They looked like figures in a wax museum. It was pathetic. And he saw the truth in her eyes. Their fight was over. There was nothing left to give them anymore. And so he nodded. “Okay,” he whispered. “Okay, honey. We’ll go home.”<br/><br/>The ride to Chappaqua was a silent, rather surreal journey through a world that no longer belonged to her. The Secret Service motorcade moved through the sleeping suburbs of New York. She didn’t even want to think about the thousands of Hillary voters in this area who were having it just as bad as her, if not worse. Hillary leaned her head against the cool glass of the window, watching the streetlights streak by in blurry lines of gold and white and some red.<br/><br/>Why? This question wasn’t just political analysis, unfortunately. What had she done? She’d built a working coalition, she’d won the debates, she’d endured every attack, every smear, and every resurrected ghost from their long, public life. She had been told, and had believed, that she was the most qualified person to ever seek the office. And it wasn’t enough. Shit. By the barest of margins, in just the right places, it wasn’t enough. Was it the emails? Was it Russia? Was it fucking James Comey? Or was it something more fundamental? Was it… <i>her</i>? The question echoed in her mind. She didn’t want to answer it.<br/><br/>They pulled into their driveway just before 3 a.m. The house was understandably dark and quiet, and it was a sanctuary that felt worlds away from the noise and the numbers of NYC. Bill unlocked the front door, and the familiar scent of home washed over them. It was hard to describe it, but it felt good.<br/><br/>Hillary walked into the living room, letting her purse slide from her shoulder and hit the floor with a soft thud. She looked at the living room couch — it was a normal couch, to be honest, but at least she could call it comfortable — and sighed. Her legs seemed to give way beneath her. She sank onto the cushions, curled into a ball, pulled a pillow into her chest and held it like a toy.<br/><br/>Bill was there in an instant. He sat on the edge of the couch, and let his hand rest on her back, rubbing slow, gentle circles between her shoulder blades. He didn’t speak. There were no words for this, no good words for it, at least. There was no talk of tomorrow; tomorrow was a foreign country. Trump threatened to lock her up. His supporters wanted her dead. Hillary didn’t know what else awaited her.<br/><br/>She didn’t cry. Her grief was probably too deep for tears. It was just a cold, heavy stone in her stomach. She lay there, thinking about all the work, all the hope, the hands she’d shaken, the babies she’d held, and all the the stories she’d listened to. All of it had, somehow, led to this. To her being in a dark room, with a silent phone, and a few questions that would haunt her for the rest of her life.<br/><br/><i>Why? Why now? What had I done to the world to deserve this?</i><br/><br/>She didn’t know. And as her husband sat beside her, she had a terrifying feeling that perhaps, she never would.</p></div>`);
        campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/777997/pt/foto/first-lady-and-u-s-senate-candidate-hillary-rodham-clinton-appearsh-on-a-television-screen-as-she.jpg?s=612x612&w=0&k=20&c=GNPJvElysf-yudqc52g6i-KsqSZnafiXbG85aYyG0UU='; }]);
		
		const cabinetHTML = generateCabinetTimeline('loss', playerEV, campaignTrail_temp.running_mate_id, scores);
		campaignTrail_temp.pages.push(cabinetHTML);
		campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
		}]);
    }
	// Clinton loss
    else if (playerEV < 270 && opponentEVs >= 270) {
        campaignTrail_temp.pages.push(`<div style="background: rgba(0, 0, 0, 0.5); color: white; padding: 1.2em; display: inline-block; border-radius: .5em 0 0 .5em;"><h3><span style="color:#eee;">dead on arrival</span></h3><p><span style="color:#eee;">The television screen went black with a soft sigh, leaving only the reflection of Hillary’s face staring back from the dark glass. She’d turned it off somewhere between Florida falling and the inevitable mathematics of defeat becoming undeniable. Outside, November rain tapped against the hotel window.<br/><br/>It wasn’t supposed to happen this way. No, no, not after everything. Not after building her ground game, gaining endorsements, and the coalition-building that she had taken years to construct. Not after being told she was the most qualified candidate in history, for God’s sake. Not like <i>this</i>. But here she was, watching her future dissolve in real time, state by state, vote by vote.<br/><br/>The phone buzzed on the nightstand. It was Huma’s phone, apparently forgotten in the rush of the night’s unraveling. The caller ID read “Conway, K.” Hillary sighed. She picked it up anyway. What else was there to do?<br/><br/>“Huma? Oh-oh, Mrs. Clinton? This is Kellyanne Conway. I—well, I wanted to—” There was a pause. “Uh, here, let me put him on.”<br/><br/>Trump’s voice came through surprisingly tinny. “Hillary? Wow. I mean, wow. That happened, huh? I don’t—I don’t even know what to say. You ran a great campaign, really, I mean it. Great campaign. The best. Really tremendous. Better than anyone expected, to be honest. I don’t know what happened, you probably don’t either, right? These things, they just—they happen, you know? The American people, they spoke, and I respect that. I really do. We both do, right?”<br/><br/>“Yeah,” she said, although she was not sure if she was being fully honest or not. “Yeah, we do.”<br/><br/>“You know, Hillary, you’re very talented. Very smart. Always said that. I told you this at my wedding, right? It was a great wedding, too. Even when we disagreed—and we disagreed a lot, didn’t we?—I always said Hillary’s smart. Really smart. Scary smart, actually. Maybe we should work together, you know? I’m gonna need good people. The best people. And you’re good people, Hillary. Really good. Maybe Secretary of State again? You were good at that. I don’t know, UN Ambassador? We’ll figure it out. We’ll make it work.”<br/><br/>“Sure,” she heard herself say. “Sure, Donald.”<br/><br/>“See? That’s what I’m talking about. Unity. That’s what this country needs. Unity, healing. And you and me, we can do that. We’re both New Yorkers, right? Well, sorta. But we understand each other. We get it. The media, they don’t get it, but we do. We’re dealmakers, we make things happen. That’s why—I mean, tonight was crazy, wasn’t it? Just crazy. Nobody saw this coming. Nobody. Well, maybe some people did, but I definitely didn’t. It was insane. Have you seen those numbers in Indiana? E-Evan Bayh, that little guy, he tried so hard. And yet he died like a dog. Crazy stuff.”<br/><br/>“Mm-hmm.” She nodded at her reflection in the dark window. At that point, some numbness had settled in almost completely. Although strange, it felt quite familiar.<br/><br/>“And the rallies, Hillary—did you see the rallies? The crowds were incredible. Really incredible. Thousands and thousands of people. Beautiful MAGA people. Great Americans. They really wanted change, you know? Real change. Not that I’m saying you weren’t change—you would have been change too, in your own way. A different kind of change. Historic change, actually. First woman president, that would have been something. But they wanted my kind of change, I guess. Who knows? Politics, right? It’s crazy. Really crazy business. Always has been.”<br/><br/>“Yeah, you too, Donald.” The words came out automatically.<br/><br/>“You too what? Oh, right, yeah. Thanks. You’re very gracious, Hillary. Very classy. Always said that about you. Classy lady, presidential, really. That’s why I think we could really work together. Make America Great Again, but together, you know? That would be funny. Can you believe it? The media would love that, they’d eat it up. It’s like having your cake and eating it too. Think about it. ’Hillary Clinton joins the Trump administration.’ CNN would double their ratings. Think about the fake news media, how would they react. Can you imagine? Better than The Apprentice, probably.”<br/><br/>“Sounds good,” she whispered, her breath fogging the window for a moment before disappearing. Like, well, everything else tonight.<br/><br/>“I mean, we could do infrastructure. You always talked about infrastructure. Roads, bridges, airports. I love building things. We could build together. Make deals. Great deals, beautiful deals. The greatest deals anyone’s ever seen. We’re gonna redefine the definition of a deal. China wouldn’t know what hit them. Russia either. We’d show these losers what we can do.”<br/><br/>“Mm-hmm.” The rain kept falling, each drop sliding down the glass, as was expected.<br/><br/>She thought about her mother suddenly. Oh, Dorothy, who had traveled across the country on a train as a child, abandoned and alone. She’d told that story so many times during the campaign, about wanting to go back and tell that little girl that her daughter would grow up to be president. But now that train was disappearing into the distance, and the little girl would never know. The future Hillary had promised her was gone.<br/><br/>“You know what, Hillary? I’m really glad we’re talking like this. Really glad. Shows we’re both bigger than the campaign, you know? Bigger than the attacks and the ads and all that stuff. That’s politics. Business is business, but this is different. This is about America. About making things better. And we can do that. Together. I really believe that.”<br/><br/>“Yeah,” she said again, though the word was barely audible. “Yeah, Donald.”<br/><br/>For all that mattered, she was already gone. The person who had walked into this room hours ago, the one who had believed, who had planned, and had seen tomorrow stretching out in front of her like a golden highway — well, that person had died somewhere between the first swing state falling and the moment she reached for the remote. What remained was just a mere echo, nodding at random promises that would never be fulfilled, while the rain washed away the last traces of things that might have been.<br/><br/>And the phone kept buzzing with Trump’s voice, enthusiastic and uncertain all at once. But Hillary Clinton had already left the building. She was somewhere else now, in a place where eighteen months of fighting and hoping and dreaming couldn’t reach her. It was somewhere where the weight of history and the expectations of millions couldn’t follow her.<br/><br/>Perhaps it was true that the past is a gaping hole. She ran from it, so far away, and after it grew to an unbelievable size — think of, say, a snowball —, she decided to fight back. She lost.<br/><br/>She was dead on arrival, and she knew it. The rest was just paperwork.</span></p></div>`);
        campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/1450259207/pt/foto/american-first-lady-of-the-united-states-hillary-clinton-at-the-white-house-in-washington-dc.jpg?s=612x612&w=0&k=20&c=geQrzWOiztdD73tNJ_TTC5x4yaY4KT6UclrHzCn7GAs='; }]);
		
		const cabinetHTML = generateCabinetTimeline('loss', playerEV, campaignTrail_temp.running_mate_id, scores);
		campaignTrail_temp.pages.push(cabinetHTML);
		campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
		}]);
    }
	// Clinton win - mega landslide
	else if (playerEV >= 535){
        campaignTrail_temp.pages.push(`<div style="background: rgba(0, 0, 0, 0.5); color: white; padding: 1.2em; display: inline-block; border-radius: .5em 0 0 .5em;"><h3><span style="color:#eee;">young presidents</span></h3><p>The music was perfect. It was something with just enough beat to move to, and just enough joy to lift her spirits. Hillary found herself in the center of it all. It was funny, too — she was spinning with her arms outstretched, laughing in a way that felt both foreign and familiar. The room was pulsing with energy. There were faces beaming at her from every direction, and it was not hard to guess why.</p><p>She was grinning! Actually grinning, and it felt wonderful. When was the last time she’d smiled like this? It was not her usual campaign smile, but it was this pure, unguarded joy that seemed to bubble up from somewhere deep inside her chest.</p><p>There was a kaleidoscope of supporters and staffers and friends, all moving to the same rhythm, swirling around her. It was amazing. She caught glimpses of familiar faces within the blur; she was pretty sure she saw Huma there. There was a laugh that was almost certainly Podesta’s, but the rest was all very blurry.</p><p>She spun faster and faster, and the room was becoming a whirl of golden light. Her feet felt light, almost like she was floating. This was what victory felt like, she thought. What vindication tasted like, too. Every doubt, every sleepless night, every moment of wondering if she was asking too much of the universe… well, all of it was worth this feeling.</p><p>The music seemed to swell, to lift her higher. Hillary closed her eyes and let herself be carried by it. It was… stunning. Someone was calling her name, but it sounded distant. She was too busy, too. No, she was flying now, spinning in space, untethered from gravity and worry and a lot of other things.</p><p>“Hillary!”</p><p>The voice was sharper now. She kept spinning, kept smiling, but something was tugging at the edges of whatever was going on with her. That golden light was flickering.</p><p>“Hillary, wake up!”</p><p>Her eyes snapped open. The music cut off abruptly, and was replaced by a ringing silence that felt much more empty. She was staring at a ceiling; not the ornate ceiling of a hotel ballroom, no, but the familiar expanse of their living room in Chappaqua. She was at home. The spinning sensation continued for a moment before gradually settling into stillness.</p><p>Hillary was lying on the couch with her head against the armrest. Bill’s worried face was just hovering above her. His hand was on her shoulder.</p><p>“Hey,” he said softly. “Um… you’re okay. You’re home.”</p><p>She blinked, trying to orient herself. What?</p><p>“I was…” she started, then stopped. Had she been dancing? There had been music, she was sure of that. And lights. And a lot of faces, too. She just couldn’t remember all of them.</p><p>“What happened?” she asked, her voice sounding strange to her own ears.</p><p>Bill sat down on the edge of the coffee table, close enough to touch but giving her space to breathe. “I-I found you here about ten minutes ago. You were… I don’t know, it looked like you were dreaming, but your eyes were open. You were smiling and moving like you were dancing, but you wouldn’t respond when I called your name.”</p><p>She sat up slowly, the room tilting slightly before settling. “I… I don’t remember coming in here.”</p><p>“You were in the kitchen making tea,” Bill said carefully. “I heard the kettle whistling from upstairs, but when I came down, the stove was still on and you were here on the couch. Hillary, you were gone for almost twenty minutes.”</p><p><i>What!?</i> Twenty minutes? It had felt like hours in that other place, that… beautiful, shiny space full of music and light and the kind of happiness she’d almost forgotten was possible. But twenty minutes was, honestly, a lot.</p><p>She pressed her palms against her temples, trying to piece together the sequence of events. Tea. Hmm. She remembered wanting tea. Then the kettle, yeah. And then… nothing until the party, the dancing, and the good feeling of being exactly where she was supposed to be.</p><p>“I’m scared,” she whispered, her admission coming out before she could stop it.</p><p>Bill moved closer, taking her hands in his. “Look, we’re going to figure this out. Maybe it’s stress, maybe you’re just exhausted. When’s the last time you really slept?”</p><p>She couldn’t remember that either. The days had been blending together lately, each one carrying the weight of whatever came next, and it seemed she was always busy doing something — especially at this time of year. If anything, it felt like sleep to her had been replaced by some sort of half-conscious state that never felt like true rest.</p><p>“The party felt so real,” she said quietly. “I was so happy there.”</p><p>Bill’s expression softened. He’d watched her carry so much for so long, and had seen the way she held herself together even when the seams were showing. “Tell me about it.”</p><p>But as she tried to describe it, the details slipped away through her fingers. (Figuratively, that is.) There had been music, celebration, sure, and at least a general feeling of everything falling into place. But the specifics were gone.</p><p>Outside, evening was settling over their quiet street. She’d almost forgotten that it was Christmas season. Not that it changed much, of course, but still. She was supposed to be <i>happy</i> and not doing… whatever this was.</p><p>Hillary leaned against Bill’s shoulder, grateful for his solid presence, even as part of her longed to slip back into that other place where everything made sense and happiness wasn’t such a rare and precious thing.</p></div>`);
        campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/51761681/pt/foto/little-rock-ar-former-u-s-president-william-j-clinton-his-wife-u-s-senator-hillary-rodham.jpg?s=612x612&w=0&k=20&c=BHLBdfEp3Q3L45QDPwBfuLO0nbs-YwEcA2jq0XzPAfk='; }]);
		
		const cabinetHTML = generateCabinetTimeline('win', playerEV, campaignTrail_temp.running_mate_id, scores);
		campaignTrail_temp.pages.push(cabinetHTML);
		campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
		}]);
    }
    // Clinton win - Obama-esque
    else if(playerEV >= 333){
        campaignTrail_temp.pages.push(`<div style="background: rgba(0, 0, 0, 0.5); color: white; padding: 1.2em; display: inline-block; border-radius: .5em 0 0 .5em;"><h3><span style="color:#eee;">all that glitters is gold</span></h3><p>It wasn’t even 11:00 PM when Pennsylvania fell. Then Wisconsin. Then Michigan. The states that were supposed to be hers all along, the ones that had slipped through her fingers like water in every poll, every projection, in every nightmare of her sleepless nights for the past eighteen months… they came home. <br/><br/>Hillary stood backstage at the Javits Center, watching the numbers crawl across the monitors. She couldn’t believe it. She was President-elect. For real real, not for play play. Everything felt strange.<br/><br/>The crowd beyond the curtain was already roaring. They knew before she did, somehow. Maybe that’s what the internet was for. Or maybe they’d always known. Perhaps they always believed in something she’d been too battered to trust.<br/><br/>She walked to the podium on rather unsteady legs. The lights were blinding and the noise was incredibly overwhelming. Thousands of faces looked up at her — men and women, young and old, black and white, and many more.<br/><br/>“My fellow Americans,” she began, and her voice caught. <em>Ouch.</em> She cleared her throat and tried again. “My fellow Americans, we have made history tonight.”<br/><br/>The roar was almost deafening. She stood there, letting it wash over her, and letting it fill the hollow spaces that over sixteen years of public service had carved out. All the times she’d been told to step aside, to wait her turn, to smile more, to be less — hell, all the ways she’d been diminished, dissected, dismissed —, it all led to this. What a ride.<br/><br/>She thought of Arkansas, of being the governor’s wife who wouldn’t take his name at first. She thought of the White House, of being the First Lady who dared to have opinions; a lot of them, too. She thought of the Senate, of having to prove herself over and over again. She thought of 2008, of coming so close the first time only to watch it slip away.<br/><br/>But tonight, ha. Tonight was different.<br/><br/>“This summer,” she continued, finding her rhythm now, “a writer asked me: If I could go back in time and tell anyone in history about this milestone, who would it be? And the answer was easy: my mother, Dorothy.”<br/><br/><i>Oh, mother.</i><br/><br/>“You may have heard me talk about her difficult childhood. She was abandoned by her parents when she was just 8 years old. They put her on a train to California, where she was mistreated by her grandparents and ended up out on her own, working as a housemaid. Yet she still found a way to offer me the boundless love and support she never received herself.”<br/><br/>Hillary’s voice was more steady now, but her heart was racing. The more she thought about it, the more it started pumping. It was as if she could feel the weight of every woman who had been told no, every girl who had been told to lower her voice, and every person who had been made to feel small. It was revealing.<br/><br/>“She taught me the words of our Methodist faith: ’Do all the good you can, for all the people you can, in all the ways you can, as long as ever you can.’”<br/><br/>The crowd was quieter now, listening. She could feel them leaning in. The moment was pretty much crystallizing around them all.<br/><br/>“I think about my mother every day. Sometimes, I think about her on that train. I wish I could walk down the aisle and find the little wooden seats where she sat, holding tight to her even-younger sister, alone, terrified. She doesn’t yet know how much she will suffer. She doesn’t yet know she will find the strength to escape that suffering — that is still a long way off. The whole future is still unknown as she stares out at the vast country moving past her.”<br/><br/>She paused. Her eyes were bright with unshed tears and, for a moment, she thought she would break down there. <i>N-no</i>. “I dream of going up to her, and sitting down next to her, taking her in my arms and saying: look at me, listen to me. You will survive. You will have a good family of your own, and three children. And as hard as it might be to imagine, your daughter will grow up and become the president of the United States.”<br/><br/>And then it all erupted. God, it felt like thunder. It may’ve very well been actual thunder. Well, kind of like breaking glass. Shattering it — haha, get it? — and every barrier that had ever existed at once.<br/><br/>“I am as sure of this as anything I have ever known,” Hillary shouted over the noise, trying her best to keep her voice strong and clear, “America is the greatest country in the world. And from tonight, going forward, together we will make America even greater than it has ever been — for <i>each and every one of us</i>.”<br/><br/>It was over. Confetti began to fall, thousands and thousands of pieces of carefully-crafted glass-like material floating down from the ceiling above, each one catching the light from the stage. The applause she was receiving now was so loud that she almost wanted to ask them to stop. It was really over.<br/><br/>Hillary stood there in the center of it all, watching it cascade around her, and for a moment she couldn’t see anything. Not the crowd, not the cameras, not the many people just a few feet behind her on stage, and not even the future that stretched out before her.<br/><br/>She smiled. It was a real smile, too, and not the practiced one she’d worn through a thousand campaign events. She laid her head down on the podium in front of her, feeling the cool wood against her forehead, and for the first time in longer than she could remember, she cried.<br/><br/>Not from sadness or exhaustion or the weight of what was to come, no. But from something simpler, something she’d almost forgotten how to feel.<br/><br/>Relief… joy… or well, the knowledge that she was enough. That she had always been enough. Hillary just couldn’t see it then.<br/><br/>She did it. The glass ceiling above her was already broken. But the one inside her, the one built from years of doubt and criticism that always whispered in her ear that she wasn’t quite what America wanted… well, that one finally shattered too.<br/><br/>In the cascading light and noise and pure, irresistible love of the moment, Hillary Clinton became what she’d always been destined to be: not just the first woman president, but exactly the president America needed.<br/><br/>She had enough. Finally, beautifully, completely, she had enough.</p></div>`);
        campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/584451190/pt/foto/democratic-presidential-nominee-hillary-clinton-after-her-speech-to-the-democratic-national.jpg?s=612x612&w=0&k=20&c=jDrKfbdnLjsITQYNU2boMylnFF2jTAESdKwAbABqh6s='; }]);
		
		const cabinetHTML = generateCabinetTimeline('win', playerEV, campaignTrail_temp.running_mate_id, scores);
		campaignTrail_temp.pages.push(cabinetHTML);
		campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
		}]);
    }
    // Clinton win - normal
    else if(playerEV >= 270){
        campaignTrail_temp.pages.push(`<div style="background: #fdfaf2 url('https://www.transparenttextures.com/patterns/paper-fibers.png'); color: #212121; border: 2px solid #ddd; padding: .5em 3.5em; font-family: 'Georgia', serif; line-height: 1.7; box-shadow: 0 3px 6px rgba(0,0,0,0.08), 0 10px 20px rgba(0,0,0,0.12); max-width: 800px; margin: 2em auto;"><div style="text-align: center; margin-bottom: 3.5em; border-bottom: 2px solid #b38600; padding-bottom: 2em;"> <h1 style="font-family: 'Times New Roman', Times, serif; font-size: 2.5em; font-weight: bold; color: #002D62; margin-bottom: 0.4em; letter-spacing: 0.05em;">WHAT HAPPENED NEXT</h1> <h2 style="font-family: 'Georgia', serif; font-size: 1.1em; font-weight: normal; color: #5A768A; font-style: italic; margin-bottom: 0.5em;">A Memoir of Breaking Through</h2> <p style="font-size: 0.9em; color: #5A768A; margin: 0; font-variant: small-caps; letter-spacing: 0.1em; text-align: center">Hillary Rodham Clinton</p></div><h3 style="text-align: center; font-family: 'Georgia', serif; font-weight: normal; font-style: italic; letter-spacing: .1em; border-bottom: 1px solid #e0e0e0; padding-bottom: 1em; margin-bottom: 1.5em; color: #b38600;">Chapter 18: Miss Americana</h3><blockquote style="text-align: center; font-style: italic; margin-bottom: 3em; color: #4a4a4a;"> “You have to make the good out of the bad because that’s all you have got to make it out of.” <br><cite>— Robert Penn Warren, <em>All the King’s Men</em></cite></blockquote><p style="text-indent: 0;"><span style="font-size: 4.5em; float: left; line-height: .7em; margin-right: 0.05em; margin-top: 0.1em; color: #b38600; font-family: 'Georgia', serif;">T</span>he Javits Center was all glass and steel. It was like a cathedral built to house a coronation, Bill once told me. But ambition, I learned that night, has a curfew. Ours was 2 a.m. The networks were still calling it a razor’s edge, and the union guys, who were far less patient than the rest of us, started rolling up the carpets. You can definitely rent the future, but only by the hour. That’s a detail they don’t teach you in civics class and that I should’ve recalled that night.</p><p style="text-indent: 2em;">The numbers coming in were a slow-motion car wreck. It was a cascade of bad news from places I really, really, <i>really</i> couldn’t afford to lose. Florida went south, in every sense of the word, Ohio followed it down the drain, and I watched as easily winnable Senate seats for our party swept away. The electoral map on the giant screens wasn’t just turning red; it was hemorrhaging. It felt as if I was staring at a crime scene photo where I was the primary suspect. It hurt.</p><p style="text-indent: 2em;">It’s a funny thing, politics. You spend a billion dollars to conquer the free world and you end up in a room with a minibar and a television bolted to the wall to keep honest people from stealing it. It reminds me of a quote from Vladimir Lenin, the former head of the Soviet Union. He once said “there are decades where nothing happens, and there are weeks where decades happen.” Of course, what he didn’t know is that there were also hours where millennia happen. I saw it all that night. And so there we were, like a government-in-exile before we had even formed a government, decamping to a Midtown Hilton with none of the glamour we had seen earlier that day. Our victory party had become a wake, we’d kicked ourselves out of the funeral home, and the election wasn’t even over yet.</p><p style="text-indent: 2em;">The electoral map was a splash of red with islands of blue bleeding at the edges. That had been the case for a couple of elections now, although seeing the Obama coalition made me realize that, perhaps, this could stop being the case. And then people kept going to the Blue Wall. It wasn’t a wall. Maybe once it was, but not anymore. It was just a fence at this point, and there was a big, orange-haired wolf huffing and puffing at it and making surprising headway. I’d been in a lot of fights, but this one was different. This one I was supposed to win on points, and here I was, on the ropes, praying to hear a bell that could never ring.</p><p style="text-indent: 2em;">“We’re still breathing in Michigan,” Podesta kept telling me. “If we hold Pennsylvania…” He trailed off. I didn’t even bother listening to the rest. I was tired. Ultimately, these “ifs” were cheap chips in a game where the house was raking them all in.</p><p style="text-indent: 2em;">I’d had enough. To me, hope had become that last shot of whiskey in a glass; I knew it wouldn’t be enough, and I took it anyway out of habit, but I still wanted more. More and more and more and more. But it never came. I walked into the adjoining bedroom. The bed was a rather generic slab of foam that wasn’t very comfortable. I didn’t even bother with the covers, all I wanted for a moment was to pull the plug on the world and relax in the quiet darkness behind my own eyes. For a few hours, at least, I could be a civilian again. A former First Lady. A former Secretary of State. A Presidential candidate… a loser. It’s like there was a blind spot in my head, a bullet-shaped hole where the answers should be. One could call it denial. I’ve never been a detective, and I hardly had the answers to anything, but just like one, I wanted to dig inside my skull and scrape out the pain.</p><hr style="border: 1px solid #e0e0e0"/><p style="text-indent: 2em;">I barely slept. The knock came in my door an hour or two later. Grey light was seeping through the curtains like smoke; my watch said it was a little after five. My aide, Huma stood in the doorway, silhouetted against the hallway light, looking like she’d just witnessed the end of the world. I prepared myself for it.</p><p style="text-indent: 2em;">“T-they called it,” she said. “It’s yours. It’s over.”</p><p style="text-indent: 2em;">I sat up, and it felt like the room was spinning for a second from the sudden return to consciousness. “Over how?”</p><p style="text-indent: 2em;">Something flickered across her face. It looked like a smile; I never wondered if it was meant to be one. “It’s over. You won.”</p><p style="text-indent: 2em;">Her words didn’t land. They just hung there. <em>Madam President-elect.</em> Pfft. It didn’t click. I walked back into the other room, where the other talking heads in my campaign were screaming now. The map was finally filled in. I was over 270; I won. A lot closer than I had imagined, admittedly, and this kind of felt a lot like surviving a car crash.</p><p style="text-indent: 2em;">“Give me a moment,” I said to the room. Luckily, nobody argued. Power, even the kind that comes with a few bruises, commands a certain respect.</p><p style="text-indent: 2em;">The hotel bathroom had this harsh, fluorescent light that made me shiver. I stared at the mirror and realized I looked like hell warmed over. There was mascara smudged into dark crescents under my eyes, my lipstick had all but worn off, and my hair was out of place. Still, the makeup was good stuff — god bless waterproofing. A few splashes of cold water, a little repair work with what was left in my purse, and I started to recognize myself again.</p><p style="text-indent: 2em;">That woman. That woman in the mirror had climbed mountains before. She’d taken punches from better fighters than she had ever seen. And sure, she’d been counted out more times than a bad boxer, but here she was, still standing and still swinging. I straightened my shoulders and felt something click back into place; probably my actual shoulder.</p><p style="text-indent: 2em;">When I walked back out, the room had filled up. Staffers were appearing like crazy, and all of them were trying to look like they’d never doubted this moment would come. If I walked into a tree and shook it, at least thirty of them would fall down. Podesta was on three phones at once, and his voice was strong now that he had good news to peddle. The television was still babbling, but the sound had changed. It was the sound of victory.</p><p style="text-indent: 2em;">I looked out the window. The sun was coming up over Manhattan, painting the sky the color of a rather nice purple and gold and red. It was beautiful. Especially now that I’d won the whole damn thing. The glass ceiling was broken, all right, and now I just had to walk barefoot across the shards.</p><p style="text-indent: 2em;">This wasn’t the end of the fight. I realized it was just the start of a much harder one. But I’d been getting ready for hard fights my whole life, so I expected this. And after everything, from the emails to the investigations to the rallies to the debates… I was still here. </p><p style="text-indent: 2em;">The phone was ringing again. I assumed it was probably congratulations from people who’d written my obituary twelve hours ago — famously, the New York Times does a lot of that —, but I just let someone else answer it. I needed to, even if just for a few more minutes, stand in this cracked light and remember what winning felt like. It’s what I did. It felt… different. Especially when it comes to proving the bastards wrong.</p><p style="text-indent: 2em;">Outside, New York was waking up to a different world. But inside, I was getting ready to build it.</p><div style="margin-top: 3.5em; padding-top: 2em; border-top: 1px solid #e0e0e0; text-align: center; color: #5A768A; font-size: 0.85em; font-style: italic;"> snippet from "<em>What Happened Next: A Memoir of Breaking Through</em>"<br> Published by Simon & Schuster, 2018</div></div>`);
        campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/1430734089/pt/foto/american-politician-diplomat-and-former-lawyer-first-lady-hillary-clinton-talks-to-media-after.jpg?s=612x612&w=0&k=20&c=6H4sHrlutyJm-y74Zi1b2R4TbL29h5wH6y29ZXjFU-Q='; }]);
		
		const cabinetHTML = generateCabinetTimeline('win', playerEV, campaignTrail_temp.running_mate_id, scores);
		campaignTrail_temp.pages.push(cabinetHTML);
		campaignTrail_temp.executable.push([1, () => { 
			campaignTrail_temp.image = 'https://www.trolleytours.com/wp-content/uploads/2016/06/white-house-480x270.jpg';
			setImage(campaignTrail_temp.image); 
		}]);
    }
    // Tie/no one above 270
    else if (playerEV < 270 && opponentEVs < 270) {
        campaignTrail_temp.pages.push(`
          <div style="background: rgba(0, 0, 0, 0.5); color: white; padding: 1.2em; display: inline-block; border-radius: .5em 0 0 .5em;">
            <h3><span style="color:#eee;">awkward…!</span></h3>
            <p style="text-align:center; margin-bottom:1.5em;">
              <strong>Final Results:</strong><br>
              Clinton: ${playerEV} • Trump: ${opponentEVs || 0}
            </p>
            <p>The unthinkable has happened. For the first time since 1824, no presidential candidate has secured the 270 electoral votes needed to win. Under the 12th Amendment, the election now moves to the House of Representatives, where each state delegation gets one vote.</p>
            <p>Pundits and constitutional scholars will debate procedures not used in nearly two centuries, but you’re not thinking of that. With Republicans controlling more state delegations, the outcome seems uncertain. You think you’re screwed. You may be, indeed, screwed. But perhaps not entirely. You must now navigate the waters of Congressional politics to secure the presidency.</p>
            <p style="text-align:center; margin-top:2em; font-weight:bold;">
              Choose which House delegation to approach for negotiations:
            </p>
            <div id="coalitionList" style="margin-top:1em;"></div>
          </div>
        `);
		campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/504723292/pt/foto/washington-dc-u-s-president-barack-obama-delivers-the-state-of-the-union-speech-before-members.jpg?s=612x612&w=0&k=20&c=2QxqRxKwm0XDen8DDZAm4oi3aqb_vNI0CfEirHi_Yrs='; }]);

        // set up the contingent election interface
        campaignTrail_temp.executable.push([0, () => {
          // calculate likelihood scores based on performance
          const likA = Math.min(4, Math.max(0, Math.round(playerEV / 270 * 4))); // Democratic Leadership
          const likB = Math.min(4, Math.max(0, Math.round((playerEV - 200) / 70 * 2))); // Blue Dogs
          const likC = Math.min(4, Math.max(0, Math.round((300 - opponentEVs) / 100 * 2))); // Republican Moderates

          addContingent(likA, likB, likC);
        }]);
    }
    
    if (endingObserver) {
        endingObserver.disconnect();
        endingObserver = null;
        //console.log("Previous ending observer disconnected.");
    }

    if (attemptRenderEnding()) {
        return "";
    }

    console.log("Setting up observer for ending elements.");
    const targetNode = document.getElementById('game_screen') || document.getElementById('main_content') || document.body;
    const config = { childList: true, subtree: true };

    endingObserver = new MutationObserver((mutationsList, observer) => {
        for(const mutation of mutationsList) {
            if (mutation.type === 'childList') {
                if (attemptRenderEnding()) {
                    break;
                }
            }
        }
    });

    endingObserver.observe(targetNode, config);
    
    return "";
};

// Everyone's favorite tooltips. This was rewritten from a similar tooltip mechanism
// that was in W. I'm not sure who were the original authors. For the styling, apparently
// it was taken from the 2021DE scenario, albeit I'm not sure. I should elaborate more in
// the further reading section instead of rambling here.

function createTooltipProcessor(tooltipList) {
    function escapeRegex(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    function memoize(fn) {
        const cache = new Map();
        return function(arg) { // simplified
            if (cache.has(arg)) {
                return cache.get(arg);
            }
            const result = fn.call(this, arg);
            cache.set(arg, result);
            return result;
        };
    }

    // process & deduplicate tooltips
    const uniqueTooltipsMap = new Map();
    for (const tooltip of tooltipList) {
        if (tooltip && tooltip.searchString) {
            uniqueTooltipsMap.set(tooltip.searchString, tooltip);
        }
    }

    // sort for longest strings first
    const processedTooltips = Array.from(uniqueTooltipsMap.values())
        .sort((a, b) => b.searchString.length - a.searchString.length);

    // build.
    const groupIndexToTooltipData = new Map();
    const searchPatterns = processedTooltips.map((tooltip, index) => {
        const groupNum = index + 1;
        groupIndexToTooltipData.set(groupNum, tooltip);
        return `(${escapeRegex(tooltip.searchString)})`;
    });
    
    // only create a regex if there are patterns to search for
    const TOOLTIP_REGEX = searchPatterns.length > 0 ?
        new RegExp(
            `(?<=\\b|\\s|^|“)(?:${searchPatterns.join('|')})(?=[.,;!?]?\\b|\\s|”|$)`,
            'gi'
        ) :
        null;

    function _applyTooltipsToString(str) {
        if (!TOOLTIP_REGEX || !str) {
            return str;
        }

        let matches = [];
        let match;
        TOOLTIP_REGEX.lastIndex = 0;

        while ((match = TOOLTIP_REGEX.exec(str)) !== null) {
            // find which capturing group matched
            const matchedGroupNum = match.slice(1).findIndex(group => group != null) + 1;

            if (matchedGroupNum > 0) {
                matches.push({
                    start: match.index,
                    end: match.index + match[0].length,
                    matchedString: match[0],
                    tooltipData: groupIndexToTooltipData.get(matchedGroupNum)
                });
            }
        }
        
        if (matches.length === 0) {
            return str;
        }

        // sort by start position, then by length (longest first) to prepare for overlap removal
        matches.sort((a, b) => a.start - b.start || b.end - a.end);

        // filter out overlapping matches, keeping the first (and longest) one
        const filteredMatches = [];
        let lastMatchEnd = -1;
        for (const currentMatch of matches) {
            if (currentMatch.start >= lastMatchEnd) {
                filteredMatches.push(currentMatch);
                lastMatchEnd = currentMatch.end;
            }
        }

        // build the final string with injected HTML
        let result = [];
        let lastIndex = 0;
        filteredMatches.forEach(m => {
            result.push(str.slice(lastIndex, m.start));
            result.push(
                `<span class='mytooltip'>${m.matchedString}<span class='mytooltiptext'>${m.tooltipData.explanationText}</span></span>`
            );
            lastIndex = m.end;
        });

        // ad any remaining text after the last match
        if (lastIndex < str.length) {
            result.push(str.slice(lastIndex));
        }

        return result.join('');
    }

    return {
        applyToObject(obj) {
            // create a memoized version of our core function for this run
            const memoizedApply = memoize(_applyTooltipsToString);

            function recurse(currentObj) {
                for (let key in currentObj) {
                    if (!Object.prototype.hasOwnProperty.call(currentObj, key)) continue;

                    const value = currentObj[key];
                    if (typeof value === 'string') {
                        currentObj[key] = memoizedApply(value);
                    } else if (value !== null && typeof value === 'object') {
                        recurse(value);
                    }
                }
            }
            
            recurse(obj);
        }
    };
}
const tooltipProcessor = createTooltipProcessor(tooltipList);

tooltipProcessor.applyToObject(campaignTrail_temp.questions_json);
tooltipProcessor.applyToObject(campaignTrail_temp.answers_json);
tooltipProcessor.applyToObject(campaignTrail_temp.answer_feedback_json);

// The music player!
// This was initially developed using the one from W. as a basis, which is also why the
// album covers are not particularly huge. This might change. Still, it's a *lot* different
// than the one there, but I must give out some attribution here.

(function () {
    'use strict';

    // The songs.
    const SONGS_DATA = [
        { title: "Soldier of Love", artist: "Sade", coverLink: "https://lh3.googleusercontent.com/1Zb3jhBGUQHrDU6mZHOk-FGPC1mVg-AMls-bJOQBf9Wx3lG31KTbmbdUtlnkAYbsdao-b1cmXvs1tJET=w544-h544-l90-rj", videoId: "zI8YIzWltHM", youtubeLink: "https://www.youtube.com/watch?v=zI8YIzWltHM" },
        { title: "Nothing Compares 2 U", artist: "Prince", coverLink: "https://i.discogs.com/DQEHxJMMCoAozW-09RSF-12sMKCgHB5aGco8kax0sBg/rs:fit/g:sm/q:90/h:595/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI1MDQz/Nzk3LTE2Njc2OTc0/OTktMTY2NC5qcGVn.jpeg", videoId: "wyo74f6NWwY", youtubeLink: "https://www.youtube.com/watch?v=wyo74f6NWwY" },
        { title: "Everything Is Wrong", artist: "Interpol", coverLink: "https://i.discogs.com/fajuUIPd6pzjV9sS_CLJz4f0okmvlmKvHVKGzS_--Nw/rs:fit/g:sm/q:90/h:600/w:598/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTY5MTMx/NzctMTQyOTQ1Nzcx/MS0yMTU4LmpwZWc.jpeg", videoId: "4llZXppdjCU", youtubeLink: "https://www.youtube.com/watch?v=4llZXppdjCU" }, // https://lh3.googleusercontent.com/qMHwI69wqwOoHiQdb5nGRaQh32J0DM-WoifH9KZePM-ygPIMDF_litnGhpIeYIygoc7b3nIhaFlYgLfQ=w544-h544-l90-rj"
        { title: "Blank Generation", artist: "Richard Hell", coverLink: "https://lh3.googleusercontent.com/hDrqJI4nOVwtWGnqd2OEPmUivA50Gp19YuJPly6DUau8VTExM5MtiFezXmTiKkcGJMEQxDMrBzkz6W4=w544-h544-l90-rj", videoId: "v9FkQLjOSZ8", youtubeLink: "https://www.youtube.com/watch?v=v9FkQLjOSZ8" },
        { title: "Girl Gone Wild", artist: "Madonna", coverLink: "https://lh3.googleusercontent.com/aCpQ5ecu6iU88aQrTkg_gk9vhhGO4sgr79Rwg55s2NQNnhuiR1X1FcBp8PZnQoe2kxtayZghDuZgFPrO=w544-h544-l90-rj", videoId: "9Hyzn5XQ-ro", youtubeLink: "https://www.youtube.com/watch?v=9Hyzn5XQ-ro" },
        { title: "Feels Just Like it Should", artist: "Jamiroquai", coverLink: "https://lh3.googleusercontent.com/Syc0T0hpUCioc8Ky5irJxhnSLOavM4gnWjVkVCeW8IUlB2v8i-xJEkyUcmumDoojHjIV_e0vtjmdnQY=w544-h544-l90-rj", videoId: "tBZqSRqFQz0", youtubeLink: "https://www.youtube.com/watch?v=tBZqSRqFQz0" },
		{ title: "You Bring On The Sun", artist: "Londonbeat", coverLink: "https://i.discogs.com/Do-mEAKVHtQa8RsjOI1sX2cMf4Kadbmbjj9TG9GlT94/rs:fit/g:sm/q:90/h:595/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI2Njgy/NjktMTM4NjA4NDIx/OS00NzEyLmpwZWc.jpeg", videoId: "WEBS80vNEWY", youtubeLink: "https://www.youtube.com/watch?v=WEBS80vNEWY" },
        { title: "I Wanna Be Adored", artist: "The Stone Roses", coverLink: "https://lh3.googleusercontent.com/gsnCII7GsI0y6dG9-dvrtIgwFVqP1UTKgE4aX0cHaQ4JKyO83D8d8xGr15fWn3WtiC4e5xQdGe6vnkdxww=w544-h544-l90-rj", videoId: "aa10yl8mirk", youtubeLink: "https://www.youtube.com/watch?v=aa10yl8mirk" },
        { title: "John the Revelator", artist: "Depeche Mode", coverLink: "https://lh3.googleusercontent.com/xf-alOlvnf8xpIHXwd7HiYCbMeSKiqOVbNqN__o7gAtZ7RtyoHO67G-0tKozXtLZMtGc-GctM2PF24Tv=w544-h544-l90-rj", videoId: "ZHI2tInxT0A", youtubeLink: "https://www.youtube.com/watch?v=ZHI2tInxT0A" },
		{ title: "Cult of Personality", artist: "Living Color", coverLink: "https://lh3.googleusercontent.com/1xH4wgpS-Xp2-KM6fqu3R1qE6yd0Sl83SOT5VqdMrOf0RiLk2HDFJaGBgCNKcEPZ9fb6JOBsYlmI0Wp7=w544-h544-l90-rj", videoId: "8mssfWohiig", youtubeLink: "https://www.youtube.com/watch?v=8mssfWohiig" },
        { title: "Too Much Love", artist: "LCD Soundsystem", coverLink: "https://lh3.googleusercontent.com/OT3SutN5ptlnj-fQGc2LSuikM1tbKv2RsRf6jRLh9xqYLn62DiSSZyjQ4SdQVgrCmE2JCX4Si5f4XyIr=w544-h544-l90-rj", videoId: "CcEC5r0xzt8", youtubeLink: "https://www.youtube.com/watch?v=CcEC5r0xzt8" },
        { title: "Natural One", artist: "The Folk Implosion", coverLink: "https://i.discogs.com/TZXSFqXeiXbmoeH31CKTeIB5C-Eo2UeCBTQ86bC_cvI/rs:fit/g:sm/q:90/h:527/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQ5ODk5/LTEzMzUzMDExMDku/anBlZw.jpeg", videoId: "V4w6GcCoTPQ", youtubeLink: "https://www.youtube.com/watch?v=V4w6GcCoTPQ" },
        { title: "Haunt You Every Day (Demo)", artist: "Weezer", coverLink: "https://i.ytimg.com/vi/JMYJ-gxlKwc/maxresdefault.jpg", videoId: "JMYJ-gxlKwc", youtubeLink: "https://www.youtube.com/watch?v=JMYJ-gxlKwc" },
		{ title: "Always", artist: "Tom Verlaine", coverLink: "https://i.discogs.com/eYXKSCUz7FhVLBuyhUc_-sG8yrEVtbeBtMoA4Gv7ffw/rs:fit/g:sm/q:90/h:597/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI4NzIx/OTUtMTMwNDk4NDYw/OS5qcGVn.jpeg", videoId: "9X8SEnCGCKE", youtubeLink: "https://www.youtube.com/watch?v=9X8SEnCGCKE" },
        { title: "Well I Wonder", artist: "The Smiths", coverLink: "https://lh3.googleusercontent.com/3MqgtN5ZbbMB48TGTkHnlHTRlHNh1SVy_8MN-LByI4iAT-cza4eGiuFvPT243IyyEz0vSaItp432DgU=w544-h544-l90-rj", videoId: "zUbCkPdBNHg", youtubeLink: "https://www.youtube.com/watch?v=zUbCkPdBNHg" },
        { title: "The Killing Moon", artist: "Echo & The Bunnymen", coverLink: "https://lh3.googleusercontent.com/mbomD0JAl6L_sVTLgSesBNqD0A_roeGlh9ciz_Tq0qaL-ojnaFmx_MY5aWfVQwYx6LD01451ex6XhIE=w544-h544-l90-rj", videoId: "aVD1HRV8NqA", youtubeLink: "https://www.youtube.com/watch?v=aVD1HRV8NqA" },
        { title: "You Have Been Loved", artist: "George Michael", coverLink: "https://i.discogs.com/XDh2r_xwLYty258j7oROTAqxqCLtj65gwRLGY_v6dV8/rs:fit/g:sm/q:90/h:538/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQzMzE3/OS0xNDcxMzkwMTIw/LTU5MjAuanBlZw.jpeg", videoId: "SXRz-ZT0MIE", youtubeLink: "https://www.youtube.com/watch?v=SXRz-ZT0MIE" } // https://lh3.googleusercontent.com/FRCiQ0ZVpamP79z4l2xBWjmA6RimF_gPnOLEGp3pl2J8b4bGf4cGs3-i8WyraqFaE-krGHk-ytSLUAj4=w544-h544-l90-rj
    ];
    const PLAYLIST_TWO_DATA = [
        { title: "Stronger Than Me", artist: "Amy Winehouse", coverLink: "https://lh3.googleusercontent.com/ERQwzDcTEBrcy8aUU0s-NcYnbcgJOu_-BwBB-A4Z_nRrtbfS2BhMqTovWvLSIfjAtJD_RERUokB2ze_-=w544-h544-l90-rj", videoId: "eQpINcpE-Wo", youtubeLink: "https://www.youtube.com/watch?v=eQpINcpE-Wo" },
		{ title: "We Don't Have That Much Time Together", artist: "Sananda Maitreya", coverLink: "https://lh3.googleusercontent.com/vhd98YlgS1Sh4FCmoJ3e2zi4eyAnOtKjp-aiNpcxJ94eYA-VAzAUMPwuQ1aI_MctD18JXtdPP8Rky0tj_g=w544-h544-l90-rj", videoId: "Et6Grrm1OLk", youtubeLink: "https://www.youtube.com/watch?v=Et6Grrm1OLk" },
		{ title: "Sappy (1990 Studio Demo)", artist: "Nirvana", coverLink: "https://lh3.googleusercontent.com/aUSTL4p5gGFiKesMYQnYLqqQ8534TVY9A0A-4IbrZgGBVDKAmLbHsO2VFBYAhXDyDHa0hh2Ozs9FgyPF9A=w544-h544-s-l90-rj", videoId: "1MjAZSEprQU", youtubeLink: "https://www.youtube.com/watch?v=1MjAZSEprQU" },
		{ title: "Heaven Can Wait", artist: "Michael Jackson", coverLink: "https://i.discogs.com/2RH0GWmw-gLbNTQ-GTImSYuLLZvJOFA2AkJu8A7mylc/rs:fit/g:sm/q:90/h:592/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTM0NTM2/MTEtMTQ0MDYwODM5/My02MDA5LmpwZWc.jpeg", videoId: "8Gl9h5FZdxk", youtubeLink: "https://www.youtube.com/watch?v=8Gl9h5FZdxk" },
		{ title: "Kid Who Stays in the Picture", artist: "Hot Hot Heat", coverLink: "https://lh3.googleusercontent.com/0mSHh8MlTKSq1LfjThZa4DRqGtLXCNetxH_lFlbPPOUlcoKRysPW_kb1YicROxpes3uNTu0ZYegCMMut=w544-h544-l90-rj", videoId: "xyBCenRonTc", youtubeLink: "https://www.youtube.com/watch?v=xyBCenRonTc" },
		{ title: "Numb", artist: "Linkin Park", coverLink: "https://lh3.googleusercontent.com/Rqh2HDAD-Fj1-oHYqVklPGklMHIV3r6SMPMZmFE3FlLiWeBBnP3SCESfgeNdzQ-DmpCIvOGE4J0hzVxa=w544-h544-s-l90-rj", videoId: "dxp9w9Ggehc", youtubeLink: "https://www.youtube.com/watch?v=dxp9w9Ggehc" },
        { title: "I Might Be Wrong", artist: "Radiohead", coverLink: "https://lh3.googleusercontent.com/IztVMgq0rRLUhtQa6IxD4Vx145SQYQjnUQtuSHUl12b4B6Oyf-e-M0S1lrtIBnXCQFSeNABeanlxcdk=w544-h544-l90-rj", videoId: "_Qvlh_dvmkk", youtubeLink: "https://www.youtube.com/watch?v=_Qvlh_dvmkk" },
		{ title: "Sin", artist: "Nine Inch Nails", coverLink: "https://lh3.googleusercontent.com/lgi0zaHlbZC6stXi73LlAKkN-sdNTYSGJ0h4TNrG35TGTCOc7i47C4BDaXH7KboZWvKfGaLLPJ2tv50Y=w544-h544-l90-rj", videoId: "lIvzTlAdcUE", youtubeLink: "https://www.youtube.com/watch?v=lIvzTlAdcUE" },
        { title: "Looking For Strange", artist: "KMFDM", coverLink: "https://lh3.googleusercontent.com/JaQfxrFps-mW0HeyZRuzNE2sTJopn9jpEvrL-72swg2_n59ecYNwKH_tU-tIg3jEVYhmAFsDdHoVz57-iA=w544-h544-l90-rj", videoId: "Y1dGwI8uiwc", youtubeLink: "https://www.youtube.com/watch?v=Y1dGwI8uiwc" },
		{ title: "Red Flags And Long Nights", artist: "She Wants Revenge", coverLink: "https://lh3.googleusercontent.com/N-J6DkwVQ_5QP4f4eyeC-2RXVwB1DvO3FUkLVFGioq46LVGFRuzgQBijjp8TKtfIG-a_q-8sTftUt-s=w544-h544-s-l90-rj", videoId: "ENZy7f_v6Fs", youtubeLink: "https://www.youtube.com/watch?v=ENZy7f_v6Fs" },
        { title: "Sub-culture", artist: "New Order", coverLink: "https://lh3.googleusercontent.com/D9wKilSquMzsqc9qdyw4Gu1rtJPvZ82WqvlJHu1dkOb0R2ncLduK2SLOCuGCH4qjJohVAvogj2-G9Zw=w544-h544-l90-rj", videoId: "Exoyet7OoWA", youtubeLink: "https://www.youtube.com/watch?v=Exoyet7OoWA" },
		{ title: "Where the Streets Have No Name (I Can't Take My Eyes off You)", artist: "Pet Shop Boys", coverLink: "https://i.discogs.com/LFHv3FkAHQlhLo--6e5kUcHJMFpSAUnlYPh_6PXrxGs/rs:fit/g:sm/q:90/h:600/w:595/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIyODQ3/MTktMTM4NzU4OTY0/MS0zNDUwLmpwZWc.jpeg", videoId: "sm36_lWAviQ", youtubeLink: "https://www.youtube.com/watch?v=sm36_lWAviQ" },
		{ title: "I Ran (So Far Away)", artist: "A Flock Of Seagulls", coverLink: "https://lh3.googleusercontent.com/1T7FD-g00b1ioKn7-L12x9o8cracdGJ5s2mWhlTqbXQMwF0v-9E9BucDCY6Vnr4g0aQA2wdUOuKFsXan=w544-h544-l90-rj", videoId: "8UqlM0ki0Cc", youtubeLink: "https://www.youtube.com/watch?v=8UqlM0ki0Cc" },
		{ title: "Blessed State", artist: "The Wire", coverLink: "https://lh3.googleusercontent.com/Neurxtu-LF58Br8vc2I-VHFnPLKW8JqhZpW9Hdq11diLALnwTTMJ1-qQ03-kRcAtxa_31Ymu5JJG5ps=w544-h544-l90-rj", videoId: "LeCI9kww3Dk", youtubeLink: "https://www.youtube.com/watch?v=LeCI9kww3Dk" },
		{ title: "Sleep Apnea", artist: "Beach Fossils", coverLink: "https://a2.cdn.hhv.de/items/images/generated/475x475/01054/1054978/1-beach-fossils-clash-the-truth-demos-colored-vinyl-edition.webp", videoId: "nuvJSl24wAw", youtubeLink: "https://www.youtube.com/watch?v=nuvJSl24wAw" },
		{ title: "Dream a Little Dream of Me", artist: "Michael Bublé", coverLink: "https://lh3.googleusercontent.com/57IJIYVLm6YTr9a1Wly4WGffKj3kn3s-5JFxCJ7LkRPWT5hLVrV21LDaT0I-7l6-djgF7-71zWvQZcc=w544-h544-l90-rj", videoId: "0QgM7lNgFnA", youtubeLink: "https://www.youtube.com/watch?v=0QgM7lNgFnA" },
        { title: "Humiliation", artist: "Yoñlu", coverLink: "https://lh3.googleusercontent.com/fecmzZxLj4SvYNp-6e5TrbLoWFqkIsmnJz0Z41CmHFClnoCHCBE3Wpn4Obg0aubsCzomD01OWASsPK-inw=w544-h544-l90-rj", videoId: "uQH85xHXnYQ", youtubeLink: "https://www.youtube.com/watch?v=uQH85xHXnYQ" },
    ];
    const PLAYLIST_THREE_DATA = [
        { title: "Someday Is Tonight", artist: "Janet Jackson", coverLink: "https://lh3.googleusercontent.com/LjZePM9GvoVF88nE4UKJvpH71-yXHGKsGnmt77imOV6bth_6E3pAlnQizYYDgX1Fl9j7k6vzHw0OPTkP=w544-h544-l90-rj", videoId: "jHoP9UACqaQ", youtubeLink: "https://www.youtube.com/watch?v=jHoP9UACqaQ" },
		{ title: "Low", artist: "Lenny Kravitz", coverLink: "https://lh3.googleusercontent.com/-QE8g4sUkiTgVXV8LYJ4VqwlcDL49GUyrzOu63cf5sRmIhq0mdAweVQ7EmMCGPGmi4CszL08UvIgrzKZ=w544-h544-l90-rj", videoId: "_zghpPDQ2y8", youtubeLink: "https://www.youtube.com/watch?v=_zghpPDQ2y8" },
		{ title: "Marilyn Monroe", artist: "Pharrell Williams", coverLink: "https://lh3.googleusercontent.com/n1BU7liMVsgA5dZnk020PEoWyjjZECDqYR26DbV8osH6wJB2OPbw_8H13O-x7AwEK-4i_LJeHHQM6BFi=w544-h544-s-l90-rj", videoId: "xUPiYEhs3lw", youtubeLink: "https://www.youtube.com/watch?v=xUPiYEhs3lw" },
        { title: "Valentine's Day", artist: "David Bowie", coverLink: "https://lh3.googleusercontent.com/dpM4jPTAa84rJ0hkkp3nPdn2lNdPmWXa1isLJu2A8HQXOBfMLmb3lJXH0c0UYj_c0DPBxen6TmOpH_U=w544-h544-l90-rj", videoId: "nbSdOIZhD5Y", youtubeLink: "https://www.youtube.com/watch?v=nbSdOIZhD5Y" },
        { title: "Marquee Moon", artist: "Television", coverLink: "https://lh3.googleusercontent.com/lRzsgg9OZ8asdYhy47O0xix5umxrJJh6g3cbqGKmeWdz1jzZiUoH0fC0SDNzcBrIKNZqdr6SC3v1xz9K=w544-h544-s-l90-rj", videoId: "g4myghLPLZc", youtubeLink: "https://www.youtube.com/watch?v=g4myghLPLZc" },
		{ title: "Me, I Disconnect from You", artist: "Tubeway Army", coverLink: "https://lh3.googleusercontent.com/0XD-Nt5289-YT_mp6YzVWUOH1kZ-BW9d-utBv4VCxjoyEgYZ2TVZIloROXYHH7Q4THNmddM9Of77MLoTTQ=w544-h544-l90-rj", videoId: "6SCrfZPMeWg", youtubeLink: "https://www.youtube.com/watch?v=6SCrfZPMeWg" },
        { title: "Darkness", artist: "The Human League", coverLink: "https://lh3.googleusercontent.com/5UgvTLEebZkbRH9fiGuJajPDSur-nJXHpHKCJUDkQd3LR-hJBAsqeKevMhPKQnyNX7MbBRnQWWabh0u0=w544-h544-l90-rj", videoId: "vPfk7ktdqo4", youtubeLink: "https://www.youtube.com/watch?v=vPfk7ktdqo4" },
        { title: "Fight Song", artist: "Rachel Platten", coverLink: "https://lh3.googleusercontent.com/AxQrFKHbt5jU_DiZihMhlJ3bxGLBy3rN6yfLlb0SJ68ay4FpnciNHNkD9WTXPBfbX1gCCZI5pFs2bJzU=w544-h544-l90-rj", videoId: "y5h_dukaB1I", youtubeLink: "https://www.youtube.com/watch?v=y5h_dukaB1I" },
		{ title: "The Ballad of Harambe", artist: "c a n d i d !", coverLink: "https://lh3.googleusercontent.com/F3ub3Ot4uC_HiLYe9RW-nxvMI__N7S5OkyGf_4bgU1MSIW4wp05es_6DF2GBAueUM-LVzIqxz8YuI1rY=w120-h120-l90-rj", videoId: "VX8omFoNHdQ", youtubeLink: "https://www.youtube.com/watch?v=VX8omFoNHdQ" },
		{ title: "Set Adrift on Memory Bliss", artist: "P.M. Dawn", coverLink: "https://lh3.googleusercontent.com/51qmaba8irr1qqXAcVc5CGV6bTiNNlevjEgh4cCDCntbqZP4dc1gcVlcf_lxA42D8CkZxDTW3L3SnPa4=w544-h544-l90-rj", videoId: "MurZoAE40VA", youtubeLink: "https://www.youtube.com/watch?v=MurZoAE40VA" },
		{ title: "Woke Up This Morning (Chosen One Mix)", artist: "Alabama 3", coverLink: "https://lh3.googleusercontent.com/EHKdWSYR9Kenl61Gu87krAIFBJCRmrHdTGISW46gHmiAjuElSW18fCpkvVTlGYnKn3lzmartBT_7K3t6mQ=w544-h544-l90-rj", videoId: "slpCmg53qkU", youtubeLink: "https://www.youtube.com/watch?v=slpCmg53qkU" },
		{ title: "What's on Your Mind (Pure Energy)", artist: "Information Society", coverLink: "https://lh3.googleusercontent.com/ZWMW9K6oQVxTOOfPAy-7NLsta-kxbLXWEWgG7o4ZuO8c25KMs07dkGc-lHY0Udg9J9jdsSVsYJTgjq8=w544-h544-l90-rj", videoId: "lCrD81j6OD0", youtubeLink: "https://www.youtube.com/watch?v=lCrD81j6OD0" },
		{ title: "Dirty Dreamer (XXX)", artist: "Hot Flash Heat Wave", coverLink: "https://lh3.googleusercontent.com/1hBYdeKS2xmwKgfhmRTqN18V0fMgu4PBc_Rg2UkcQY2W8KnFe5Csu2cQE4h8LAgNn21XGERhJXvnVH97=w544-h544-l90-rj", videoId: "Xyo5SKE5mpU", youtubeLink: "https://www.youtube.com/watch?v=Xyo5SKE5mpU" },
		{ title: "Bad Habit", artist: "The Kooks", coverLink: "https://i.scdn.co/image/ab67616d0000b273c8fcda98c93a02df95dec4ae", videoId: "VYfv5qcX5vo", youtubeLink: "https://www.youtube.com/watch?v=VYfv5qcX5vo" },
		{ title: "Good Clean Fun", artist: "Kaiser Chiefs", coverLink: "https://lh3.googleusercontent.com/1WYR7vOnMx8sbUbBHEI-3Q8YFfQOqvtTovFZnsUvcLnVGR2nmLegDLguykg8kgKiQi6OL6ZLNhag1_NY=w544-h544-l90-rj", videoId: "zcMX8fQ7buU", youtubeLink: "https://www.youtube.com/watch?v=zcMX8fQ7buU" },
		{ title: "Stop The World I Wanna Get Off With You", artist: "Arctic Monkeys", coverLink: "https://lh3.googleusercontent.com/D2kk6n8VH8YTwZoY9Vczdmrm74WvvkWgiCgIVVLcMv-NXyzZFgL-J64Mwls0p9P7x1aqM1xovqry5JM=w544-h544-l90-rj", videoId: "H8oiojAmKCI", youtubeLink: "https://www.youtube.com/watch?v=H8oiojAmKCI" },
		{ title: "Saving All My Love For You", artist: "Whitney Houston", coverLink: "https://lh3.googleusercontent.com/qRoa7SdWC7qa13JLpgK5wrqJc7HsJAGfDlRzyJPBpiF8zY8sgQ4YSocEqlwRZpM8_JtJcWxaKAb2d_kerQ=w544-h544-l90-rj", videoId: "GpQbMAIZVn8", youtubeLink: "https://www.youtube.com/watch?v=GpQbMAIZVn8" },
    ];
    let PLAYLISTS_DATA = [];

    // constants
    const PLAYER_ELEMENT_ID = "nice-music-player";
    const PLAYER_MAIN_CONTENT_WRAPPER_ID = "player-main-content-wrapper";
    const PLAYLIST_SELECTOR_CONTAINER_ID = "player-playlist-selector-container";
    const PLAYLIST_SELECTOR_ID = "player-playlist-selector";
    const YOUTUBE_PLAYER_DIV_ID = "youtube-player-container";
    const DISPLAY_BOX_ID = "player-display-box";
    const COVER_ID = "player-cover";
    const INFO_CONTAINER_ID = "player-info-container";
    const SONG_INFO_ID = "player-song-info";
    const TITLE_LINE_WRAPPER_CLASS = "player-title-line-wrapper";
    const TITLE_ID = "player-title";
    const ARTIST_ID = "player-artist";
    const YOUTUBE_LINK_ID = "player-youtube-link";
    const CONTROLS_CONTAINER_ID = "player-controls-container";
    const CONTROLS_ID = "player-controls";
    const PREV_BUTTON_ID = "player-prev-button";
    const PLAY_PAUSE_BUTTON_ID = "player-play-pause-button";
    const NEXT_BUTTON_ID = "player-next-button";
    const PROGRESS_BAR_CONTAINER_ID = "player-progress-bar-container";
    const CURRENT_TIME_ID = "player-current-time";
    const PROGRESS_BAR_ID = "player-progress-bar";
    const DURATION_ID = "player-duration";
    const VOLUME_CONTAINER_ID = "player-volume-container";
    const VOLUME_ICON_ID = "player-volume-icon";
    const VOLUME_PERCENTAGE_ID = "player-volume-percentage";
    const VOLUME_SLIDER_ID = "player-volume-slider";
    const REPEAT_BUTTON_ID = "player-repeat-button";
    const SHUFFLE_BUTTON_ID = "player-shuffle-button";
    const PLAYER_CONTROL_BUTTON_CLASS = 'player-control-button';
    const QUEUE_CONTAINER_ID = "player-queue-container";
    const QUEUE_TITLE_ID = "player-queue-title";
    const QUEUE_LIST_ID = "player-queue-list";
    const PLAYER_QUEUE_ITEM_CLASS = "player-queue-item";
    const QUEUE_TOGGLE_ICON_ID = "player-queue-toggle-icon";

    // icons
    const ICON_PLAY = "https://upload.wikimedia.org/wikipedia/commons/9/96/Crystal_Project_Player_play.png";
    const ICON_PAUSE = "https://upload.wikimedia.org/wikipedia/commons/d/dd/Crystal_Project_Player_pause.png";
    const ICON_PREV = "https://upload.wikimedia.org/wikipedia/commons/e/ef/Crystal_Project_Player_rew.png";
    const ICON_NEXT = "https://upload.wikimedia.org/wikipedia/commons/6/66/Crystal_Project_Player-end.png";
    const ICON_VOLUME = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23424242'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3C/svg%3E";
    const ICON_MUTED = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23424242'%3E%3Cpath d='M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3C/svg%3E";
    const ICON_YOUTUBE = "https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg";
    const ICON_REPEAT_NONE = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23424242'%3E%3Cpath d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/%3E%3C/svg%3E";
    const ICON_REPEAT_ALL = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%233F51B5'%3E%3Cpath d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/%3E%3C/svg%3E";
    const ICON_REPEAT_ONE = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%233F51B5'%3E%3Cpath d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/%3E%3Cpath d='M13 15V9h-1l-2 1v1h1.5v4z'/%3E%3C/svg%3E";
	const ICON_SHUFFLE_OFF = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' width='24' viewBox='0 0 24 24' fill='%23424242'%3E%3Cpath d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm0.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z'/%3E%3C/svg%3E";
	const ICON_SHUFFLE_ON = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' width='24' viewBox='0 0 24 24' fill='%233F51B5'%3E%3Cpath d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm0.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z'/%3E%3C/svg%3E";

    class Song {
        constructor(title, artist, coverLink, videoId, youtubeLink) { this.title = title; this.artist = artist; this.coverLink = coverLink; this.videoId = videoId; this.youtubeLink = youtubeLink; }
        getTitle() { return this.title; } getArtist() { return this.artist; } getCoverLink() { return this.coverLink; } getVideoId() { return this.videoId; } getYoutubeLink() { return this.youtubeLink; }
    }
    class Playlist {
        constructor(songs = []) { this.songs = songs; this.currentSongIndex = 0; }
        addSong(song) { this.songs.push(song); }
        getCurrentSong() { return this.songs.length > 0 ? this.songs[this.currentSongIndex] : null; }
        playNext() { if (this.songs.length > 0) this.currentSongIndex = (this.currentSongIndex + 1) % this.songs.length; }
        playPrevious() { if (this.songs.length > 0) this.currentSongIndex = (this.currentSongIndex - 1 + this.songs.length) % this.songs.length; }
        setCurrentSongIndex(index) { if (index >= 0 && index < this.songs.length) this.currentSongIndex = index; else console.warn(`Invalid song index: ${index}`); }
        isEmpty() { return this.songs.length === 0; }
        getSongs() { return this.songs; }
        setSongs(newSongs) { this.songs = newSongs; }
    }

    let playlist;
    let activePlaylistIndex = 0;
    let originalSongOrderForCurrentPlaylist = [];
    let isShuffleActive = false;
    let ytPlayer;
    let playerReady = false;
    let isSeeking = false;
    let rafId = null;
    let isUpdaterRunning = false;
    let volumeBeforeMute = 0.5;
    let repeatMode = 'none';

    let hasUserInitiatedPlayback = false; // prevents initial autoplay
    let isQueueSectionExpanded = true; // for collapsible queue

    const TARGET_FPS = 30;
    const FRAME_INTERVAL = 1000 / TARGET_FPS;
    let lastRafUpdateTime = 0;
    let playerShouldBeUpdatingWhenVisible = false;
    const MAX_QUEUE_ITEMS_DISPLAYED = 5;

    let playerContainer, mainContentWrapper, playlistSelectorContainer, playlistSelectorElement;
    let coverElement, titleElement, artistElement, youtubeLinkElement;
    let playPauseButton, prevButtonElement, nextButtonElement, progressBar, currentTimeElement, durationElement;
    let volumeContainer, volumeIconElement, volumePercentageElement, volumeSlider;
    let repeatButtonElement, shuffleButtonElement;
    let queueContainerElement, queueTitleElement, queueListElement;

    function formatTime(totalSeconds) {
        if (isNaN(totalSeconds) || totalSeconds < 0) { return "--:--"; }
        const minutes = Math.floor(totalSeconds / 60);
        const seconds = Math.floor(totalSeconds % 60);
        return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    }
    function shuffleArray(array) {
        let currentIndex = array.length, randomIndex;
        const newArray = [...array];
        while (currentIndex !== 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [newArray[currentIndex], newArray[randomIndex]] = [newArray[randomIndex], newArray[currentIndex]];
        }
        return newArray;
    }

    function updateUI() {
        const currentSong = playlist?.getCurrentSong();
        if (!coverElement || !titleElement || !artistElement || !youtubeLinkElement) {
            return;
        }

        if (!currentSong) {
            coverElement.src = ""; coverElement.alt = "No cover art";
            titleElement.textContent = "No song loaded"; titleElement.title = "";
            artistElement.textContent = ""; artistElement.title = "";
            youtubeLinkElement.href = "#"; youtubeLinkElement.classList.add('hidden');
            if (playPauseButton) updatePlayPauseButton(true);
            if (progressBar) { progressBar.value = 0; progressBar.style.setProperty('--progress-percent', '0%'); }
            if (currentTimeElement) currentTimeElement.textContent = "0:00";
            if (durationElement) durationElement.textContent = "--:--";
        } else {
            coverElement.src = currentSong.getCoverLink(); coverElement.alt = `Cover art for ${currentSong.getTitle()}`;
            const songTitle = currentSong.getTitle();
            titleElement.textContent = songTitle; titleElement.title = songTitle;
            const songArtist = currentSong.getArtist();
            artistElement.textContent = songArtist; artistElement.title = songArtist;
            youtubeLinkElement.href = currentSong.getYoutubeLink(); youtubeLinkElement.classList.remove('hidden');
        }

        if (playerReady && ytPlayer && typeof ytPlayer.getPlayerState === 'function' && hasUserInitiatedPlayback) {
            const state = ytPlayer.getPlayerState();
            if (playPauseButton) updatePlayPauseButton(state !== YT.PlayerState.PLAYING && state !== YT.PlayerState.BUFFERING);
            updateDurationDisplay();
        } else {
            if (playPauseButton) updatePlayPauseButton(true);
            if (durationElement) durationElement.textContent = "--:--";
        }
        updateVolumeIcon();
        if (repeatButtonElement) updateRepeatButtonUI();
        if (shuffleButtonElement) updateShuffleButtonUI();
        if (playlistSelectorElement) playlistSelectorElement.value = activePlaylistIndex.toString();
        updateQueueDisplay();
    }

    function updateDurationDisplay() { 
        if (!durationElement) return;
        if (!playerReady || !ytPlayer || typeof ytPlayer.getDuration !== 'function' || !hasUserInitiatedPlayback) {
            durationElement.textContent = "--:--";
            return;
        }
        const duration = ytPlayer.getDuration();
        durationElement.textContent = formatTime(duration);
    }

    function loadCurrentSong(autoplay = false) {
        console.debug(`loadCurrentSong called, autoplay=${autoplay}`);
        const currentSong = playlist?.getCurrentSong();

        updateUI();
        stopRafUpdater();
        if (progressBar) { progressBar.value = 0; progressBar.style.setProperty('--progress-percent', '0%'); }
        if (currentTimeElement) currentTimeElement.textContent = "0:00";
        if (durationElement) durationElement.textContent = "--:--";

        if (!playerReady || !ytPlayer || typeof ytPlayer.loadVideoById !== 'function') {
             console.warn("Player not ready or loadVideoById unavailable. Cannot load song.");
             if (playPauseButton) updatePlayPauseButton(true);
             return;
        }

        if (!currentSong) {
            console.warn("No current song to load.");
            if (typeof ytPlayer.stopVideo === 'function') ytPlayer.stopVideo();
             if (playPauseButton) updatePlayPauseButton(true);
            return;
        }

        //console.log(`Loading video: ${currentSong.getVideoId()} - ${currentSong.getTitle()}`);
        ytPlayer.loadVideoById({
            videoId: currentSong.getVideoId(),
            startSeconds: 0,
            suggestedQuality: 'small'
        });
        window._musicPlayerAutoplayIntent = autoplay;
    }

    function loadNewPlaylistByIndex(newPlaylistIndex, autoplayOverride = null) {
        if (newPlaylistIndex < 0 || newPlaylistIndex >= PLAYLISTS_DATA.length) {
            console.warn(`Invalid playlist index: ${newPlaylistIndex}`);
            return;
        }
        activePlaylistIndex = newPlaylistIndex;
        const selectedPlaylistData = PLAYLISTS_DATA[activePlaylistIndex];

        //console.log(`Switching to playlist: "${selectedPlaylistData.name}" (index: ${activePlaylistIndex})`);

        if (playerReady && ytPlayer && typeof ytPlayer.stopVideo === 'function' && hasUserInitiatedPlayback) {
            ytPlayer.stopVideo();
        }
        stopRafUpdater();

        const newSongs = selectedPlaylistData.songs.map(d => new Song(d.title, d.artist, d.coverLink, d.videoId, d.youtubeLink));
        originalSongOrderForCurrentPlaylist = [...newSongs];
        
        if (isShuffleActive) {
            const currentSongVideoId = playlist?.getCurrentSong()?.getVideoId();
            const shuffledNewSongs = shuffleArray(newSongs);
            playlist = new Playlist(shuffledNewSongs);
            if (currentSongVideoId) {
                const newIdx = playlist.getSongs().findIndex(s => s.videoId === currentSongVideoId);
                if (newIdx !== -1) playlist.setCurrentSongIndex(newIdx);
                else playlist.setCurrentSongIndex(0);
            } else {
                playlist.setCurrentSongIndex(0);
            }
        } else {
            playlist = new Playlist(newSongs);
            playlist.setCurrentSongIndex(0);
        }
        
        if (!hasUserInitiatedPlayback) {
            updateUI();
             loadCurrentSong(false);
        } else {
            let shouldAutoplayThisLoad = autoplayOverride === null ? true : autoplayOverride;
            loadCurrentSong(shouldAutoplayThisLoad);
        }
        // updateUI() is called by loadCurrentSong, or directly if not loading.
    }

    function togglePlayPause() {
        if (!playerReady || !ytPlayer || typeof ytPlayer.getPlayerState !== 'function') {
             console.warn("Player not ready, cannot toggle play/pause.");
             return;
        }

        if (!hasUserInitiatedPlayback) {
            if (playlist.isEmpty()) {
                console.warn("Cannot play: Playlist is empty.");
                return;
            }
            hasUserInitiatedPlayback = true;
            loadCurrentSong(true); // load the current (first) song and play it
        } else {
            const state = ytPlayer.getPlayerState();
            if (state === YT.PlayerState.PLAYING) {
                console.debug("Pausing video.");
                ytPlayer.pauseVideo();
            } else { // PAUSED, ENDED, CUED, UNSTARTED
                console.debug("Playing video.");
                if (playlist.isEmpty() && PLAYLISTS_DATA.length > 0 && PLAYLISTS_DATA[activePlaylistIndex].songs.length > 0) {
                    loadCurrentSong(true);
                } else if (!playlist.isEmpty()) {
                    if (state === YT.PlayerState.ENDED && repeatMode !== 'one') {
                        playlist.playNext();
                        loadCurrentSong(true);
                    } else {
                       ytPlayer.playVideo();
                    }
                } else {
                    console.warn("Cannot play: No songs in current playlist or no playlists available.");
                }
            }
        }
    }

    function updatePlayPauseButton(isPaused) { 
        if (!playPauseButton) return;
        const img = playPauseButton.querySelector('img');
        const label = isPaused ? "Play" : "Pause";
        if (img) {
            img.src = isPaused ? ICON_PLAY : ICON_PAUSE;
            img.alt = "";
        }
        playPauseButton.setAttribute('aria-label', label);
        playPauseButton.title = label;
    }
    function rafUpdateProgress(timestamp) { 
        if (!isUpdaterRunning) return;
        if (!playerReady || !ytPlayer || typeof ytPlayer.getCurrentTime !== 'function' || typeof ytPlayer.getDuration !== 'function' || !hasUserInitiatedPlayback) {
            stopRafUpdater(); return;
        }
        if (isSeeking) { rafId = requestAnimationFrame(rafUpdateProgress); return; }

        if (timestamp - lastRafUpdateTime >= FRAME_INTERVAL) {
            lastRafUpdateTime = timestamp;
            const currentTime = ytPlayer.getCurrentTime();
            const duration = ytPlayer.getDuration();
            if (duration && isFinite(duration) && duration > 0) {
                const progress = (currentTime / duration) * 100;
                if (progressBar) { progressBar.value = progress; progressBar.style.setProperty('--progress-percent', `${progress}%`); }
                if (currentTimeElement) currentTimeElement.textContent = formatTime(currentTime);
                if (durationElement && durationElement.textContent === "--:--") updateDurationDisplay();
            } else {
                if (progressBar) { progressBar.value = 0; progressBar.style.setProperty('--progress-percent', '0%'); }
                if (currentTimeElement) currentTimeElement.textContent = "0:00";
                if (durationElement) updateDurationDisplay();
            }
        }
        if (isUpdaterRunning) rafId = requestAnimationFrame(rafUpdateProgress);
        else { if (rafId) { cancelAnimationFrame(rafId); rafId = null; } }
    }
    function startRafUpdater() { 
        if (isUpdaterRunning) return;
        if (!playerReady || !ytPlayer || typeof ytPlayer.getPlayerState !== 'function' || ytPlayer.getPlayerState() !== YT.PlayerState.PLAYING || !hasUserInitiatedPlayback) {
            return;
        }
        if (document.visibilityState === 'hidden') {
            playerShouldBeUpdatingWhenVisible = true; return;
        }
        isUpdaterRunning = true; lastRafUpdateTime = 0;
        if (rafId) cancelAnimationFrame(rafId);
        rafId = requestAnimationFrame(rafUpdateProgress);
    }
    function stopRafUpdater() { 
        if (!isUpdaterRunning && !rafId) return;
        isUpdaterRunning = false;
        if (rafId) { cancelAnimationFrame(rafId); rafId = null; }
    }
    function handleVisibilityChange() { 
        if (!playerReady || !ytPlayer || typeof ytPlayer.getPlayerState !== 'function' || !hasUserInitiatedPlayback) return;
        if (document.visibilityState === 'hidden') {
            if (isUpdaterRunning) { stopRafUpdater(); playerShouldBeUpdatingWhenVisible = true; }
            else if (ytPlayer.getPlayerState() === YT.PlayerState.PLAYING) { playerShouldBeUpdatingWhenVisible = true; }
        } else if (document.visibilityState === 'visible') {
            if (playerShouldBeUpdatingWhenVisible) {
                playerShouldBeUpdatingWhenVisible = false;
                if (ytPlayer.getPlayerState() === YT.PlayerState.PLAYING) startRafUpdater();
            } else if (!isUpdaterRunning && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING) {
                startRafUpdater();
            }
        }
    }

    function onPlayerReady(event) {
        console.log("YouTube player ready!");
        playerReady = true;
        setVolumeFromSlider(false);
        
        // don't load song - just update UI to show first song's metadata
        // playback will be initiated by user action
        updateUI();
		updateVolumeIcon();

        if (document.visibilityState === 'visible' && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING && hasUserInitiatedPlayback) {
            startRafUpdater();
        } else if (document.visibilityState === 'hidden' && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING && hasUserInitiatedPlayback) {
            playerShouldBeUpdatingWhenVisible = true;
        }
    }

    function onPlayerStateChange(event) {
        const state = event.data;
        const stateName = Object.keys(YT.PlayerState).find(key => YT.PlayerState[key] === state) || 'UNKNOWN';
        //console.log(`Player state changed: ${state} (${stateName})`);

        // ensure hasUserInitiatedPlayback is true if we get any meaningful state change after initial load
        if (state !== YT.PlayerState.UNSTARTED && state !== -1) {
             // if a video is cued or playing, it implies some form of initiation or readiness
        }

        updateDurationDisplay();

        switch (state) {
            case YT.PlayerState.PLAYING:
                if (playPauseButton) updatePlayPauseButton(false);
                startRafUpdater();
                updateUI();
                break;
            case YT.PlayerState.PAUSED:
                if (playPauseButton) updatePlayPauseButton(true);
                stopRafUpdater();
                break;
            case YT.PlayerState.ENDED:
                stopRafUpdater();
                if (playPauseButton) updatePlayPauseButton(true);
                if (progressBar) { progressBar.value = 100; progressBar.style.setProperty('--progress-percent', '100%'); }
                if (currentTimeElement && ytPlayer && typeof ytPlayer.getDuration === 'function') {
                    currentTimeElement.textContent = formatTime(ytPlayer.getDuration());
                }

                if (!hasUserInitiatedPlayback) { // should not happen.
                    updateUI(); // just update UI, don't proceed to next song
                    return;
                }

                if (repeatMode === 'one') {
                    ytPlayer.seekTo(0, true);
                    ytPlayer.playVideo();
                } else {
                    const previousSongIndex = playlist.currentSongIndex;
                    playlist.playNext();
                    
                    const isLastSongAndNotRepeatingAll = playlist.currentSongIndex === 0 && 
                                                        previousSongIndex === playlist.getSongs().length -1 && 
                                                        repeatMode !== 'all';
                    
                    let shouldAutoplay;
                    if (isLastSongAndNotRepeatingAll) {
                        shouldAutoplay = false;
                    } else {
                        shouldAutoplay = true;
                    }
                    loadCurrentSong(shouldAutoplay);
                }
                break;
            case YT.PlayerState.BUFFERING:
                if (playPauseButton) updatePlayPauseButton(false);
                break;
            case YT.PlayerState.CUED:
                if (playPauseButton) updatePlayPauseButton(true);
                stopRafUpdater();
                if (progressBar) { progressBar.value = 0; progressBar.style.setProperty('--progress-percent', '0%'); }
                if (currentTimeElement) currentTimeElement.textContent = "0:00";
                updateUI(); 
                updateDurationDisplay(); 

                if (window._musicPlayerAutoplayIntent === true) {
                    ytPlayer.playVideo();
                }
                break;
            case YT.PlayerState.UNSTARTED:
                if (playPauseButton) updatePlayPauseButton(true);
                stopRafUpdater();
                if (currentTimeElement) currentTimeElement.textContent = "0:00";
                if (durationElement) durationElement.textContent = "--:--";
                updateUI();
                break;
            default: break;
        }
    }
    function onPlayerError(event) { 
        const errorCodes = { 2: 'Invalid parameter.', 5: 'HTML5 error.', 100: 'Not found/private.', 101: 'Embedding disallowed.', 150: 'Embedding disallowed.' };
        const errorMsg = errorCodes[event.data] || `Unknown error (${event.data})`;
        console.error(`YouTube Player Error: ${errorMsg}`);
        if (playPauseButton) updatePlayPauseButton(true);
        stopRafUpdater();
        if (titleElement) titleElement.textContent = "Error";
        if (artistElement) artistElement.textContent = errorMsg;
    }
    function setVolumeFromSlider(shouldUnmute = true) {
		if (!volumeSlider || !volumePercentageElement) return;
		const volumeValue = parseFloat(volumeSlider.value);
		const newVolumePercent = Math.round(volumeValue * 100);

		if (playerReady && ytPlayer && typeof ytPlayer.setVolume === 'function') {
			ytPlayer.setVolume(newVolumePercent);
			// if user drags slider up from 0, it should unmute the player.
			if (shouldUnmute && newVolumePercent > 0 && typeof ytPlayer.isMuted === 'function' && ytPlayer.isMuted()) {
				ytPlayer.unMute();
			}
			// if user drags to 0, it should mute the player.
			if (newVolumePercent === 0 && typeof ytPlayer.mute === 'function' && !ytPlayer.isMuted()) {
				ytPlayer.mute();
			}
		}
		
		volumePercentageElement.textContent = `${newVolumePercent}%`;
	}
	function toggleMute() {
		if (!playerReady || !ytPlayer || !volumeSlider || !volumeIconElement) return;

		const isCurrentlyMuted = ytPlayer.isMuted();

		if (isCurrentlyMuted) {
			ytPlayer.unMute();

			const restoreVolume = (volumeBeforeMute > 0) ? volumeBeforeMute : 0.5;

			ytPlayer.setVolume(restoreVolume * 100);

			volumeSlider.value = restoreVolume;
			if (volumePercentageElement) {
				volumePercentageElement.textContent = `${Math.round(restoreVolume * 100)}%`;
			}

			volumeIconElement.src = ICON_VOLUME;
			volumeIconElement.alt = "Mute";
			volumeIconElement.title = "Mute";

		} else {
			const currentSliderValue = parseFloat(volumeSlider.value);
			if (currentSliderValue > 0) {
				volumeBeforeMute = currentSliderValue;
			}
			
			ytPlayer.mute();

			volumeSlider.value = 0;
			if (volumePercentageElement) {
				volumePercentageElement.textContent = `0%`;
			}
			
			volumeIconElement.src = ICON_MUTED;
			volumeIconElement.alt = "Unmute";
			volumeIconElement.title = "Unmute";
		}
	}
    function updateVolumeIcon() {
		if (!volumeIconElement || !volumeSlider) return;

		const sliderValue = parseFloat(volumeSlider.value);
		const isMutedBySlider = sliderValue === 0;

		let isMutedByPlayer = false;
		if (playerReady && ytPlayer && typeof ytPlayer.isMuted === 'function') {
			isMutedByPlayer = ytPlayer.isMuted();
		}
		
		const isEffectivelyMuted = isMutedBySlider || isMutedByPlayer;

		volumeIconElement.src = isEffectivelyMuted ? ICON_MUTED : ICON_VOLUME;
		volumeIconElement.alt = isEffectivelyMuted ? "Unmute" : "Mute";
		volumeIconElement.title = isEffectivelyMuted ? "Unmute" : "Mute";
	}
    function toggleRepeatMode() { 
        switch (repeatMode) {
            case 'none': repeatMode = 'all'; break;
            case 'all': repeatMode = 'one'; break;
            case 'one': repeatMode = 'none'; break;
            default: repeatMode = 'none';
        }
        updateRepeatButtonUI();
        updateQueueDisplay();
    }
    function updateRepeatButtonUI() { 
        if (!repeatButtonElement) return;
        const img = repeatButtonElement.querySelector('img');
        let iconSrc = ICON_REPEAT_NONE; let label = "Repeat Off";
        repeatButtonElement.classList.remove('repeat-active', 'repeat-one');
        if (repeatMode === 'all') { iconSrc = ICON_REPEAT_ALL; label = "Repeat All"; repeatButtonElement.classList.add('repeat-active'); }
        else if (repeatMode === 'one') { iconSrc = ICON_REPEAT_ONE; label = "Repeat One"; repeatButtonElement.classList.add('repeat-active', 'repeat-one'); }
        if (img) { img.src = iconSrc; img.alt = ""; }
        repeatButtonElement.setAttribute('aria-label', label); repeatButtonElement.title = label;
    }
    function toggleShuffleMode() { 
        if (!playlist || playlist.isEmpty()) return;

        isShuffleActive = !isShuffleActive;
        const currentSongBeforeToggle = playlist.getCurrentSong();

        if (isShuffleActive) {
            const shuffledSongs = shuffleArray(originalSongOrderForCurrentPlaylist);
            playlist.setSongs(shuffledSongs);
        } else {
            playlist.setSongs([...originalSongOrderForCurrentPlaylist]);
        }

        if (currentSongBeforeToggle) {
            const newIndex = playlist.getSongs().findIndex(song => song.videoId === currentSongBeforeToggle.videoId);
            playlist.setCurrentSongIndex(newIndex !== -1 ? newIndex : 0);
        } else {
            playlist.setCurrentSongIndex(0);
        }

        updateShuffleButtonUI();
        updateQueueDisplay();
        updateUI();
    }
    function updateShuffleButtonUI() { 
        if (!shuffleButtonElement) return;
        const img = shuffleButtonElement.querySelector('img');
        let iconSrc = isShuffleActive ? ICON_SHUFFLE_ON : ICON_SHUFFLE_OFF;
        let label = isShuffleActive ? "Shuffle On" : "Shuffle Off";
        shuffleButtonElement.classList.toggle('shuffle-active', isShuffleActive);
        if (img) { img.src = iconSrc; img.alt = ""; }
        shuffleButtonElement.setAttribute('aria-label', label); shuffleButtonElement.title = label;
    }

    function updateQueueDisplay() {
        if (!queueListElement || !playlist) {
            if (queueListElement) queueListElement.innerHTML = `<li class="${PLAYER_QUEUE_ITEM_CLASS} player-queue-empty">Queue is empty</li>`;
            if (queueTitleElement) queueTitleElement.style.display = (playlist && !playlist.isEmpty() && PLAYLISTS_DATA.length > 0) ? 'flex' : 'none'
            return;
        }
        if (queueTitleElement) queueTitleElement.style.display = 'flex';

        if (playlist.isEmpty()){
            queueListElement.innerHTML = `<li class="${PLAYER_QUEUE_ITEM_CLASS} player-queue-empty">Queue is empty</li>`;
            return;
        }


        queueListElement.innerHTML = '';
        const songs = playlist.getSongs();
        const currentIndex = playlist.currentSongIndex;
        const numSongs = songs.length;

        if (numSongs <= 1) {
            queueListElement.innerHTML = `<li class="${PLAYER_QUEUE_ITEM_CLASS} player-queue-empty">No upcoming songs</li>`;
            return;
        }

        let songsShownCount = 0;
        for (let i = 1; i < numSongs && songsShownCount < MAX_QUEUE_ITEMS_DISPLAYED; i++) {
            let nextIndex = (currentIndex + i) % numSongs;
            if (repeatMode !== 'all' && !isShuffleActive && nextIndex < (currentIndex + i) && nextIndex < currentIndex) {
                break; 
            }
            
            const song = songs[nextIndex];
            const li = document.createElement("li");
            li.className = PLAYER_QUEUE_ITEM_CLASS;
            li.dataset.songIndex = nextIndex;

            const titleSpan = document.createElement("span");
            titleSpan.className = "player-queue-item-title";
            titleSpan.textContent = song.getTitle();
            titleSpan.title = song.getTitle();

            const artistSpan = document.createElement("span");
            artistSpan.className = "player-queue-item-artist";
            artistSpan.textContent = ` - ${song.getArtist()}`;
            artistSpan.title = song.getArtist();

            li.appendChild(titleSpan);
            li.appendChild(artistSpan);

            li.addEventListener('click', () => {
                if (!hasUserInitiatedPlayback) {
                    hasUserInitiatedPlayback = true;
                }
                const songIndexToPlay = parseInt(li.dataset.songIndex, 10);
                playlist.setCurrentSongIndex(songIndexToPlay);
                loadCurrentSong(true);
            });
            queueListElement.appendChild(li);
            songsShownCount++;
        }

        if (songsShownCount === 0 && queueListElement.innerHTML === '') {
             queueListElement.innerHTML = `<li class="${PLAYER_QUEUE_ITEM_CLASS} player-queue-empty">End of playlist</li>`;
        }
    }

    function toggleQueueExpansion() {
        isQueueSectionExpanded = !isQueueSectionExpanded;
        const queueContainer = document.getElementById(QUEUE_CONTAINER_ID);
        const toggleIcon = document.getElementById(QUEUE_TOGGLE_ICON_ID);

        if (!queueContainer || !toggleIcon) return;

        if (isQueueSectionExpanded) {
            queueContainer.classList.remove('queue-collapsed');
            toggleIcon.innerHTML = "▼"; // down arrow ▼
        } else {
            queueContainer.classList.add('queue-collapsed');
            toggleIcon.innerHTML = "▸"; // right arrow ►
        }
    }


    function createPlayerElements() {
        const fragment = document.createDocumentFragment();
        playerContainer = document.createElement("div"); playerContainer.id = PLAYER_ELEMENT_ID; fragment.appendChild(playerContainer);

        playlistSelectorContainer = document.createElement("div");
        playlistSelectorContainer.id = PLAYLIST_SELECTOR_CONTAINER_ID;
        const playlistLabel = document.createElement("label"); playlistLabel.htmlFor = PLAYLIST_SELECTOR_ID; playlistLabel.textContent = "Select playlist:"; playlistSelectorContainer.appendChild(playlistLabel);
        playlistSelectorElement = document.createElement("select"); playlistSelectorElement.id = PLAYLIST_SELECTOR_ID; playlistSelectorElement.title = "Select Playlist"; playlistSelectorContainer.appendChild(playlistSelectorElement);
        playerContainer.appendChild(playlistSelectorContainer);

        mainContentWrapper = document.createElement("div"); mainContentWrapper.id = PLAYER_MAIN_CONTENT_WRAPPER_ID; playerContainer.appendChild(mainContentWrapper);

        const displayBox = document.createElement("div"); displayBox.id = DISPLAY_BOX_ID;
        coverElement = document.createElement("img"); coverElement.id = COVER_ID; coverElement.alt = "Album cover"; coverElement.src = ""; displayBox.appendChild(coverElement);
        const infoContainer = document.createElement("div"); infoContainer.id = INFO_CONTAINER_ID;
        const songInfo = document.createElement("div"); songInfo.id = SONG_INFO_ID;
        const titleLineWrapper = document.createElement("div"); titleLineWrapper.className = TITLE_LINE_WRAPPER_CLASS;
        titleElement = document.createElement("h3"); titleElement.id = TITLE_ID; titleElement.textContent = "Loading..."; titleLineWrapper.appendChild(titleElement);
        youtubeLinkElement = document.createElement("a"); youtubeLinkElement.id = YOUTUBE_LINK_ID; youtubeLinkElement.target = "_blank"; youtubeLinkElement.rel = "noopener noreferrer"; youtubeLinkElement.title = "Watch on YouTube"; youtubeLinkElement.classList.add('hidden');
        const ytIcon = document.createElement("img"); ytIcon.src = ICON_YOUTUBE; ytIcon.alt = "YouTube"; youtubeLinkElement.appendChild(ytIcon); titleLineWrapper.appendChild(youtubeLinkElement);
        songInfo.appendChild(titleLineWrapper);
        artistElement = document.createElement("p"); artistElement.id = ARTIST_ID; artistElement.textContent = ""; songInfo.appendChild(artistElement);
        infoContainer.appendChild(songInfo); displayBox.appendChild(infoContainer); mainContentWrapper.appendChild(displayBox);

        const controlsContainer = document.createElement("div"); controlsContainer.id = CONTROLS_CONTAINER_ID;
        const controls = document.createElement("div"); controls.id = CONTROLS_ID;
        prevButtonElement = document.createElement("button"); prevButtonElement.id = PREV_BUTTON_ID; prevButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS); prevButtonElement.setAttribute('aria-label', 'Previous Song'); prevButtonElement.title = 'Previous Song';
        const prevIcon = document.createElement("img"); prevIcon.src = ICON_PREV; prevIcon.alt = ""; prevButtonElement.appendChild(prevIcon); controls.appendChild(prevButtonElement);
        playPauseButton = document.createElement("button"); playPauseButton.id = PLAY_PAUSE_BUTTON_ID; playPauseButton.classList.add(PLAYER_CONTROL_BUTTON_CLASS);
        const playPauseIcon = document.createElement("img"); playPauseIcon.alt = ""; playPauseIcon.src = ICON_PLAY; playPauseButton.appendChild(playPauseIcon); controls.appendChild(playPauseButton);
        nextButtonElement = document.createElement("button"); nextButtonElement.id = NEXT_BUTTON_ID; nextButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS); nextButtonElement.setAttribute('aria-label', 'Next Song'); nextButtonElement.title = 'Next Song';
        const nextIcon = document.createElement("img"); nextIcon.src = ICON_NEXT; nextIcon.alt = ""; nextButtonElement.appendChild(nextIcon); controls.appendChild(nextButtonElement);
        controlsContainer.appendChild(controls);
        const progressBarContainer = document.createElement("div"); progressBarContainer.id = PROGRESS_BAR_CONTAINER_ID;
        currentTimeElement = document.createElement("span"); currentTimeElement.id = CURRENT_TIME_ID; currentTimeElement.textContent = "0:00"; progressBarContainer.appendChild(currentTimeElement);
        progressBar = document.createElement("input"); progressBar.type = "range"; progressBar.id = PROGRESS_BAR_ID; progressBar.value = "0"; progressBar.min = "0"; progressBar.max = "100"; progressBar.step = "0.1"; progressBar.title="Seek"; progressBar.style.setProperty('--progress-percent', '0%'); progressBarContainer.appendChild(progressBar);
        durationElement = document.createElement("span"); durationElement.id = DURATION_ID; durationElement.textContent = "--:--"; progressBarContainer.appendChild(durationElement);
        controlsContainer.appendChild(progressBarContainer); mainContentWrapper.appendChild(controlsContainer);

        volumeContainer = document.createElement("div"); volumeContainer.id = VOLUME_CONTAINER_ID;
        
        shuffleButtonElement = document.createElement("button"); shuffleButtonElement.id = SHUFFLE_BUTTON_ID; shuffleButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS, 'player-shuffle-button');
        const shuffleIcon = document.createElement("img"); shuffleIcon.alt = ""; shuffleIcon.src = ICON_SHUFFLE_OFF; shuffleButtonElement.appendChild(shuffleIcon); volumeContainer.appendChild(shuffleButtonElement);

        repeatButtonElement = document.createElement("button"); repeatButtonElement.id = REPEAT_BUTTON_ID; repeatButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS, 'player-repeat-button');
        const repeatIcon = document.createElement("img"); repeatIcon.alt = ""; repeatIcon.src = ICON_REPEAT_NONE; repeatButtonElement.appendChild(repeatIcon); volumeContainer.appendChild(repeatButtonElement);
        
        volumeIconElement = document.createElement("img"); volumeIconElement.id = VOLUME_ICON_ID; volumeIconElement.alt = "Mute"; volumeIconElement.title = "Mute/Unmute"; volumeIconElement.style.cursor = 'pointer'; volumeIconElement.src = ICON_VOLUME; volumeContainer.appendChild(volumeIconElement);
        volumePercentageElement = document.createElement("span"); volumePercentageElement.id = VOLUME_PERCENTAGE_ID; volumePercentageElement.textContent = "50%"; volumeContainer.appendChild(volumePercentageElement);
        volumeSlider = document.createElement("input"); volumeSlider.type = "range"; volumeSlider.id = VOLUME_SLIDER_ID; volumeSlider.min = 0; volumeSlider.max = 1; volumeSlider.step = 0.01; volumeSlider.value = 0.5; volumeSlider.title = "Adjust volume"; volumeContainer.appendChild(volumeSlider);
        mainContentWrapper.appendChild(volumeContainer);

        queueContainerElement = document.createElement("div"); queueContainerElement.id = QUEUE_CONTAINER_ID;
        queueTitleElement = document.createElement("h4"); queueTitleElement.id = QUEUE_TITLE_ID;
        queueTitleElement.innerHTML = `Up Next <span id="${QUEUE_TOGGLE_ICON_ID}">${isQueueSectionExpanded ? "▼" : "▸"}</span>`;
        queueContainerElement.appendChild(queueTitleElement);
        queueListElement = document.createElement("ul"); queueListElement.id = QUEUE_LIST_ID; queueContainerElement.appendChild(queueListElement);
        playerContainer.appendChild(queueContainerElement);

        const youtubePlayerDiv = document.createElement("div"); youtubePlayerDiv.id = YOUTUBE_PLAYER_DIV_ID; fragment.appendChild(youtubePlayerDiv);
        return fragment;
    }

    function loadYouTubeAPI() {
        return new Promise((resolve, reject) => {
            if (typeof YT !== 'undefined' && typeof YT.Player !== 'undefined') { resolve(); return; }
            window.onYouTubeIframeAPIReady = () => { resolve(); };
            const existingScript = document.querySelector('script[src="https://www.youtube.com/iframe_api"]');
            if (existingScript) return;
            const tag = document.createElement('script'); tag.src = "https://www.youtube.com/iframe_api";
            tag.onerror = (err) => { console.error("Failed to load YouTube API script:", err); delete window.onYouTubeIframeAPIReady; reject(err); };
            const firstScriptTag = document.getElementsByTagName('script')[0];
            if (firstScriptTag && firstScriptTag.parentNode) firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            else document.head.appendChild(tag);
        });
    }

    function bindUIEventListeners() {
        if (!playPauseButton || !nextButtonElement || !prevButtonElement || !repeatButtonElement || !shuffleButtonElement ||
            !progressBar || !volumeIconElement || !volumeSlider || !playlistSelectorElement || !queueTitleElement) {
            console.error("Failed to bind listeners: Core UI elements missing.");
            return;
        }

        playPauseButton.addEventListener("click", togglePlayPause);
        nextButtonElement.addEventListener("click", () => {
            if (!hasUserInitiatedPlayback) {
                if (playlist.isEmpty()) return;
                hasUserInitiatedPlayback = true;
                playlist?.playNext();
                loadCurrentSong(true);
            } else {
                const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
                const shouldAutoplay = wasPlaying || repeatMode === 'all' || (playlist.currentSongIndex !== playlist.getSongs().length - 1);
                playlist?.playNext();
                loadCurrentSong(shouldAutoplay);
            }
        });
        prevButtonElement.addEventListener("click", () => {
            if (!hasUserInitiatedPlayback) {
                 if (playlist.isEmpty()) return;
                hasUserInitiatedPlayback = true;
                playlist?.playPrevious();
                loadCurrentSong(true);
            } else {
                const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
                const shouldAutoplay = wasPlaying || repeatMode === 'all';
                playlist?.playPrevious();
                loadCurrentSong(shouldAutoplay);
            }
        });
        repeatButtonElement.addEventListener("click", toggleRepeatMode);
        shuffleButtonElement.addEventListener("click", toggleShuffleMode);
        volumeIconElement.addEventListener("click", toggleMute);
        queueTitleElement.addEventListener('click', toggleQueueExpansion);

        progressBar.addEventListener("mousedown", () => { isSeeking = true; stopRafUpdater(); });
        progressBar.addEventListener("touchstart", () => { isSeeking = true; stopRafUpdater(); }, { passive: true });
        progressBar.addEventListener("input", () => {
            if (!isSeeking || !hasUserInitiatedPlayback) return;
            const percentage = progressBar.value;
            progressBar.style.setProperty('--progress-percent', `${percentage}%`);
            if (playerReady && ytPlayer && typeof ytPlayer.getDuration === 'function' && currentTimeElement) {
                const duration = ytPlayer.getDuration();
                if (duration && isFinite(duration)) {
                    currentTimeElement.textContent = formatTime((percentage / 100) * duration);
                }
            }
        });
        progressBar.addEventListener("change", () => {
            if (!hasUserInitiatedPlayback) {
                 isSeeking = false; return;
            }
            if (!playerReady || !ytPlayer || typeof ytPlayer.getDuration !== 'function' || typeof ytPlayer.seekTo !== 'function') {
                 isSeeking = false; return;
            }
            const duration = ytPlayer.getDuration();
            if (!duration || !isFinite(duration) || duration <= 0) { isSeeking = false; return; }
            const seekTime = (progressBar.value / 100) * duration;
            ytPlayer.seekTo(seekTime, true);
            if (currentTimeElement) currentTimeElement.textContent = formatTime(seekTime);
            isSeeking = false;
            const state = ytPlayer.getPlayerState();
            if (state === YT.PlayerState.PLAYING) startRafUpdater();
            else stopRafUpdater();
        });
        const handleSeekEnd = () => { if (isSeeking) progressBar.dispatchEvent(new Event('change')); };
        progressBar.addEventListener("mouseup", handleSeekEnd);
        progressBar.addEventListener("touchend", handleSeekEnd);
		
		volumeSlider.addEventListener("input", () => {
			setVolumeFromSlider(true);
			updateVolumeIcon();
		});
        
        playlistSelectorElement.addEventListener("change", (event) => {
            const newIndex = parseInt(event.target.value, 10);
            if (!isNaN(newIndex)) {
                // autoplay depends on whether user has played before
                if (!hasUserInitiatedPlayback) {
                    loadNewPlaylistByIndex(newIndex, false); // load new playlist, cue first song, don't play
                } else {
                    const wasPlaying = playerReady && ytPlayer && typeof ytPlayer.getPlayerState === 'function' && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING;
                    loadNewPlaylistByIndex(newIndex, wasPlaying); // normal behavior
                }
            }
        });

        document.addEventListener('visibilitychange', handleVisibilityChange);
    }

    function injectPlayerStyles() {
        const styleId = "nice-music-player-styles";
        if (document.getElementById(styleId)) document.getElementById(styleId).remove();
        const style = document.createElement("style"); style.id = styleId;
        style.textContent = `
            :root {
              --player-bg: #ffffff; --player-border: rgba(0, 0, 0, 0.12);
              --text-primary: #212121; --text-secondary: #757575;
              --accent-color: #3F51B5; --accent-color-hover: #303F9F;
              --border-color: #EEEEEE; --cover-border-color: rgba(0, 0, 0, 0.08);
              --slider-track-bg: #E0E0E0; --slider-thumb-bg: #3F51B5;
              --slider-thumb-hover-bg: #303F9F; --progress-fill-bg: #3F51B5;
              --main-player-content-height: 7rem; 
              --cover-size: calc(var(--main-player-content-height) - 1.5rem);
              --base-font-size: 14px; --border-radius: 3px; --button-size: 32px;
              --small-button-size: 22px; --spacing-xs: 4px; --spacing-sm: 8px;
              --spacing-md: 16px; --spacing-lg: 24px;
              --font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
              --title-font-size: 15px; --artist-font-size: 13px; --time-font-size: 11px;
              --transition-speed: 0.2s; --transition-func: cubic-bezier(0.4, 0, 0.2, 1);
              --queue-item-hover-bg: #f0f0f0;
            }
            #${PLAYER_ELEMENT_ID} { 
                display: flex; flex-direction: column; 
                background-color: var(--player-bg); border-radius: var(--border-radius); 
                font-family: var(--font-family); font-size: var(--base-font-size); 
                color: var(--text-primary); padding: var(--spacing-sm) var(--spacing-md); 
                box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); 
                margin: var(--spacing-md) 0; overflow: hidden; position: relative; 
                box-sizing: border-box; height: auto;
            }
            #${PLAYLIST_SELECTOR_CONTAINER_ID} {
                display: flex; align-items: center; gap: var(--spacing-sm);
                margin-bottom: var(--spacing-md); padding: 0;
            }
            #${PLAYLIST_SELECTOR_CONTAINER_ID} label { font-size: var(--artist-font-size); color: var(--text-secondary); flex-shrink: 0; }
            #${PLAYLIST_SELECTOR_ID} { 
                font-family: var(--font-family); font-size: 12px; padding: 4px 8px; 
                border: 1px solid var(--border-color); border-radius: var(--border-radius); 
                background-color: var(--player-bg); color: var(--text-primary); 
                flex-grow: 1; min-width: 150px; height: auto; box-sizing: border-box; 
                -webkit-appearance: none; -moz-appearance: none; appearance: none; 
                background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%204%205%22%3E%3Cpath%20fill%3D%22%23555%22%20d%3D%22M2%200L0%202h4zm0%205L0%203h4z%22/%3E%3C/svg%3E'); 
                background-repeat: no-repeat; background-position: right 8px center; 
                background-size: 8px 10px; padding-right: 25px; cursor:pointer; 
            }
            #${PLAYLIST_SELECTOR_ID}:focus { outline: 1px solid var(--accent-color); border-color: var(--accent-color); }
            #${PLAYER_MAIN_CONTENT_WRAPPER_ID} {
                display: flex; align-items: center; justify-content: space-between;
                gap: var(--spacing-md); height: var(--main-player-content-height); width: 100%;
            }
            .hidden { display: none !important; }
            #${DISPLAY_BOX_ID} { display: flex; align-items: center; gap: var(--spacing-md); flex-shrink: 0; min-width: 270px; max-width: 350px; overflow: hidden; }
            #${COVER_ID} { width: var(--cover-size); height: var(--cover-size); object-fit: cover; border-radius: var(--border-radius); box-shadow: 0 1px 3px var(--cover-border-color); flex-shrink: 0; background-color: var(--border-color); transition: transform var(--transition-speed) var(--transition-func); }
            #${COVER_ID}:hover { transform: scale(1.03); }
            #${INFO_CONTAINER_ID} { display: flex; flex-direction: column; justify-content: center; overflow: hidden; flex-grow: 1; min-width: 0; height: 100%; }
            #${SONG_INFO_ID} { display: flex; flex-direction: column; overflow: hidden; justify-content: center; height: 100%;}
            .${TITLE_LINE_WRAPPER_CLASS} { display: flex; align-items: baseline; margin-bottom: var(--spacing-xs); gap: var(--spacing-xs); }
            #${TITLE_ID} { font-size: var(--title-font-size); font-weight: 500; margin: 0; white-space: normal; overflow-wrap: break-word; line-height: 1.3; color: var(--text-primary); flex-grow: 1; cursor: default; }
            #${YOUTUBE_LINK_ID} { flex-shrink: 0; line-height: 1; opacity: 0.7; transition: opacity var(--transition-speed) var(--transition-func); }
            #${YOUTUBE_LINK_ID}:hover, #${YOUTUBE_LINK_ID}:focus { opacity: 1; }
            #${YOUTUBE_LINK_ID} img { width: 18px; height: auto; display: block; }
            #${ARTIST_ID} { font-size: var(--artist-font-size); margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--text-secondary); line-height: 1.3; cursor: default; }
            #${CONTROLS_CONTAINER_ID} { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: var(--spacing-sm); min-width: 180px; }
            #${CONTROLS_ID} { display: flex; justify-content: center; align-items: center; gap: var(--spacing-md); width: 100%; margin-bottom: var(--spacing-xs); }
            .${PLAYER_CONTROL_BUTTON_CLASS} { background: none; border: none; cursor: pointer; border-radius: 50%; display: inline-flex; justify-content: center; align-items: center; width: var(--button-size); height: var(--button-size); opacity: 0.85; transition: all var(--transition-speed) var(--transition-func); background-color: rgba(0,0,0,0.03); padding: 0; margin: 0; flex-shrink: 0; outline: none; }
            .${PLAYER_CONTROL_BUTTON_CLASS}:hover { opacity: 1; transform: scale(1.08); background-color: rgba(0,0,0,0.05); }
            .${PLAYER_CONTROL_BUTTON_CLASS}:active { transform: scale(0.95); opacity: 0.9; }
            .${PLAYER_CONTROL_BUTTON_CLASS}:focus-visible { opacity: 1; outline: 2px solid var(--accent-color); outline-offset: 2px; }
            .${PLAYER_CONTROL_BUTTON_CLASS} img { display: block; width: 60%; height: 60%; user-select: none; -webkit-user-drag: none; -webkit-user-select: none; }
            #${PLAY_PAUSE_BUTTON_ID} { width: calc(var(--button-size) * 1.25); height: calc(var(--button-size) * 1.25); background-color: rgba(0,0,0,0.05); }
            #${PLAY_PAUSE_BUTTON_ID}:hover { background-color: rgba(0,0,0,0.08); }
            .player-repeat-button, .player-shuffle-button { width: var(--small-button-size); height: var(--small-button-size); opacity: 0.6; margin-right: var(--spacing-xs); }
            .player-repeat-button.repeat-active, .player-shuffle-button.shuffle-active { opacity: 0.9; background-color: rgba(63, 81, 181, 0.1); }
            #${PROGRESS_BAR_CONTAINER_ID} { width: 100%; display: flex; align-items: center; gap: var(--spacing-sm); }
            #${CURRENT_TIME_ID}, #${DURATION_ID} { font-size: var(--time-font-size); color: var(--text-secondary); flex-shrink: 0; min-width: 3em; text-align: center; font-variant-numeric: tabular-nums; }
            #${VOLUME_CONTAINER_ID} { display: flex; align-items: center; gap: var(--spacing-sm); flex-shrink: 0; margin-left: var(--spacing-md); }
            #${VOLUME_ICON_ID} { width: 18px; height: 18px; opacity: 0.7; cursor: pointer; transition: opacity var(--transition-speed) var(--transition-func); filter: brightness(0.2); padding: 2px; border-radius: 50%; user-select: none; -webkit-user-select: none; }
            #${VOLUME_ICON_ID}:hover { opacity: 1; background-color: rgba(0,0,0,0.05); }
            #${VOLUME_PERCENTAGE_ID} { font-size: 11px; color: var(--text-secondary); min-width: 2.5em; text-align: right; flex-shrink: 0; font-variant-numeric: tabular-nums; }
            #${VOLUME_SLIDER_ID} { width: 70px; flex-grow: 0; flex-shrink: 0; }
            input[type="range"] { -webkit-appearance: none; appearance: none; background: transparent; cursor: pointer; width: 100%; outline: none; transition: opacity var(--transition-speed) var(--transition-func); flex-grow: 1; height: 16px; vertical-align: middle; padding: 0; margin: 0; }
            input[type="range"]::-webkit-slider-runnable-track { height: 4px; background: var(--slider-track-bg); border-radius: 2px; }
            input[type="range"]::-moz-range-track { height: 4px; background: var(--slider-track-bg); border-radius: 2px; }
            #${PROGRESS_BAR_ID}::-webkit-slider-runnable-track { background: linear-gradient( to right, var(--progress-fill-bg), var(--progress-fill-bg) var(--progress-percent, 0%), var(--slider-track-bg) var(--progress-percent, 0%) ); }
            #${PROGRESS_BAR_ID}::-moz-range-track { background: linear-gradient( to right, var(--progress-fill-bg), var(--progress-fill-bg) var(--progress-percent, 0%), var(--slider-track-bg) var(--progress-percent, 0%) ); }
            input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; margin-top: -6px; height: 16px; width: 16px; background-color: var(--slider-thumb-bg); border-radius: 50%; border: none; box-shadow: 0 1px 2px rgba(0,0,0,0.2); transition: all var(--transition-speed) var(--transition-func); }
            input[type="range"]::-moz-range-thumb { height: 16px; width: 16px; background-color: var(--slider-thumb-bg); border-radius: 50%; border: none; box-shadow: 0 1px 2px rgba(0,0,0,0.2); transition: all var(--transition-speed) var(--transition-func); }
            input[type="range"]:hover::-webkit-slider-thumb { background-color: var(--slider-thumb-hover-bg); transform: scale(1.15); }
            input[type="range"]:hover::-moz-range-thumb { background-color: var(--slider-thumb-hover-bg); transform: scale(1.15); }
            input[type="range"]:focus-visible::-webkit-slider-thumb { box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.3); transform: scale(1.15); background-color: var(--slider-thumb-hover-bg); }
            input[type="range"]:focus-visible::-moz-range-thumb { box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.3); transform: scale(1.15); background-color: var(--slider-thumb-hover-bg); }
            input[type="range"]:active::-webkit-slider-thumb { transform: scale(1.2); background-color: var(--slider-thumb-hover-bg); }
            input[type="range"]:active::-moz-range-thumb { transform: scale(1.2); background-color: var(--slider-thumb-hover-bg); }
            #${VOLUME_SLIDER_ID}::-webkit-slider-runnable-track { height: 3px; }
            #${VOLUME_SLIDER_ID}::-moz-range-track { height: 3px; }
            #${VOLUME_SLIDER_ID}::-webkit-slider-thumb { margin-top: -5.5px; height: 14px; width: 14px; }
            #${VOLUME_SLIDER_ID}::-moz-range-thumb { height: 14px; width: 14px; }
            #${YOUTUBE_PLAYER_DIV_ID} { position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important; opacity: 0 !important; overflow: hidden !important; pointer-events: none !important; visibility: hidden !important; }
            
            /* queue styles */
            #${QUEUE_CONTAINER_ID} { 
                margin-top: var(--spacing-md); 
                padding-top: var(--spacing-sm); 
                border-top: 1px solid var(--border-color);
                overflow: hidden;
                transition: max-height 0.3s ease-in-out;
            }
            #${QUEUE_CONTAINER_ID}:not(.queue-collapsed) {
                max-height: 150px;
            }
             #${QUEUE_CONTAINER_ID}:not(.queue-collapsed) #${QUEUE_LIST_ID} {
                 overflow-y: auto;
                 max-height: calc(150px - 2em - var(--spacing-sm));
             }

            #${QUEUE_TITLE_ID} { 
                font-size: var(--artist-font-size); 
                color: var(--text-secondary); 
                margin: 0 0 var(--spacing-sm) 0; 
                font-weight: 500;
                cursor: pointer;
                user-select: none;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            #${QUEUE_TOGGLE_ICON_ID} {
                font-size: 0.9em;
                margin-left: var(--spacing-xs);
                transition: transform 0.2s ease-in-out;
                display: inline-block;
            }
            #${QUEUE_LIST_ID} { list-style: none; margin: 0; padding: 0; }
            .${PLAYER_QUEUE_ITEM_CLASS} { 
                padding: var(--spacing-xs) var(--spacing-sm); 
                font-size: 13px; 
                border-radius: var(--border-radius); 
                cursor: pointer; 
                transition: background-color var(--transition-speed) var(--transition-func);
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            .${PLAYER_QUEUE_ITEM_CLASS}:hover { background-color: var(--queue-item-hover-bg); }
            .player-queue-item-title { font-weight: 500; color: var(--text-primary); }
            .player-queue-item-artist { color: var(--text-secondary); font-size: 12px; }
            .player-queue-empty { color: var(--text-secondary); font-style: italic; cursor: default; padding: var(--spacing-xs) var(--spacing-sm); }

            #${QUEUE_CONTAINER_ID}.queue-collapsed {
                max-height: calc(var(--artist-font-size) + var(--spacing-sm) + 2px);
            }
            #${QUEUE_CONTAINER_ID}.queue-collapsed #${QUEUE_LIST_ID} {
                display: none;
            }
            #${QUEUE_CONTAINER_ID}.queue-collapsed #${QUEUE_TOGGLE_ICON_ID} {
                transform: rotate(-90deg);
            }

            /* responsive elements */
            @media (max-width: 768px) { 
                #${PLAYER_ELEMENT_ID} { padding: var(--spacing-xs) var(--spacing-sm); }
                #${PLAYER_MAIN_CONTENT_WRAPPER_ID} { gap: var(--spacing-sm); }
                #${DISPLAY_BOX_ID} { min-width: 200px; } 
                #${CONTROLS_ID} { gap: var(--spacing-sm); } 
                #${VOLUME_CONTAINER_ID} { margin-left: var(--spacing-sm); } 
                #${PLAYLIST_SELECTOR_ID} { font-size: 11px; padding-right: 20px; background-position: right 5px center; } 
                #${QUEUE_CONTAINER_ID}:not(.queue-collapsed) { max-height: 120px; }
                 #${QUEUE_CONTAINER_ID}:not(.queue-collapsed) #${QUEUE_LIST_ID} { max-height: calc(120px - 2em - var(--spacing-sm)); }
            }
            @media (max-width: 576px) { 
                :root { 
                    --main-player-content-height: auto; 
                    --cover-size: calc(5rem - 1rem); 
                    --button-size: 28px; 
                    --title-font-size: 14px; 
                    --artist-font-size: 12px; 
                } 
                #${PLAYER_ELEMENT_ID} { padding: var(--spacing-sm); margin-inline: auto; width: 500px; }
                #${PLAYLIST_SELECTOR_CONTAINER_ID} { margin-bottom: var(--spacing-sm); }
                #${PLAYER_MAIN_CONTENT_WRAPPER_ID} { flex-direction: column; height: auto; gap: var(--spacing-sm); }
                #${DISPLAY_BOX_ID} { width: 100%; min-width: unset; max-width: unset; } 
                #${CONTROLS_CONTAINER_ID} { width: 100%; padding: 0; gap: var(--spacing-xs); } 
                #${VOLUME_CONTAINER_ID} { width: 100%; justify-content: center; margin-left: 0; } 
                #${VOLUME_PERCENTAGE_ID} { display: none; } 
                #${VOLUME_SLIDER_ID} { width: 80px; } 
                #${QUEUE_CONTAINER_ID}:not(.queue-collapsed) { max-height: 100px; }
                #${QUEUE_CONTAINER_ID}:not(.queue-collapsed) #${QUEUE_LIST_ID} { max-height: calc(100px - 2em - var(--spacing-sm)); }
                .${PLAYER_QUEUE_ITEM_CLASS} { padding: var(--spacing-xs); font-size: 12px; }
                .player-queue-item-artist { font-size: 11px; }
            }
        `;
        document.head.appendChild(style);
    }

    async function initializeMusicPlayer() {
        console.log("Setting up music player...");
        try {
            PLAYLISTS_DATA = [
                { name: "Default Mix", songs: SONGS_DATA },
                { name: "Alternate Mix", songs: PLAYLIST_TWO_DATA },
                { name: "Alternate Mix #2", songs: PLAYLIST_THREE_DATA }
            ];

            if (!PLAYLISTS_DATA || PLAYLISTS_DATA.length === 0 || PLAYLISTS_DATA[0].songs.length === 0) {
                console.warn("No default playlist or songs defined. Music player will be empty.");
                playlist = new Playlist([]);
                originalSongOrderForCurrentPlaylist = [];
            } else {
                activePlaylistIndex = 0;
                const initialPlaylistSongsData = PLAYLISTS_DATA[activePlaylistIndex].songs;
                const initialSongs = initialPlaylistSongsData.map(d => new Song(d.title, d.artist, d.coverLink, d.videoId, d.youtubeLink));
                originalSongOrderForCurrentPlaylist = [...initialSongs];
                playlist = new Playlist(initialSongs);
            }

            const playerFragment = createPlayerElements(); 

            if (playlistSelectorElement && PLAYLISTS_DATA && PLAYLISTS_DATA.length > 0) {
                PLAYLISTS_DATA.forEach((pl, index) => {
                    const option = document.createElement("option");
                    option.value = index.toString();
                    option.textContent = pl.name;
                    playlistSelectorElement.appendChild(option);
                });
                playlistSelectorElement.value = activePlaylistIndex.toString();
            }

            const anchorElement = document.getElementById("game_window");
            const targetContainer = (anchorElement && anchorElement.parentNode) ? anchorElement.parentNode : document.body;
            const insertBeforeElement = (anchorElement && anchorElement.parentNode) ? anchorElement.nextSibling : null;
            targetContainer.insertBefore(playerFragment, insertBeforeElement);

            injectPlayerStyles();
            bindUIEventListeners();
            updateUI();

            await loadYouTubeAPI();

            const playerDiv = document.getElementById(YOUTUBE_PLAYER_DIV_ID);
            if (!playerDiv) throw new Error(`Cannot initialize player: Element '${YOUTUBE_PLAYER_DIV_ID}' not found.`);

            ytPlayer = new YT.Player(YOUTUBE_PLAYER_DIV_ID, {
                height: '1', width: '1',
                playerVars: { 'playsinline': 1, 'autoplay': 0, 'controls': 0, 'disablekb': 1, 'modestbranding': 1, 'origin': window.location.origin },
                events: { 'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange, 'onError': onPlayerError }
            });

        } catch (error) {
            console.error("Failed during music player initialization:", error);
            if (titleElement) titleElement.textContent = "Error";
            if (artistElement) artistElement.textContent = "Could not load player.";
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeMusicPlayer);
    } else {
        initializeMusicPlayer();
    }

})();

// Things That Never Were includes a particularly useful "File" section with Information
// on your opponents, among other stuff. This was inspired by that one, albeit it works
// somewhat differently.

(function() {
    const STYLES = {
        dossierBg: 'linear-gradient(135deg, #f4f1e8 0%, #e8e0d0 50%, #ddd4c0 100%)',
        headerBg: 'linear-gradient(90deg, #8b0000 0%, #a52a2a 50%, #8b0000 100%)',
        sectionBg: 'rgba(255, 255, 255, 0.95)',
        activeItemBg: 'linear-gradient(135deg, #fff8f0 0%, #f5f5dc 100%)',
        getActiveHoverBg: () => 'linear-gradient(135deg, #ffffff 0%, #f0efeb 100%)',
        inactiveItemBg: 'rgba(230, 230, 230, 0.5)',
        sabotageRed: '#b71c1c',
        successGreen: '#2e7d32',
        warningAmber: '#f57f17',
        operationBlue: '#1565c0',
        mainFont: '"Georgia", sans-serif',
        badgeFont: '"Times New Roman", serif',
        classifiedRed: '#8b0000',
        textPrimary: '#2c2c2c',
        textSecondary: '#555555',
        textMuted: '#777777',
        borderColor: '#c4a484',
        modalBg: 'rgba(0, 0, 0, 0.75)',
        modalContentBg: '#fdfdfd'
    };

    const CANDIDATE_DATA = [
        { photo: 'https://media.gettyimages.com/id/469812798/pt/foto/washington-dc-republican-presidential-candidate-sen-marco-rubio-speaks-at-the-heritage.jpg?s=612x612&w=0&k=20&c=09hpYaHGfZB3ADaYbZPWVSc3LkWdESpBiYgljF5nxvA=', name: 'Marco Rubio', desc: "Little Marco! A fresh face for the GOP, you think he's more normal than the rest. You'd rather not see him in the general, though.", id: 'RUBIO_2016' },
        { photo: 'https://media.gettyimages.com/id/1372757446/pt/foto/032415-amherst-nh-ohio-governor-john-kasich-a-potential-2016-republican-presidential-candidate.jpg?s=612x612&w=0&k=20&c=WxG7_442nyrjd202vDOqJjUz02tRBpH1DN9lv25Q0o0=', name: 'John Kasich', desc: "Governor of Ohio. His pragmatic approach will get him nowhere in the primaries; you hope he won't mind being Ambassador to Chile.", id: 'KASICH_2016' },
        { photo: 'https://media.gettyimages.com/id/462751638/pt/foto/detroit-mi-former-florida-governor-jeb-bush-speaks-at-the-detroit-economic-club-february-4-2015.jpg?s=612x612&w=0&k=20&c=efg3OktRbAFkvTJQgGXUgCAVl-feagbmXWuQnBPop8Q=', name: 'Jeb Bush', desc: "The former Florida Governor and early favorite. You want him so bad (as the nominee), to end the Bush dynasty for good.", id: 'JEB_2016' },
        { photo: 'https://media.gettyimages.com/id/470246456/pt/foto/nashua-nh-u-s-sen-ted-cruz-speaks-at-the-first-in-the-nation-republican-leadership-summit-april.jpg?s=612x612&w=0&k=20&c=GX3ag9pDmuFdVX2WYKFaY06cmVG2atD0R7WJtfOzkTM=', name: 'Ted Cruz', desc: "Texas Senator and key conservative. You think he wouldn't last 5 minutes in a fight with you.", id: 'CRUZ_2016' },
        { photo: 'https://media.gettyimages.com/id/464539098/pt/foto/chris-christie-governor-of-new-jersey-smiles-during-an-interview-at-the-conservative-political.jpg?s=612x612&w=0&k=20&c=ZkThFfrc683qooRmu2zUS4flGht-G5YLvPXFaEPnX2M=', name: 'Chris Christie', desc: "Governor of New Jersey. In an alternate timeline, he'd have been a credible candiate against your 2012 re-election. Nowadays, though…", id: 'CHRISTIE_2016' },
        { photo: 'https://media.gettyimages.com/id/472770842/pt/foto/ben-carson-republican-2016-u-s-presidential-candidate-gestures-while-speaking-during-the-south.jpg?s=612x612&w=0&k=20&c=r-dX7uX4_wqYNHP0wGUmr5AV007p9TPpBk09dhPr9LY=', name: 'Ben Carson', desc: "The retired neurosurgeon. If he wins the nomination, you don't think you'll have a hard time winning it.", id: 'CARSON_2016' },
        { photo: 'https://media.gettyimages.com/id/467701398/pt/foto/new-york-ny-donald-trump-attends-the-2015-new-york-spring-spectacular-opening-night-at-radio.jpg?s=612x612&w=0&k=20&c=Wtr27WexHwWl2rqWERFtInrE9TeCKRsnxsklBxjTtk0=', name: 'Donald Trump', desc: "The unconventional businessman and reality TV star. You don't expect him to last for long. His campaign is just another publicity stunt, right?", id: 'TRUMP_2016' }
    ];

    // The candidates!
    const VP_CANDIDATE_DETAILS = {
        "Mike Pence": {
            photo: 'https://media.gettyimages.com/id/612697898/pt/foto/republican-vice-presidential-candidate-mike-pence-speaks-on-his-cell-phone-following-the-us.jpg?s=612x612&w=0&k=20&c=eCBNi6SDEhsnD8lAKF_lTpGkyR2UUGODJ42FkNeLFJ0=',
            desc: "Governor of Indiana."
        },
        "Chris Christie": {
            photo: 'https://media.gettyimages.com/id/512495990/pt/foto/fort-worth-tx-new-jersey-governor-chris-christie-announces-his-support-for-republican.jpg?s=612x612&w=0&k=20&c=RM0g1DJxnYA2Gxe-Eq6R43QNHdHsQc3T4eOOYlBWMc8=',
            desc: "Governor of New Jersey."
        },
        "Newt Gingrich": {
            photo: 'https://media.gettyimages.com/id/134862562/pt/foto/washington-dc-newt-gingrich-arrives-at-the-34th-kennedy-center-honors-held-at-the-kennedy.jpg?s=612x612&w=0&k=20&c=-B6qTz0vJc44PTR2ybet1_S7OeZVY0ZgkkNXOi7vX7Q=',
            desc: "Former Speaker of the House."
        },
        "Mike Flynn": {
            photo: 'https://media.gettyimages.com/id/640033060/pt/foto/retired-american-lieutenant-general-michael-t-flynn-addresses-the-republican-national.jpg?s=612x612&w=0&k=20&c=D4HkoKDdpwFGOoB7DaKJpqSCjUESh7u5J5cFVVIMTl8=',
            desc: "Retired Lieutenant General."
        },
        "Sarah Palin": {
            photo: 'https://media.gettyimages.com/id/1457713775/pt/foto/sarah-palin.jpg?s=612x612&w=0&k=20&c=iQkh5a4gQEjs03VG1KdLb_USDLmNAvZ034HFTYBJZ08=',
            desc: "Former Governor of Alaska."
        },
        "Ted Cruz": {
            photo: 'https://media.gettyimages.com/id/467435140/pt/foto/u-s-senator-ted-cruz-a-republican-from-texas-speaks-during-a-bloomberg-television-interview-in.jpg?s=612x612&w=0&k=20&c=xIjC6fLc34cpxS3GGAyur2Ep1TOq_lSIHCCmAgVESNA=',
            desc: "Senator from Texas."
        },
        "Tom Cotton": {
            photo: 'https://media.gettyimages.com/id/466725928/pt/foto/washington-dc-sen-tom-cotton-attends-a-senate-armed-services-committee-hearing-on-capitol-hill.jpg?s=612x612&w=0&k=20&c=hH-UEhj2nJ1q8lT9MVXkOZqOCE_ZG7D3iv9eDbXR3a4=',
            desc: "Senator from Arkansas."
        },
        "Jeff Sessions": {
            photo: 'https://media.gettyimages.com/id/539188274/pt/foto/sen-jeff-sessions-delivers-remarks-during-the-faith-and-freedom-coalition-conference-june-10-in.jpg?s=612x612&w=0&k=20&c=xodnBLIxKyyQ6owuuA0ANdEmv-B3sYFPXJQS_BBb7CU=',
            desc: "Senator from Alabama."
        },
        "Scott Brown": {
            photo: 'https://media.gettyimages.com/id/97756111/pt/foto/new-us-senator-scott-brown-talks-with-the-press-in-the-old-senate-chamber-after-being-sworn-in.jpg?s=612x612&w=0&k=20&c=NWbBkOyfkM3a4BJKnTVFb-4ogFbQ0XlJS0lKO46teTo=',
            desc: "Former Senator from Massachusetts."
        },
        "Bob Corker": {
            photo: 'https://media.gettyimages.com/id/465795280/pt/foto/washington-dc-chairman-bob-corker-participates-in-a-senate-foreign-relations-committee-hearing.jpg?s=612x612&w=0&k=20&c=10N3krIXNNm7fa64_ANhJY958Waw1hNEymEvbX74yOY=',
            desc: "Senator from Tennessee."
        },
        "Mary Fallin": {
            photo: 'https://media.gettyimages.com/id/107236871/pt/foto/washington-dc-oklahoma-governor-elect-mary-fallin-talks-to-reporters-after-meeting-with.jpg?s=612x612&w=0&k=20&c=ZLVbNfPUlqgO_lsdBpUcsrQ7v-6ehEQgIdrCUMje7go=',
            desc: "Governor of Oklahoma."
        }
    };
    
    const VP_RATIONALES = {
        "Mike Pence": "Governor Mike Pence is the consensus choice to unite the party. He is a disciplined messenger who brings deep connections to social conservatives and the party establishment. With your campaign striking a relatively moderate tone so far, Trump’s team has likely opted for a VP who can reassure wavering Republicans and provide a steady, traditional counterpart to Trump’s volatile style.",
        "Chris Christie": "Governor Chris Christie’s selection is likely a nod to his reputation as a political brawler. Given your campaign’s aggressive posture so far, Trump has chosen a running mate who won’t hesitate to go on the attack. Christie was an early endorser of his, and this pick rewards that loyalty while adding a seasoned, if rather controversial, political fighter to the ticket.",
        "Newt Gingrich": "Newt Gingrich. This signals Trump intends to meet your aggressive campaign style with a scorched-earth strategy. Gingrich is a veteran political combatant who knows how to weaponize the media and attack relentlessly; he was Speaker of the House, after all. Just ask Bill how that went for him.",
        "Mike Flynn": "Michael Flynn is a pure base play. With your campaign running on an aggressive, populist platform, Trump is attempting to reinforce his own ’strongman’ image. Flynn, who’s a retired general, adds national security credentials — or, well, at least the appearance of them —, and helps energize his anti-establishment base that believes the system is rigged.",
        "Sarah Palin": "The selection of Sarah Palin seems to be a direct response to your campaign’s powerful populist appeal. Trump’s team is betting that the original anti-establishment icon can supercharge his base and counter your inroads with working-class voters. It’s a high-risk, high-reward move; you know how well it turned out for McCain. Thing is, you’re no Obama, for good or worse.",
        "Ted Cruz": "Senator Ted Cruz. A bit of an astonishing choice, given their primary battles. Your outreach to the Sanders wing of the party has likely spooked them; this move is probably an attempt to lock down the ideological conservative base, maybe fearing you might peel off working-class voters with a more populist message. We’ll see how that goes for them.",
        "Tom Cotton": "Senator Tom Cotton brings a hawkish, yet disciplined, voice to the ticket. Your populist messaging is clearly a concern for the Trump campaign, it seems. Cotton helps them shore up the conservative base on both economic and national security fronts, perhaps presenting a younger, more articulate version of Trump’s ’America First’ ideology.",
        "Jeff Sessions": "Senator Jeff Sessions was one of Trump’s earliest and most influential supporters in Washington. This pick is a reward for that loyalty, and a clear signal that Trump is doubling down on his hardline immigration and nationalist platform. With your campaign making populist appeals, Sessions’ goal is to keep the base energized around Trump’s core issues.",
        "Scott Brown": "Scott Brown, the former Massachusetts Senator, is a curious pick. Our analysis suggests that with your non-confrontational style, Trump’s campaign felt a need to moderate their ticket, although not necessarily their core issues. Brown is their attempt to appeal to swing voters and disillusioned independents who see Trump as too extreme. Keep an eye out for him.",
        "Bob Corker": "Senator Bob Corker is an establishment choice, plain and simple. Your less aggressive campaign style has given Trump an opening to appear more presidential, whatever that means. Corker is the Chairman of the Senate Foreign Relations Committee, and with his pick, Trump may hope to quell fears among Republicans and independents about his temperament and lack of foreign policy experience.",
        "Mary Fallin": "Governor Mary Fallin is a relatively safe, conventional pick. With your campaign running a more traditional race, Trump’s team clearly feels his populist base is secure. Fallin, a female governor, is a strategic choice aimed at softening Trump’s image and making a play for suburban women without alienating his core supporters."
    };
    let selectedTrumpVP = null;

    // sabotage operations, et al.
    const SABOTAGE_OPERATIONS = {
        documentTheft: {
            name: "INTELLIGENCE GATHERING",
            classification: "COVERT ACTION",
            description: "Acquire sensitive information from various sources through multiple operational vectors.",
            baseSuccessRate: 0.65,
            cooldown: 1,
            riskLevel: "MEDIUM",
            operations: [
                {
                    id: "acquire_local_intel",
                    name: "Acquire Local Intel",
                    cost: 5,
                    target: "Selected State Campaign Operations",
                    description: "Deploy field operatives to gather on-the-ground intelligence within a target state.",
                    requiresStateSelection: true,
                    successEffect: (targetStateName) => {
                        const ct_temp = campaignTrail_temp;
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if (!stateEntry) return `State ${targetStateName} not found.`;
                        const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                            f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id
                        );
                        if (stateMult) {
                            stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.015;
                            return `Intel acquired. Our field team in ${targetStateName} indicates the opponent’s ground game is underperforming in the suburban counties. Robby Mook’s analytics team is already folding this into our voter models to reallocate resources.`;
                        }
                        return `Player multiplier for ${targetStateName} not found.`;
                    },
                    failureEffect: (targetStateName) => {
                        politicalCapital = Math.max(0, politicalCapital - 2);
                        return `Operation failed. Our asset couldn’t get close enough to their state-level strategy sessions. No critical intel was gathered, and we’ve wasted some operational funds. (-2 PC)`;
                    }
            },
                {
                    id: "deep_state_reconnaissance",
                    name: "Deep State Reconnaissance",
                    cost: 12,
                    target: "Selected State Campaign Operations",
                    description: "Task a specialized unit to conduct extensive surveillance on your opponent’s core campaign infrastructure within a single state.",
                    requiresStateSelection: true,
                    successEffect: (targetStateName) => {
                        const ct_temp = campaignTrail_temp;
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if (!stateEntry) return `State ${targetStateName} not found.`;

                        const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                            f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id
                        );
                        if (stateMult) {
                            stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.025;

                            const opponentMults = ct_temp.candidate_state_multiplier_json.filter(f =>
                                f.fields.state === stateEntry.pk && f.fields.candidate !== ct_temp.candidate_id
                            );
                            opponentMults.forEach(mult => {
                                mult.fields.state_multiplier = (mult.fields.state_multiplier || 1) * 0.995;
                            });

                            return `Mission accomplished. We’ve mapped their entire command structure in ${targetStateName}, from their field directors down to their key volunteer coordinators. We know their budget, their targets, and their timeline. Mook says we can use this to effectively misdirect their resources for the rest of the campaign.`;
                        }
                        return `Player multiplier for ${targetStateName} not found.`;
                    },
                    failureEffect: (targetStateName) => {
                        politicalCapital = Math.max(0, politicalCapital - 4);
						const ct_temp = campaignTrail_temp;
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if(stateEntry) {
                            const opponentMults = ct_temp.candidate_state_multiplier_json.filter(f => f.fields.state === stateEntry.pk && f.fields.candidate !== ct_temp.candidate_id);
                            opponentMults.forEach(mult => { mult.fields.state_multiplier = (mult.fields.state_multiplier || 1) * 1.005; });
                        }
                        return `Close call. Our operatives were nearly compromised while surveilling the opponent’s state headquarters. They were forced to burn their cover and exfiltrate immediately. We lost the asset and wasted significant resources. (-4 PC).`;
                    }
            },
                {
                    id: "opposition_research_infiltration",
                    name: "Opposition Research Infiltration",
                    cost: 15,
                    target: "Opponent Campaign Infrastructure",
                    description: "Place a covert asset inside the opponent’s national opposition research division. Lots of goodies down there.",
                    requiresStateSelection: false,
                    successEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const swingStates = ['Florida', 'Pennsylvania', 'Iowa', 'Ohio', 'Michigan', 'Wisconsin', 'North Carolina', 'Georgia', 'Arizona', 'New Hampshire'];
                        let affectedStates = [];

                        swingStates.forEach(stateName => {
                            const stateEntry = ct_temp.states_json.find(s => s.fields.name === stateName);
                            if (stateEntry) {
                                const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                                    f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id
                                );
                                if (stateMult) {
                                    stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.02;
                                    affectedStates.push(stateName);
                                }
                            }
                        });

                        return `Paydirt. Our asset successfully exfiltrated a partial copy of their opposition research book on us. We now have advance knowledge of the attack lines they’re planning for the final weeks. Jake Sullivan’s team is already taking a look at this. We've gained strategic advantages in key swing states: ${affectedStates.join(', ')}.`;
                    },
                    failureEffect: () => {
                        politicalCapital = Math.max(0, politicalCapital - 5);
                        return `Negative. The opponent’s research division is like a fortress. Our asset hit a digital firewall and a surprisingly robust internal security protocol. They pulled back before tripping any alarms. We learned one thing: they’re not amateurs. (-5 PC)`;
                    }
            },
                {
                    id: "media_intelligence_network",
                    name: "Media Intelligence Network",
                    cost: 10,
                    target: "Press and Media Operations",
                    description: "Establish intelligence assets within media organizations to gather advance information on coverage and stories.",
                    requiresStateSelection: false,
                    successEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        if (ct_temp.issue_score_json) {
                            ct_temp.issue_score_json.forEach(issue => {
                                if (issue.fields.candidate === ct_temp.candidate_id) {
                                    issue.fields.issue_score = Math.min(1.0, (issue.fields.issue_score || 0) + 0.015);
                                }
                            });
                        }
                        return `Network is live. Our source at a major cable network just gave us a heads-up on a negative story they were developing about the Clinton Foundation. Jennifer Palmieri’s communications team was able to get ahead of it and kill the story before it got legs. Fuck yeah. This asset has already paid for itself.`;
                    },
                    failureEffect: () => {
                        politicalCapital = Math.max(0, politicalCapital - 3);
						const ct_temp = campaignTrail_temp;
                        if (ct_temp.issue_score_json) {
                            ct_temp.issue_score_json.forEach(issue => {
                                if (issue.fields.candidate === ct_temp.candidate_id) {
                                    issue.fields.issue_score = Math.max(0.0, (issue.fields.issue_score || 0) - 0.005);
                                }
                            });
                        }
                        return `Contact lost. It seems our primary media asset got cold feet, citing internal pressure. In other words, they’ve gone dark. The channel is dead for now, and we’ll have to rely on public-facing information like everyone else. Worse; the botched approach has made them suspicious of our motives, resulting in slightly more critical coverage of our campaign. A frustrating setback and a waste of funds. (-3 PC)`
                    }
            },
                {
                    id: "digital_surveillance_operation",
                    name: "Digital Surveillance Operation",
                    cost: 12,
                    target: "Opponent Digital Infrastructure",
                    description: "Conduct cyber-reconnaissance on opponent digital operations, social media strategies, and online fundraising.",
                    requiresStateSelection: false,
                    successEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const nationalMult = ct_temp.candidate_state_multiplier_json.find(f =>
                            f.fields.candidate === ct_temp.candidate_id && f.fields.state === 1 // national
                        );
                        if (nationalMult) {
                            nationalMult.fields.state_multiplier = (nationalMult.fields.state_multiplier || 1) * 1.025;
                        }

                        return `Breach successful. Our digital team has gained access to the opponent’s back-end ad-targeting analytics. We have their voter models, their social media engagement metrics, and their A/B testing results. Mook is so ecstatic you think he’s having an aneurysm.`;
                    },
                    failureEffect: () => {
                        politicalCapital = Math.max(0, politicalCapital - 4);
                        return `Access denied. The opponent’s cyber-defenses are more robust than our initial assessment suggested, unfortunately. Our team was firewalled out before they could access anything of value. Critically, they left no trace of the attempt, but our attempt still cost us. (-4 PC).`;
                    }
            },
                {
                    id: "polling_data_acquisition",
                    name: "Polling Data Acquisition",
                    cost: 10,
                    target: "Private Polling Organizations",
                    description: "Task operatives with acquiring proprietary, internal polling data from private firms contracted by campaigns and Super PACs.",
                    requiresStateSelection: false,
                    successEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const randomStates = ['Pennsylvania', 'Wisconsin', 'Florida', 'Michigan', 'Colorado', 'Arizona', 'Nevada', 'North Carolina', 'Ohio', 'Iowa'];
                        let affectedStates = [];

                        // select 2-3 random states to benefit
                        const numStates = Math.floor(Math.random() * 2) + 2;
                        const selectedStates = randomStates.sort(() => 0.5 - Math.random()).slice(0, numStates);

                        selectedStates.forEach(stateName => {
                            const stateEntry = ct_temp.states_json.find(s => s.fields.name === stateName);
                            if (stateEntry) {
                                const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                                    f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id
                                );
                                if (stateMult) {
                                    stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.022;
                                    affectedStates.push(stateName);
                                }
                            }
                        });

                        return `Data acquired. We’ve obtained a full set of raw polling data from a private firm contracted by a major GOP Super PAC. And not the numbers you’d see on TV; this is the real deal! Mook’s team is running simulations and believes this gives us a two-point visibility advantage in voter targeting in: ${affectedStates.join(', ')}.`;
                    },
                    failureEffect: () => {
                        politicalCapital = Math.max(0, politicalCapital - 3);
                        return `Mission scrubbed. The targeted polling firm keeps their data on an air-gapped server. Our operative couldn’t get physical or remote access without an unacceptable risk of exposure. (-3 PC)`;
                    }
            },
                {
                    id: "donor_intelligence_gathering",
                    name: "Donor Intelligence Gathering",
                    cost: 14,
                    target: "Major Donor Networks",
                    description: "Infiltrate high-society fundraising circles to gather intelligence on the opponent’s major donors.",
                    requiresStateSelection: false,
                    successEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const nationalMult = ct_temp.candidate_state_multiplier_json.find(f =>
                            f.fields.candidate === ct_temp.candidate_id && f.fields.state === 1
                        );
                        if (nationalMult) {
                            nationalMult.fields.state_multiplier = (nationalMult.fields.state_multiplier || 1) * 1.02;
                        }

                        const expensiveStates = ['California', 'New York', 'Florida', 'Texas'];
                        expensiveStates.forEach(stateName => {
                            const stateEntry = ct_temp.states_json.find(s => s.fields.name === stateName);
                            if (stateEntry) {
                                const opponentMults = ct_temp.candidate_state_multiplier_json.filter(f =>
                                    f.fields.state === stateEntry.pk && f.fields.candidate !== ct_temp.candidate_id
                                );
                                opponentMults.forEach(mult => {
                                    mult.fields.state_multiplier = (mult.fields.state_multiplier || 1) * 0.992;
                                });
                            }
                        });

                        return `Intel secured. We’ve confirmed through a source that a key bloc of their Wall Street donors is wavering. They’re concerned about Trump’s temperament and are quietly hedging their bets. We can use this information to subtly peel them away or, at a minimum, ensure their checks don’t get any bigger.`;
                    },
                    failureEffect: () => {
                        politicalCapital = Math.max(0, politicalCapital - 5);
						const ct_temp = campaignTrail_temp;
                        const opponentNationalMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.candidate !== ct_temp.candidate_id && f.fields.state === 1);
                        if (opponentNationalMult) { opponentNationalMult.fields.state_multiplier = (opponentNationalMult.fields.state_multiplier || 1) * 1.008; }
                        return `Our clumsy attempts to probe the opponent’s donor network were detected and leaked. The opponent is now using it to rally their big donors against your 'dirty tricks,' boosting their fundraising. (-5 PC)`;
                    }
            },
                {
                    id: "grassroots_infiltration",
                    name: "Grassroots Infiltration",
                    cost: 12,
                    target: "Opponent Ground Operations",
                    description: "Place undercover operatives inside the opponent’s volunteer and field operations in a key state.",
                    requiresStateSelection: true,
                    successEffect: (targetStateName) => {
                        const ct_temp = campaignTrail_temp;
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if (!stateEntry) return `State ${targetStateName} not found.`;

                        const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                            f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id
                        );
                        if (stateMult) {
                            stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.035;

                            const opponentMults = ct_temp.candidate_state_multiplier_json.filter(f =>
                                f.fields.state === stateEntry.pk && f.fields.candidate !== ct_temp.candidate_id
                            );
                            opponentMults.forEach(mult => {
                                mult.fields.state_multiplier = (mult.fields.state_multiplier || 1) * 0.985;
                            });

                            return `Asset in place! Our operative has successfully embedded within the opponent’s volunteer network in ${targetStateName}. We now have their canvassing lists, phone banking scripts, and Get-Out-the-Vote staging locations. We can counter their ground game with surgical precision.`;
                        }
                        return `Player multiplier for ${targetStateName} not found.`;
                    },
                    failureEffect: (targetStateName) => {
                        politicalCapital = Math.max(0, politicalCapital - 4);
						const ct_temp = campaignTrail_temp;
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if(stateEntry) {
                            const opponentMults = ct_temp.candidate_state_multiplier_json.filter(f => f.fields.state === stateEntry.pk && f.fields.candidate !== ct_temp.candidate_id);
                            opponentMults.forEach(mult => { mult.fields.state_multiplier = (mult.fields.state_multiplier || 1) * 1.01; });
                        }
                        return `Yikes. A sharp-eyed field director flagged our operative for asking too many probing questions. They were politely asked to leave and their access was revoked. They know we’re watching their ground game in ${targetStateName} now, and might use this to rally their volunteers. (-4 PC)`;
                    }
				}
			]
        },
        candidateDeals: {
            name: "POLITICAL ARRANGEMENTS",
            classification: "BACKROOM DEALS",
            description: "Negotiate strategic alliances or disruptions.",
            baseSuccessRate: 0.60,
            cooldown: 2,
            riskLevel: "MEDIUM",
            operations: [
                {
                    id: "mcmullin_utah_deal",
                    name: "McMullin Utah Deal",
                    cost: 6,
                    target: "Evan McMullin Campaign",
                    description: "Provide covert funding to boost McMullin in Utah, in an attempt to boost him and split the conservative vote.",
                    successEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const state = ct_temp.states_json.find(f => f.fields.name === "Utah");
                        if (!state) return "Utah state data not found.";
                        const trumpMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === state.pk && f.fields.candidate === 200);
                        if (trumpMult) trumpMult.fields.state_multiplier = (trumpMult.fields.state_multiplier || 1) * 0.68;
                        const playerMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === state.pk && f.fields.candidate === ct_temp.candidate_id);
                        if (playerMult) playerMult.fields.state_multiplier = (playerMult.fields.state_multiplier || 1) * 0.5;
                        return "The deal is done! Our 'independent' expenditure group has made contact and is now covertly funding a new wave of pro-McMullin ads in the Salt Lake City media market. He’s about to become a major thorn in Trump’s side, exactly as planned. Of course, this comes at a cost of your own vote share there, but it’s not like you were gonna win it, right?";
                    },
                    failureEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const state = ct_temp.states_json.find(f => f.fields.name === "Utah");
                        if (!state) return "Utah state data not found (for failure effect).";
                        const playerMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === state.pk && f.fields.candidate === ct_temp.candidate_id);
                        if (playerMult) playerMult.fields.state_multiplier = (playerMult.fields.state_multiplier || 1) * 0.95;
                        politicalCapital = Math.max(0, politicalCapital - 2);
                        return "Although flattered, McMullin ultimately rejects the deal, preferring to run a 'clean campaign' instead of whatever you’re trying to do. Oh well. The backchannel talks cost us a little political goodwill. (-2 PC)";
                    }
                },
                {
                    id: "johnson_western_push",
                    name: "Boost Gary Johnson (West)",
					cost: 10,
                    target: "Gary Johnson Campaign",
                    description: "Discreetly funnel resources and organizational support to Gary Johnson’s Libertarian campaign in key Western states.",
                    successEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const westernStates = ["Colorado", "Nevada", "New Mexico", "Arizona", "Montana", "Texas", "Wyoming", "Idaho", "North Dakota", "South Dakota",  "Nebraska", "Kansas", "Oklahoma"];
                        let changesMade = false;
                        westernStates.forEach(stateName => {
                            const state = ct_temp.states_json.find(f => f.fields.name === stateName);
                            if (state) {
                                const trumpMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === state.pk && f.fields.candidate === 200);
                                if (trumpMult) {
                                    trumpMult.fields.state_multiplier = (trumpMult.fields.state_multiplier || 1) * 0.97;
                                    changesMade = true;
                                }
                                const johnsonMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === state.pk && f.fields.candidate === 202);
                                if (johnsonMult) {
                                    johnsonMult.fields.state_multiplier = (johnsonMult.fields.state_multiplier || 1) * 1.15;
                                    changesMade = true;
                                } else {
                                    ct_temp.candidate_state_multiplier_json.push({ pk: Math.floor(Math.random() * 1000000), fields: { candidate: 202, state: state.pk, state_multiplier: 1.15, running_mate: false } });
                                    changesMade = true;
                                }
                            }
                        });
                        return changesMade ? "Arrangement successful! Johnson’s campaign was more than happy to accept the 'anonymous' donation to their Super PAC. They’re already using the funds to run ads in Denver and Las Vegas, hitting Trump on his authoritarian rhetoric. It’s a perfect split of the vote." : "Could not apply Johnson boost (Western state data issue).";
                    },
                    failureEffect: () => {
                        const ct_temp = campaignTrail_temp;
                        const westernStates = ["Colorado", "Nevada", "New Mexico", "Arizona", "Montana", "Texas", "Wyoming", "Idaho", "North Dakota", "South Dakota",  "Nebraska", "Kansas", "Oklahoma"];
                        let changesMade = false;
                        westernStates.forEach(stateName => {
                            const state = ct_temp.states_json.find(f => f.fields.name === stateName);
                            if (state) {
                                const trumpMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === state.pk && f.fields.candidate === 200);
                                if (trumpMult) {
                                    trumpMult.fields.state_multiplier = (trumpMult.fields.state_multiplier || 1) * 1.01;
                                    changesMade = true;
                                }
                            }
                        });
                        politicalCapital = Math.max(0, politicalCapital - 3);
                        return changesMade ? "The deal fell through. Johnson got wind of the backchannel offer and personally vetoed it. He was worried that any hint of coordination would make them look like our puppets and destroy their credibility with libertarians. The bad thing is that it was leaked by a Johnson staffer, and now Trump is hammering you for trying to 'rig the election with dirty tricks'. (-3 PC)" : "Johnson deal failure had no discernible impact (Western state data issue).";
                    }
                }
            ]
        },
        influenceOps: {
            name: "INFLUENCE OPERATIONS",
            classification: "SOFT POWER",
            description: "Secure strategic endorsements or sway public opinion.",
            baseSuccessRate: 0.70,
            cooldown: 1,
            riskLevel: "LOW",
            operations: [
                {
                    id: "launch_media_blitz",
                    name: "Launch Regional Media Blitz",
                    cost: 4,
                    target: "Selected State Media Outlets",
                    description: "Saturate a target state’s local media market—including local TV, radio, and newspapers with a highly focused advertising and PR campaign.",
                    requiresStateSelection: true,
                    successEffect: (targetStateName) => {
                        const ct_temp = campaignTrail_temp;
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if (!stateEntry) return `State ${targetStateName} not found.`;
                        const stateMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id);
                        if (stateMult) { stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.01; return `Your media blitz in ${targetStateName} successful. God bless the local media markets. Local news coverage has been noticeably more positive in the last 48 hours, and our internal tracking polls show a slight uptick in your favorability.`; }
                        return `Player multiplier for ${targetStateName} not found.`;
                    },
                    failureEffect: (targetStateName) => `Your media blitz in ${targetStateName} was ineffective; our ads were completely drowned out by the national coverage of Trump’s latest Twitter meltdown. It feels like we threw a million dollars into a black hole with nothing to show for it. What the hell.`
                },
                {
                    id: "secure_union_support",
                    name: "Secure Union Support",
                    cost: 5,
                    target: "Selected State Union Leaders",
                    description: "Engage in backchannel negotiations with influential union leaders in a target state.",
                    requiresStateSelection: true,
                    successEffect: (targetStateName) => {
                        const ct_temp = campaignTrail_temp;
                        let message = "";
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if (stateEntry) {
                            const stateMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id);
                            if (stateMult) {
                                stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.012;
                                message += `After some tense negotiations, the leadership of the local Steelworkers union in  ${targetStateName} has agreed to back us. They’re activating their phone banks and putting boots on the ground for us this weekend. This is a huge boost to our ground game. `;
                            } else { message += `Could not apply union boost in ${targetStateName} (player multiplier not found). `; }
                        } else { message += `Could not apply union boost (state ${targetStateName} not found). `; }
                        return message || "Union negotiations concluded.";
                    },
                    failureEffect: (targetStateName) => {
                        const ct_temp = campaignTrail_temp;
                        let message = `Union negotiations in ${targetStateName} stalled. `;
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                        if (stateEntry) {
                            const stateMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === stateEntry.pk && f.fields.candidate === ct_temp.candidate_id);
                            politicalCapital = Math.max(0, politicalCapital - 2);
                            if (stateMult) {
                                stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 0.995;
                                message += `Negotiations stalled. The local union’s rank-and-file is more pro-Trump than the leadership is willing to admit, believe it or not. They couldn’t guarantee their members would follow their lead, so they backed away from a formal endorsement to avoid internal division. We get nothing.`;
                            } else { message += `No direct impact on local support (player multiplier not found).`; }
                        } else { message += `No direct impact on local support (state ${targetStateName} not found).`; }
                        return message;
                    }
                }
            ]
        }
    };

    let operationHistory = { completed: [], cooldowns: {}, lastQuestionNumber: 1 };
    let dossierSavedX = null,
        dossierSavedY = null;
    let politicalCapital = 25; // default value
    const PC_BOOST_COST = 5;
    const PC_BOOST_EFFECT = 0.15; // +15% success chance

    let lastKnownQuestionNumber = 0;

    // --- utility functions ---
    function getCurrentQuestionNumber() { if (typeof campaignTrail_temp !== 'undefined' && campaignTrail_temp !== null && typeof campaignTrail_temp.question_number !== 'undefined' && campaignTrail_temp.question_number !== null) { const qn = parseInt(campaignTrail_temp.question_number, 10); return !isNaN(qn) && qn >= 1 ? qn : 1; } return 1; }

    function updateCooldowns() {
        const calculatePcGain = () => Math.floor(Math.random() * 6) + 3;
        const currentQ = getCurrentQuestionNumber();
        const questionsAdvanced = currentQ - operationHistory.lastQuestionNumber;

        if (questionsAdvanced > 0) {
            let totalPcGained = 0;
            for (let i = 0; i < questionsAdvanced; i++) {
                totalPcGained += calculatePcGain();
            }

            politicalCapital += totalPcGained;

            for (const [key, cooldown] of Object.entries(operationHistory.cooldowns)) {
                if (cooldown > 0) {
                    operationHistory.cooldowns[key] = Math.max(0, cooldown - questionsAdvanced);
                }
            }
            operationHistory.lastQuestionNumber = currentQ;
        }
    }

    function getAvailableOperations() {
        if (typeof campaignTrail_temp === 'undefined' || campaignTrail_temp === null) return [];
        const available = [];
        for (const [categoryKey, categoryData] of Object.entries(SABOTAGE_OPERATIONS)) { if (!operationHistory.cooldowns[categoryKey] || operationHistory.cooldowns[categoryKey] <= 0) { for (const operation of categoryData.operations) { if (!operationHistory.completed.includes(operation.id)) { available.push({ ...operation, category: categoryKey, categoryData }); } } } }
        return available;
    }

    // --- state selection modal ---
    function showStateSelectionModal(operation) {
        const ct_temp = campaignTrail_temp;
        if (!ct_temp || !ct_temp.states_json) { alert("Error: State data is not available for selection."); return; }
        const existingModal = document.getElementById('dossierStateSelectionModal');
        if (existingModal) existingModal.remove();
        const modalOverlay = document.createElement('div');
        modalOverlay.id = 'dossierStateSelectionModal';
        Object.assign(modalOverlay.style, { position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', backgroundColor: STYLES.modalBg, zIndex: '2001', display: 'flex', alignItems: 'center', justifyContent: 'center' });
        const modalContent = document.createElement('div');
        Object.assign(modalContent.style, { background: STYLES.modalContentBg, padding: '2em 1em', border: '5px double #0c0255', borderRadius: '8px', fontFamily: STYLES.mainFont, boxShadow: '0 5px 15px rgba(0,0,0,0.3)', minWidth: '300px', textAlign: 'center' });
        const title = document.createElement('h3');
        title.textContent = `Select target state for: ${operation.name}`;
        title.style.fontFamily = STYLES.mainFont;
        title.style.color = STYLES.operationBlue;
        title.style.margin = '0 0 1.5em 0';
        const selectLabel = document.createElement('label');
        selectLabel.textContent = 'Target state: ';
        selectLabel.style.fontSize = '12px';
        selectLabel.style.marginRight = '10px';
        const stateSelect = document.createElement('select');
        stateSelect.id = 'dossierStatePicker';
        Object.assign(stateSelect.style, { padding: '8px', fontFamily: STYLES.mainFont, fontSize: '14px', border: `1px solid ${STYLES.borderColor}`, borderRadius: '4px' });
        ct_temp.states_json.forEach(state => {
            const option = document.createElement('option');
            option.value = state.fields.name;
            option.textContent = state.fields.name;
            stateSelect.appendChild(option);
        });
        const buttonContainer = document.createElement('div');
        buttonContainer.style.marginTop = '20px';
        const confirmButton = document.createElement('button');
        confirmButton.textContent = 'Confirm operation';
        Object.assign(confirmButton.style, { padding: '10px 15px', background: STYLES.successGreen, color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', fontFamily: STYLES.mainFont, marginRight: '10px', transition: 'background-color 0.2s' });
        confirmButton.onmouseover = () => confirmButton.style.background = '#388e3c';
        confirmButton.onmouseout = () => confirmButton.style.background = STYLES.successGreen;
        const cancelButton = document.createElement('button');
        cancelButton.textContent = 'Cancel';
        Object.assign(cancelButton.style, { padding: '10px 15px', background: STYLES.sabotageRed, color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', fontFamily: STYLES.mainFont, transition: 'background-color 0.2s' });
        cancelButton.onmouseover = () => cancelButton.style.background = '#c62828';
        cancelButton.onmouseout = () => cancelButton.style.background = STYLES.sabotageRed;
        confirmButton.onclick = () => {
            const selectedState = stateSelect.value;
            modalOverlay.remove(); // close the state selection modal first
            showExecutionModal(operation, selectedState); // then open the execution modal
        };
        cancelButton.onclick = () => modalOverlay.remove();
        modalOverlay.onclick = (e) => { if (e.target === modalOverlay) modalOverlay.remove(); };
        modalContent.appendChild(title);
        modalContent.appendChild(selectLabel);
        modalContent.appendChild(stateSelect);
        buttonContainer.appendChild(confirmButton);
        buttonContainer.appendChild(cancelButton);
        modalContent.appendChild(buttonContainer);
        modalOverlay.appendChild(modalContent);
        document.body.appendChild(modalOverlay);
    }
    
    function showExecutionModal(operation, targetStateName = null) {
        const existingModal = document.getElementById('dossierExecutionModal');
        if (existingModal) existingModal.remove();

        const baseCost = operation.cost;
        const boostedCost = baseCost + PC_BOOST_COST;
        const canAffordBase = politicalCapital >= baseCost;
        const canAffordBoost = politicalCapital >= boostedCost;

        const baseSuccessRate = operation.categoryData.baseSuccessRate;
        const boostedSuccessRate = Math.min(0.98, baseSuccessRate + PC_BOOST_EFFECT);

        const modalOverlay = document.createElement('div');
        modalOverlay.id = 'dossierExecutionModal';
        Object.assign(modalOverlay.style, { position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', backgroundColor: STYLES.modalBg, zIndex: '2002', display: 'flex', alignItems: 'center', justifyContent: 'center' });

        const modalContent = document.createElement('div');
        Object.assign(modalContent.style, { background: STYLES.modalContentBg, padding: '2em', border: '5px double #0c0255', borderRadius: '8px', fontFamily: STYLES.mainFont, boxShadow: '0 5px 15px rgba(0,0,0,0.3)', width: '450px', textAlign: 'center' });

        const title = document.createElement('h3');
        title.textContent = `Operation: ${operation.name}`;
        title.style.fontFamily = STYLES.mainFont;
        title.style.color = STYLES.operationBlue;
        title.style.margin = '0 0 1em 0';

        const targetInfo = document.createElement('p');
        if (targetStateName) {
            targetInfo.innerHTML = `<strong>Target:</strong> ${operation.target} <em>(in ${targetStateName})</em>`;
        } else {
            targetInfo.innerHTML = `<strong>Target:</strong> ${operation.target}`;
        }
        targetInfo.style.fontSize = '12px';
        targetInfo.style.color = STYLES.textSecondary;
        targetInfo.style.margin = '0 0 1.5em 0';

        modalContent.appendChild(title);
        modalContent.appendChild(targetInfo);

        // Standard Execution option
        const standardOption = document.createElement('button');
        standardOption.innerHTML = `
			<div style="font-weight: bold; font-size: 14px;">Standard Execution</div>
			<div style="font-size: 11px;">Cost: ${baseCost} PC | Chance: ${Math.round(baseSuccessRate * 100)}%</div>
		`;
        Object.assign(standardOption.style, { width: '100%', padding: '12px', border: `2px solid ${STYLES.operationBlue}`, borderRadius: '4px', cursor: 'pointer', background: 'white', fontFamily: STYLES.mainFont, marginBottom: '10px', transition: 'all 0.2s ease' });
        standardOption.onmouseover = () => {
            if (canAffordBase) standardOption.style.borderColor = '#1976d2';
            standardOption.style.background = '#f0f8ff';
        };
        standardOption.onmouseout = () => {
            standardOption.style.borderColor = STYLES.operationBlue;
            standardOption.style.background = 'white';
        };
        standardOption.onclick = () => executeOperation(operation, baseCost, baseSuccessRate, targetStateName);

        // Boosted Execution option
        const boostedOption = document.createElement('button');
        boostedOption.innerHTML = `
			<div style="font-weight: bold; font-size: 14px; color: ${STYLES.successGreen};">Boost Funding</div>
			<div style="font-size: 11px;">Cost: ${boostedCost} PC | Chance: ${Math.round(boostedSuccessRate * 100)}%</div>
		`;
        Object.assign(boostedOption.style, { width: '100%', padding: '12px', border: `2px solid ${STYLES.successGreen}`, borderRadius: '4px', cursor: 'pointer', background: 'white', fontFamily: STYLES.mainFont, transition: 'all 0.2s ease' });
        boostedOption.onmouseover = () => {
            if (canAffordBoost) boostedOption.style.borderColor = '#388e3c';
            boostedOption.style.background = '#f1f8e9';
        };
        boostedOption.onmouseout = () => {
            boostedOption.style.borderColor = STYLES.successGreen;
            boostedOption.style.background = 'white';
        };
        boostedOption.onclick = () => executeOperation(operation, boostedCost, boostedSuccessRate, targetStateName);

        if (!canAffordBase) {
            standardOption.disabled = true;
            Object.assign(standardOption.style, { opacity: 0.5, cursor: 'not-allowed', borderColor: '#ccc' });
            standardOption.innerHTML += `<div style="color: ${STYLES.sabotageRed}; font-size: 10px; margin-top: 4px;">INSUFFICIENT CAPITAL</div>`;
        }
        if (!canAffordBoost) {
            boostedOption.disabled = true;
            Object.assign(boostedOption.style, { opacity: 0.5, cursor: 'not-allowed', borderColor: '#ccc' });
            boostedOption.innerHTML += `<div style="color: ${STYLES.sabotageRed}; font-size: 10px; margin-top: 4px;">INSUFFICIENT CAPITAL</div>`;
        }

        modalContent.appendChild(standardOption);
        modalContent.appendChild(boostedOption);

        // cancel Button
        const cancelButton = document.createElement('button');
        cancelButton.textContent = 'Cancel Operation';
        Object.assign(cancelButton.style, { marginTop: '20px', padding: '8px 15px', background: STYLES.textMuted, color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', fontFamily: STYLES.mainFont });
        cancelButton.onclick = () => modalOverlay.remove();
        modalContent.appendChild(cancelButton);

        modalOverlay.appendChild(modalContent);
        document.body.appendChild(modalOverlay);
    }
    
    // --- operation, excecution & result ---
    function executeOperation(operation, cost, successChance, targetStateName = null) {
        const ct_temp = campaignTrail_temp;
        if (!ct_temp || politicalCapital < cost) {
            alert("Error: Cannot execute operation. (Insufficient PC or game data missing)");
            return;
        }
		floor13 = true;

        // close any open modals
        const dossierModal = document.getElementById('popOutMenu');
        if (dossierModal) closeDossier();
        const execModal = document.getElementById('dossierExecutionModal');
        if (execModal) execModal.remove();

        politicalCapital -= cost; // deduct the cost immediately

        const isSuccess = Math.random() < successChance;
        let resultMessage;

        try {
            if (isSuccess) {
                resultMessage = operation.successEffect(targetStateName);
            } else {
                resultMessage = operation.failureEffect(targetStateName);
            }
        } catch (e) {
            console.error("Error executing operation effect:", operation.id, e);
            resultMessage = "A critical error occurred during the operation. Check the console for details.";
        }

        showOperationResult(operation, isSuccess, resultMessage);

        operationHistory.completed.push(operation.id);
        operationHistory.cooldowns[operation.category] = operation.categoryData.cooldown;

        // Update the dossier button indicator after a short delay
        setTimeout(() => {
            const button = document.getElementById('dossier_button');
            if (button) {
                const availableOps = getAvailableOperations();
                button.innerHTML = availableOps.length > 0 ? 'Dossier (+)' : 'Dossier';
                button.style.boxShadow = availableOps.length > 0 ? '0 0 4px rgba(255, 215, 0, 0.6)' : '';
            }
        }, 100);
    }

    function showOperationResult(operation, success, message) {
        const overlay = document.createElement('div');
        Object.assign(overlay.style, { position: 'fixed', top: '0', left: '0', width: '100%', height: '100%', background: 'rgba(0, 0, 0, 0.8)', zIndex: '2000', display: 'flex', alignItems: 'center', justifyContent: 'center' });
        const popup = document.createElement('div');
        Object.assign(popup.style, { background: STYLES.dossierBg, padding: '25px', borderRadius: '8px', border: `3px solid ${success ? STYLES.successGreen : STYLES.sabotageRed}`, maxWidth: '500px', textAlign: 'center', fontFamily: STYLES.mainFont, boxShadow: '0 8px 32px rgba(0,0,0,0.5)' });
        const statusHeader = document.createElement('h2');
        statusHeader.innerHTML = success ? 'OPERATION SUCCESS' : 'OPERATION COMPROMISED';
        Object.assign(statusHeader.style, { color: success ? STYLES.successGreen : STYLES.sabotageRed, fontFamily: STYLES.mainFont, fontSize: '18px', margin: '0 0 15px 0', letterSpacing: '2px' });
        const operationNameEl = document.createElement('div');
        operationNameEl.textContent = operation.name.toUpperCase();
        Object.assign(operationNameEl.style, { fontFamily: STYLES.mainFont, fontSize: '14px', fontWeight: 'bold', color: STYLES.textPrimary, marginBottom: '10px' });
        const resultMessageEl = document.createElement('div');
        resultMessageEl.textContent = message;
        Object.assign(resultMessageEl.style, { fontSize: '13px', lineHeight: '1.5', color: STYLES.textSecondary, marginBottom: '20px' });
        const closeBtn = document.createElement('button');
        closeBtn.textContent = 'ACKNOWLEDGED';
        Object.assign(closeBtn.style, { padding: '8px 16px', background: success ? STYLES.successGreen : STYLES.sabotageRed, color: 'white', border: 'none', borderRadius: '3px', fontFamily: STYLES.mainFont, fontSize: '11px', cursor: 'pointer', letterSpacing: '1px' });
        closeBtn.onclick = () => overlay.remove();
        overlay.onclick = (e) => { if (e.target === overlay) overlay.remove(); };
        popup.appendChild(statusHeader);
        popup.appendChild(operationNameEl);
        popup.appendChild(resultMessageEl);
        popup.appendChild(closeBtn);
        overlay.appendChild(popup);
        document.body.appendChild(overlay);
    }

    // --- select VP ---
    function selectAndPrepareTrumpVP() {
        if (typeof getTrumpVP !== 'function') {
            console.error("Dossier Error: Global 'getTrumpVP' function not found.");
            return { name: "Mike Pence", ...VP_CANDIDATE_DETAILS["Mike Pence"] };
        }
        const pScore = typeof populistScore !== 'undefined' ? populistScore : 0;
        const aScore = typeof aggressiveScore !== 'undefined' ? aggressiveScore : 0;
        const chosenVPName = getTrumpVP(pScore, aScore, window.embracedSanders, window.tookResponsibilityForEmails);
        if (VP_CANDIDATE_DETAILS[chosenVPName]) {
            return { name: chosenVPName, ...VP_CANDIDATE_DETAILS[chosenVPName] };
        } else {
            console.error(`Dossier Error: VP "${chosenVPName}" has no details. Defaulting.`);
            return { name: "Mike Pence", ...VP_CANDIDATE_DETAILS["Mike Pence"] };
        }
    }

    // refresh the dossier content on the fly
    function refreshDossierContent() {
        const popOutMenu = document.getElementById('popOutMenu');
        // Do nothing if the dossier isn't open
        if (!popOutMenu) {
            return;
        }

        // run the update logic
        updateCooldowns();
        
        // update the Political Capital in the header
        const pcDisplay = document.getElementById('dossier_pc_display');
        if (pcDisplay) {
            pcDisplay.textContent = `POLITICAL CAPITAL: ${politicalCapital}`;
        }

        // find the content area and the active tab
        const tabContentArea = document.getElementById('dossier_tab_content_area');
        const activeTab = popOutMenu.querySelector('.dossier-tab.active');

        if (!tabContentArea || !activeTab) {
            console.warn("Dossier refresh failed: could not find content area or active tab.");
            return;
        }

        // re-render the content of the currently active tab
        if (activeTab.textContent.includes('CANDIDATES')) {
            showCandidatesSection(tabContentArea);
        } else if (activeTab.textContent.includes('OPERATIONS')) {
            showOperationsSection(tabContentArea);
        }
    }

    // --- dossier ui creation ---
    function openDossier(event) {
        let popOutMenu = document.getElementById('popOutMenu');
        if (popOutMenu) popOutMenu.remove();
        updateCooldowns();

        if (typeof campaignTrail_temp === 'undefined' || campaignTrail_temp === null) { alert("Dossier cannot be opened: Critical game data (campaignTrail_temp) is not available."); return; }
        // reset VP and PC if game restarted
        if (campaignTrail_temp.question_number === 1 && operationHistory.lastQuestionNumber !== 1) {
            operationHistory = { completed: [], cooldowns: {}, lastQuestionNumber: 1 };
            selectedTrumpVP = null;
            politicalCapital = 25;
        }

        const fragment = document.createDocumentFragment();
        popOutMenu = document.createElement('div');
        popOutMenu.id = 'popOutMenu';
        Object.assign(popOutMenu.style, {
            position: 'absolute',
            width: '480px',
            background: STYLES.dossierBg,
            boxShadow: '0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.8)',
            border: `3px solid ${STYLES.borderColor}`,
            borderRadius: '8px',
            zIndex: '1000',
            fontFamily: STYLES.mainFont,
            overflow: 'hidden',
            display: 'flex',
            flexDirection: 'column',
            transition: 'opacity 0.3s ease-in-out',
            touchAction: 'manipulation'
        });

        const docHeader = document.createElement('div');
        docHeader.className = 'dossier-drag-header';
        Object.assign(docHeader.style, {
            background: STYLES.headerBg,
            color: '#ffffff',
            padding: '10px 15px',
            borderBottom: `2px solid ${STYLES.borderColor}`,
            position: 'relative',
            boxShadow: '0 2px 4px rgba(0,0,0,0.2)',
            textAlign: 'center'
        });
        const menuTitle = document.createElement('h1');
        menuTitle.textContent = 'THE DOSSIER';
        Object.assign(menuTitle.style, {
            fontFamily: STYLES.mainFont,
            color: '#ffffff',
            textShadow: '1px 1px 2px rgba(0,0,0,0.5)',
            margin: '0',
            fontSize: '22px',
            lineHeight: '1.2',
            letterSpacing: '1px'
        });
        const pcDisplay = document.createElement('span');
        pcDisplay.id = 'dossier_pc_display';
        pcDisplay.textContent = `POLITICAL CAPITAL: ${politicalCapital}`;
        Object.assign(pcDisplay.style, {
            fontSize: '11px',
            fontWeight: 'normal',
            letterSpacing: '0.5px',
            display: 'block',
            marginTop: '4px',
            opacity: '0.8'
        });
        docHeader.appendChild(menuTitle);
        docHeader.appendChild(pcDisplay);
        fragment.appendChild(docHeader);

        const contentOuterContainer = document.createElement('div');
        Object.assign(contentOuterContainer.style, { padding: '15px', flexGrow: '1', overflow: 'hidden', display: 'flex', flexDirection: 'column' });
        const tabContainer = document.createElement('div');
        Object.assign(tabContainer.style, { display: 'flex', marginBottom: '15px', borderBottom: `1px solid ${STYLES.borderColor}` });
        const candidatesTab = createTab('CANDIDATES', true);
        const operationsTab = createTab('OPERATIONS', false);
        const tabContentArea = document.createElement('div');
        tabContentArea.id = 'dossier_tab_content_area';
        Object.assign(tabContentArea.style, { flexGrow: '1', overflowY: 'auto', paddingRight: '10px', marginRight: '-10px' });
        candidatesTab.onclick = () => {
            switchTab(candidatesTab, [operationsTab]);
            showCandidatesSection(tabContentArea);
        };
        operationsTab.onclick = () => {
            switchTab(operationsTab, [candidatesTab]);
            showOperationsSection(tabContentArea);
        };
        tabContainer.appendChild(candidatesTab);
        tabContainer.appendChild(operationsTab);
        contentOuterContainer.appendChild(tabContainer);
        contentOuterContainer.appendChild(tabContentArea);
        fragment.appendChild(contentOuterContainer);

        const docFooter = document.createElement('div');
        Object.assign(docFooter.style, { padding: '10px 15px', borderTop: `1px solid ${STYLES.borderColor}`, background: 'rgba(0,0,0,0.05)', textAlign: 'right' });
        const closeButton = document.createElement('button');
        closeButton.innerHTML = '✕ CLOSE';
        Object.assign(closeButton.style, {
            padding: '8px 15px',
            cursor: 'pointer',
            background: STYLES.textSecondary,
            color: 'white',
            border: 'none',
            borderRadius: '3px',
            fontFamily: STYLES.mainFont,
            fontSize: '11px',
            fontWeight: 'bold',
            letterSpacing: '0.5px',
            transition: 'all 0.2s ease'
        });
        closeButton.onmouseover = () => { closeButton.style.backgroundColor = STYLES.textPrimary; };
        closeButton.onmouseout = () => { closeButton.style.backgroundColor = STYLES.textSecondary; };
        closeButton.onclick = closeDossier;
        docFooter.appendChild(closeButton);
        fragment.appendChild(docFooter);
        popOutMenu.appendChild(fragment);
        document.body.appendChild(popOutMenu);
        showCandidatesSection(tabContentArea);
        const escHandler = (e) => { if (e.key === 'Escape' && document.getElementById('popOutMenu')) closeDossier(); };
        document.addEventListener('keydown', escHandler);
        popOutMenu._escHandler = escHandler;
        const recoverButton = document.createElement('button');
        recoverButton.textContent = '⌂';
        recoverButton.title = 'Center document';
        Object.assign(recoverButton.style, { position: 'absolute', top: '8px', right: '8px', width: '24px', height: '24px', padding: '0', fontSize: '12px', lineHeight: '1', background: 'rgba(255,255,255,0.9)', border: `1px solid ${STYLES.borderColor}`, borderRadius: '3px', cursor: 'pointer', zIndex: '5', fontFamily: STYLES.mainFont });
        recoverButton.onclick = (e) => {
            e.stopPropagation();
            centerMenuOnScreen(popOutMenu);
        };
        popOutMenu.appendChild(recoverButton);
        makeDraggable(popOutMenu);
        positionDossierWindow(popOutMenu, event);
        requestAnimationFrame(() => {
            const headerH = docHeader.offsetHeight;
            const footerH = docFooter.offsetHeight;
            const tabsH = tabContainer.offsetHeight;
            const paddingAndMargins = 15 + 15 + 15;
            const availableHeightForContent = popOutMenu.offsetHeight - headerH - footerH - tabsH - paddingAndMargins;
            tabContentArea.style.maxHeight = Math.max(200, availableHeightForContent) + 'px';
        });
    }

    function createTab(text, active) {
        const tab = document.createElement('button');
        tab.className = 'dossier-tab';
        tab.textContent = text;
        Object.assign(tab.style, {
            flex: '1',
            padding: '8px 16px',
            border: 'none',
            background: active ? STYLES.sectionBg : 'rgba(255,255,255,0.3)',
            color: active ? STYLES.classifiedRed : STYLES.textSecondary,
            fontFamily: STYLES.mainFont,
            fontSize: '11px',
            fontWeight: 'bold',
            cursor: 'pointer',
            borderBottom: active ? `2px solid ${STYLES.classifiedRed}` : 'none',
            transition: 'all 0.2s ease',
            marginRight: '5px'
        });
        tab.style.borderTopLeftRadius = '3px';
        tab.style.borderTopRightRadius = '3px';
        tab.onmouseover = () => { if (!tab.classList.contains('active')) tab.style.background = 'rgba(255,255,255,0.5)'; };
        tab.onmouseout = () => { if (!tab.classList.contains('active')) tab.style.background = 'rgba(255,255,255,0.3)'; };
        if (active) tab.classList.add('active');
        return tab;
    }

    function switchTab(activeTab, inactiveTabs) {
        inactiveTabs.forEach(tab => {
            tab.classList.remove('active');
            tab.style.background = 'rgba(255,255,255,0.3)';
            tab.style.color = STYLES.textSecondary;
            tab.style.borderBottom = 'none';
        });
        activeTab.classList.add('active');
        activeTab.style.background = STYLES.sectionBg;
        activeTab.style.color = STYLES.classifiedRed;
        activeTab.style.borderBottom = `2px solid ${STYLES.classifiedRed}`;
    }

    function showCandidatesSection(container) {
        container.innerHTML = '';
        const sectionHeader = document.createElement('div');
        Object.assign(sectionHeader.style, { background: STYLES.sectionBg, padding: '10px 15px', marginBottom: '15px', border: `1px solid ${STYLES.borderColor}`, borderRadius: '4px', boxShadow: 'inset 0 1px 3px rgba(0,0,0,0.1)' });
        const opponentsTitle = document.createElement('h2');
        opponentsTitle.innerHTML = '◆ SUBJECT PROFILES';
        Object.assign(opponentsTitle.style, { fontFamily: STYLES.mainFont, color: STYLES.classifiedRed, margin: '0 0 5px 0', fontSize: '14px', fontWeight: 'bold', letterSpacing: '1px' });
        sectionHeader.appendChild(opponentsTitle);
        const subtitle = document.createElement('p');
        subtitle.innerHTML = '<em>Intelligence Assessment:</em> One of these individuals will likely be the Republican nominee. The others… well, they tried.';
        Object.assign(subtitle.style, { margin: '0', fontSize: '12px', color: STYLES.textSecondary, lineHeight: '1.4', fontStyle: 'normal' });
        sectionHeader.appendChild(subtitle);
        container.appendChild(sectionHeader);
        const candidatesListContainer = buildCandidatesList();
        container.appendChild(candidatesListContainer);
    }

    function showOperationsSection(container) {
        container.innerHTML = '';
        const sectionHeader = document.createElement('div');
        Object.assign(sectionHeader.style, { background: STYLES.sectionBg, padding: '10px 15px', marginBottom: '15px', border: `1px solid ${STYLES.borderColor}`, borderRadius: '4px', boxShadow: 'inset 0 1px 3px rgba(0,0,0,0.1)' });
        const operationsTitle = document.createElement('h2');
        operationsTitle.innerHTML = '◆ COVERT OPERATIONS';
        Object.assign(operationsTitle.style, { fontFamily: STYLES.mainFont, color: STYLES.sabotageRed, margin: '0 0 5px 0', fontSize: '14px', fontWeight: 'bold', letterSpacing: '1px' });
        sectionHeader.appendChild(operationsTitle);
        const operationsSubtitle = document.createElement('p');
        operationsSubtitle.innerHTML = '<em>Strategic Actions:</em> Undertake missions to gain an edge. Consider risks and rewards carefully.';
        Object.assign(operationsSubtitle.style, { margin: '0', fontSize: '12px', color: STYLES.textSecondary, lineHeight: '1.4', fontStyle: 'normal' });
        sectionHeader.appendChild(operationsSubtitle);
        container.appendChild(sectionHeader);
        const availableOps = getAvailableOperations();
        const operationsListContainer = buildOperationsList(availableOps);
        container.appendChild(operationsListContainer);
    }

    function buildCandidatesList() {
        const container = document.createElement('div');
        const statusLegend = document.createElement('div');
        Object.assign(statusLegend.style, { display: 'flex', justifyContent: 'space-around', marginBottom: '15px', padding: '8px', background: 'rgba(255,255,255,0.7)', border: `1px dashed ${STYLES.borderColor}`, borderRadius: '3px', fontSize: '10px', fontFamily: STYLES.badgeFont });
        const activeStatus = document.createElement('span');
        activeStatus.innerHTML = '● ACTIVE CAMPAIGN';
        activeStatus.style.color = STYLES.classifiedRed;
        activeStatus.style.fontWeight = 'bold';
        const inactiveStatus = document.createElement('span');
        inactiveStatus.innerHTML = '○ SUSPENDED/WITHDRAWN';
        inactiveStatus.style.color = STYLES.textMuted;
        statusLegend.appendChild(activeStatus);
        statusLegend.appendChild(inactiveStatus);
        container.appendChild(statusLegend);

        const menuList = document.createElement('div');
        Object.assign(menuList.style, { border: `2px solid ${STYLES.borderColor}`, background: STYLES.sectionBg, borderRadius: '6px', padding: '10px' });

        // --- candidate dropout logic ---
        let currentQ = getCurrentQuestionNumber();
        const totalOriginalCandidates = CANDIDATE_DATA.length;
        const numActiveOverall = Math.max(1, totalOriginalCandidates - (currentQ - 1));
        const candidatesForDisplay = CANDIDATE_DATA.map((cand, index) => ({ ...cand, originalIndex: index, isActive: false }));
        const trumpData = candidatesForDisplay.find(c => c.id === 'TRUMP_2016');
        let activeSlotsToFill = numActiveOverall;
        if (numActiveOverall === 1 && trumpData) { trumpData.isActive = true; } else {
            if (trumpData && activeSlotsToFill > 0) {
                trumpData.isActive = true;
                activeSlotsToFill--;
            }
            for (const cand of candidatesForDisplay) {
                if (activeSlotsToFill <= 0) break;
                if (cand.id !== (trumpData ? trumpData.id : null) && !cand.isActive) {
                    cand.isActive = true;
                    activeSlotsToFill--;
                }
            }
        }
        const sortedPrimaryCandidates = candidatesForDisplay.filter(c => c.id !== 'TRUMP_2016').sort((a, b) => { if (a.isActive && !b.isActive) return -1; if (!a.isActive && b.isActive) return 1; return a.originalIndex - b.originalIndex; });

        // --- integration point ---
        const isTrumpNominee = numActiveOverall === 1 && trumpData && trumpData.isActive;

        if (isTrumpNominee) {
            // -- build the ticket --
            if (!selectedTrumpVP) {
                selectedTrumpVP = selectAndPrepareTrumpVP();
            }
            if (trumpData) {
                trumpData.desc = "Businessman from New York.";
            }

            const ticketContainer = document.createElement('div');
            Object.assign(ticketContainer.style, { background: STYLES.activeItemBg, border: `2px solid ${STYLES.classifiedRed}`, borderRadius: '6px', padding: '15px', marginBottom: '15px' });

            const ticketHeader = document.createElement('h2');
            ticketHeader.textContent = 'THE REPUBLICAN TICKET';
            Object.assign(ticketHeader.style, { textAlign: 'center', color: STYLES.classifiedRed, fontFamily: STYLES.mainFont, margin: '0 0 15px 0', fontSize: '18px', letterSpacing: '1px', borderBottom: `1px solid ${STYLES.borderColor}`, paddingBottom: '10px' });

            const ticketColumnsWrapper = document.createElement('div');
            Object.assign(ticketColumnsWrapper.style, { display: 'flex', justifyContent: 'space-around', alignItems: 'flex-start', paddingTop: '10px' });

            const createTicketColumn = (data, role) => {
                const column = document.createElement('div');
                Object.assign(column.style, { display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center', width: '45%' });

                const photo = document.createElement('img');
                photo.src = data.photo;
                photo.alt = data.name;
                Object.assign(photo.style, { width: '120px', height: '120px', objectFit: 'cover', border: `3px solid ${STYLES.borderColor}`, borderRadius: '25%', marginBottom: '10px', boxShadow: '0 3px 6px rgba(0,0,0,0.2)' });

                const nameEl = document.createElement('div');
                nameEl.textContent = data.name;
                Object.assign(nameEl.style, { fontFamily: STYLES.mainFont, fontWeight: 'bold', fontSize: '16px', color: STYLES.textPrimary });

                const roleEl = document.createElement('div');
                roleEl.textContent = role;
                Object.assign(roleEl.style, { fontSize: '12px', fontStyle: 'italic', color: STYLES.textSecondary });
                
                const descEl = document.createElement('div');
                descEl.textContent = data.desc;
                Object.assign(descEl.style, {
                    fontSize: '11px',
                    fontStyle: 'italic',
                    color: STYLES.textSecondary,
                    marginTop: '4px',
                    maxWidth: '180px'
                });

                column.appendChild(photo);
                column.appendChild(nameEl);
                column.appendChild(roleEl);
                column.appendChild(descEl);
                return column;
            };

            const trumpColumn = createTicketColumn(trumpData, "for President");
            const vpColumn = createTicketColumn(selectedTrumpVP, "for Vice President");

            ticketColumnsWrapper.appendChild(trumpColumn);
            ticketColumnsWrapper.appendChild(vpColumn);
            ticketContainer.appendChild(ticketHeader);
            ticketContainer.appendChild(ticketColumnsWrapper);

            // strategic rationale section
            const rationaleContainer = document.createElement('div');
            Object.assign(rationaleContainer.style, {
                marginTop: '20px',
                padding: '12px',
                background: 'rgba(255, 255, 255, 0.7)',
                border: `1px dashed ${STYLES.borderColor}`,
                borderRadius: '4px'
            });

            const rationaleContent = document.createElement('p');
            Object.assign(rationaleContent.style, {
                fontSize: '12px',
                lineHeight: '1.5',
                color: STYLES.textPrimary,
                margin: '0'
            });

            const rationaleTitle = document.createElement('strong');
            rationaleTitle.textContent = 'Our analysis: ';
            rationaleTitle.style.color = STYLES.classifiedRed;

            const rationaleText = VP_RATIONALES[selectedTrumpVP.name] || "No strategic analysis available for this selection.";
            rationaleContent.appendChild(rationaleTitle);
            rationaleContent.appendChild(document.createTextNode(rationaleText));

            rationaleContainer.appendChild(rationaleContent);
            ticketContainer.appendChild(rationaleContainer);
            
            menuList.appendChild(ticketContainer);

        } else {
            if (trumpData) {
                menuList.appendChild(buildCandidateEntry(trumpData, CANDIDATE_DATA.findIndex(c => c.id === trumpData.id), 'Candidate'));
            }
        }

        // display other (non-Trump) primary candidates
        sortedPrimaryCandidates.forEach(itemData => {
            menuList.appendChild(buildCandidateEntry(itemData, CANDIDATE_DATA.findIndex(c => c.id === itemData.id), 'Candidate'));
        });

        container.appendChild(menuList);
        return container;
    }

    function buildCandidateEntry(itemData, index, type = 'Candidate') {
        const candidateEntry = document.createElement('div');
        Object.assign(candidateEntry.style, { display: 'flex', alignItems: 'flex-start', marginBottom: '12px', padding: '12px', borderRadius: '4px', border: `1px solid ${STYLES.borderColor}`, position: 'relative', transition: 'all 0.2s ease' });

        const entryNumber = document.createElement('div');
        if (type === 'Candidate') {
            entryNumber.textContent = String(index + 1).padStart(2, '0');
            Object.assign(entryNumber.style, { fontFamily: STYLES.mainFont, fontSize: '11px', fontWeight: 'bold', color: STYLES.textMuted, marginRight: '10px', marginTop: '2px', minWidth: '20px' });
        } else {
            entryNumber.style.display = 'none'; // no number for VP
        }

        const photo = document.createElement('img');
        photo.src = itemData.photo;
        photo.alt = `${itemData.name} portrait`;
        photo.loading = 'lazy';
        Object.assign(photo.style, { width: '72px', height: '72px', objectFit: 'cover', marginRight: '15px', border: `2px solid ${STYLES.borderColor}`, borderRadius: '2px', boxShadow: '0 2px 4px rgba(0,0,0,0.2)', transition: 'all 0.2s ease' });
        const info = document.createElement('div');
        info.style.flex = '1';
        const nameContainer = document.createElement('div');
        Object.assign(nameContainer.style, { display: 'flex', alignItems: 'center', marginBottom: '6px' });
        const name = document.createElement('div');
        name.textContent = itemData.name;
        Object.assign(name.style, { fontFamily: STYLES.mainFont, fontWeight: 'bold', fontSize: '15px', marginRight: '10px', transition: 'color 0.2s ease' });
        const statusBadge = document.createElement('span');
        Object.assign(statusBadge.style, { fontSize: '9px', fontFamily: STYLES.badgeFont, padding: '2px 6px', borderRadius: '2px', fontWeight: 'bold', letterSpacing: '0.5px' });

        const descPrefix = type === 'Running Mate' ? 'Profile: ' : 'Assessment: ';
        const desc = document.createElement('div');
        desc.innerHTML = `<strong>${descPrefix}</strong> ${itemData.desc}`;
        Object.assign(desc.style, { fontSize: '12px', lineHeight: '1.4', color: STYLES.textSecondary, transition: 'color 0.2s ease' });

        nameContainer.appendChild(name);
        nameContainer.appendChild(statusBadge);
        info.appendChild(nameContainer);
        info.appendChild(desc);
        if (type === 'Candidate') candidateEntry.appendChild(entryNumber);
        candidateEntry.appendChild(photo);
        candidateEntry.appendChild(info);

        if (type === 'Running Mate') {
            candidateEntry.style.background = STYLES.activeItemBg;
            candidateEntry.style.borderColor = STYLES.successGreen;
            candidateEntry.style.borderWidth = '2px';
            name.style.color = STYLES.successGreen;
            statusBadge.textContent = 'RUNNING MATE';
            statusBadge.style.background = STYLES.successGreen;
            statusBadge.style.color = '#ffffff';
            candidateEntry.onmouseover = () => {
                candidateEntry.style.background = STYLES.getActiveHoverBg();
                candidateEntry.style.transform = 'translateY(-2px)';
                candidateEntry.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';
            };
            candidateEntry.onmouseout = () => {
                candidateEntry.style.background = STYLES.activeItemBg;
                candidateEntry.style.transform = '';
                candidateEntry.style.boxShadow = '';
            };
        } else if (itemData.isActive) {
            candidateEntry.style.background = STYLES.activeItemBg;
            candidateEntry.style.borderColor = STYLES.classifiedRed;
            candidateEntry.style.borderWidth = '2px';
            name.style.color = STYLES.classifiedRed;
            statusBadge.textContent = 'ACTIVE';
            statusBadge.style.background = STYLES.classifiedRed;
            statusBadge.style.color = '#ffffff';
            candidateEntry.onmouseover = () => {
                candidateEntry.style.background = STYLES.getActiveHoverBg();
                candidateEntry.style.transform = 'translateY(-2px)';
                candidateEntry.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';
            };
            candidateEntry.onmouseout = () => {
                candidateEntry.style.background = STYLES.activeItemBg;
                candidateEntry.style.transform = '';
                candidateEntry.style.boxShadow = '';
            };
        } else {
            candidateEntry.style.background = STYLES.inactiveItemBg;
            candidateEntry.style.opacity = '0.7';
            photo.style.filter = 'grayscale(80%) opacity(60%)';
            photo.style.borderColor = '#bbb';
            name.style.color = STYLES.textMuted;
            desc.style.color = STYLES.textMuted;
            if (entryNumber) entryNumber.style.color = '#ccc';
            statusBadge.textContent = 'WITHDRAWN';
            statusBadge.style.background = STYLES.textMuted;
            statusBadge.style.color = '#ffffff';
        }
        return candidateEntry;
    }

    function buildOperationsList(availableOps) {
        const operationsContainer = document.createElement('div');
        if (availableOps.length === 0) {
            const noOpsMessage = document.createElement('div');
            Object.assign(noOpsMessage.style, { textAlign: 'center', padding: '30px', background: 'rgba(255,255,255,0.7)', border: `1px dashed ${STYLES.borderColor}`, borderRadius: '4px', fontSize: '13px', fontStyle: 'italic', color: STYLES.textMuted });
            noOpsMessage.innerHTML = 'NO OPERATIONS CURRENTLY AVAILABLE<br><small>Operations on cooldown or all objectives completed</small>';
            operationsContainer.appendChild(noOpsMessage);
            return operationsContainer;
        }
        const categorizedOps = {};
        availableOps.forEach(op => {
            if (!categorizedOps[op.category]) categorizedOps[op.category] = { data: op.categoryData, operations: [] };
            categorizedOps[op.category].operations.push(op);
        });
        for (const [, categoryInfo] of Object.entries(categorizedOps)) {
            const categorySection = document.createElement('div');
            Object.assign(categorySection.style, { marginBottom: '20px', border: `2px solid ${STYLES.borderColor}`, borderRadius: '6px', background: STYLES.sectionBg, overflow: 'hidden' });
            const categoryHeader = document.createElement('div');
            Object.assign(categoryHeader.style, { background: STYLES.headerBg, color: 'white', padding: '10px 15px', fontFamily: STYLES.mainFont, fontSize: '12px', fontWeight: 'bold', letterSpacing: '1px' });
            const riskColors = { 'LOW': STYLES.successGreen, 'MEDIUM': STYLES.warningAmber, 'HIGH': STYLES.sabotageRed };
            categoryHeader.innerHTML = `◆ ${categoryInfo.data.name} - ${categoryInfo.data.classification} <span style="float: right; background: ${riskColors[categoryInfo.data.riskLevel] || STYLES.textMuted}; padding: 2px 6px; border-radius: 2px; font-size: 9px;"> RISK: ${categoryInfo.data.riskLevel} </span>`;
            categorySection.appendChild(categoryHeader);
            const categoryDesc = document.createElement('div');
            Object.assign(categoryDesc.style, { padding: '10px 15px', fontSize: '11px', fontStyle: 'italic', color: STYLES.textSecondary, borderBottom: `1px solid ${STYLES.borderColor}` });
            categoryDesc.textContent = categoryInfo.data.description;
            categorySection.appendChild(categoryDesc);
            categoryInfo.operations.forEach(operation => categorySection.appendChild(buildOperationElement(operation)));
            operationsContainer.appendChild(categorySection);
        }
        return operationsContainer;
    }

    function buildOperationElement(operation) {
        const operationDiv = document.createElement('div');
        Object.assign(operationDiv.style, { padding: '15px', borderBottom: `1px solid ${STYLES.borderColor}`, transition: 'background 0.2s ease' });
        operationDiv.onmouseover = () => { operationDiv.style.background = 'rgba(255,255,255,0.3)'; };
        operationDiv.onmouseout = () => { operationDiv.style.background = ''; };
        const operationHeader = document.createElement('div');
        Object.assign(operationHeader.style, { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '8px' });
        const operationInfo = document.createElement('div');
        operationInfo.style.flex = '1';
        const operationName = document.createElement('div');
        operationName.textContent = operation.name;
        Object.assign(operationName.style, { fontFamily: STYLES.mainFont, fontSize: '13px', fontWeight: 'bold', color: STYLES.operationBlue, marginBottom: '3px' });
        const operationTarget = document.createElement('div');
        operationTarget.innerHTML = `<em>Target:</em> ${operation.target}`;
        Object.assign(operationTarget.style, { fontSize: '11px', color: STYLES.textSecondary, marginBottom: '5px' });
        const operationDesc = document.createElement('div');
        operationDesc.textContent = operation.description;
        Object.assign(operationDesc.style, { fontSize: '11px', lineHeight: '1.4', color: STYLES.textPrimary });
        operationInfo.appendChild(operationName);
        operationInfo.appendChild(operationTarget);
        operationInfo.appendChild(operationDesc);
        const operationControls = document.createElement('div');
        Object.assign(operationControls.style, { display: 'flex', flexDirection: 'column', alignItems: 'flex-end', minWidth: '100px', marginLeft: '10px' });
        const successRateEl = document.createElement('div');
        successRateEl.innerHTML = `Success: ${Math.round(operation.categoryData.baseSuccessRate * 100)}%`;
        Object.assign(successRateEl.style, { fontSize: '10px', fontFamily: STYLES.mainFont, color: STYLES.successGreen, marginBottom: '8px' });
        const executeButton = document.createElement('button');
        executeButton.textContent = 'INITIATE';
        Object.assign(executeButton.style, { padding: '6px 12px', background: STYLES.operationBlue, color: 'white', border: 'none', borderRadius: '3px', fontSize: '10px', fontFamily: STYLES.mainFont, fontWeight: 'bold', cursor: 'pointer', letterSpacing: '0.5px', transition: 'all 0.2s ease' });
        executeButton.onmouseover = () => {
            executeButton.style.background = '#1976d2';
            executeButton.style.transform = 'translateY(-1px)';
        };
        executeButton.onmouseout = () => {
            executeButton.style.background = STYLES.operationBlue;
            executeButton.style.transform = '';
        };
        executeButton.onclick = () => {
            if (operation.requiresStateSelection) {
                showStateSelectionModal(operation);
            } else {
                showExecutionModal(operation);
            }
        };
        operationControls.appendChild(successRateEl);
        operationControls.appendChild(executeButton);
        operationHeader.appendChild(operationInfo);
        operationHeader.appendChild(operationControls);
        operationDiv.appendChild(operationHeader);
        if (operationDiv.parentNode && operationDiv.parentNode.lastChild === operationDiv) operationDiv.style.borderBottom = 'none';
        return operationDiv;
    }

    function addDossierButton() {
        if (document.getElementById('dossier_button')) return;
        const refButton = document.getElementById('view_electoral_map');
        if (!refButton) return;
        const newButton = document.createElement('button');
        newButton.id = 'dossier_button';
        Object.assign(newButton.style, { marginLeft: '1.5em', cursor: 'pointer' });
        const availableOps = getAvailableOperations();
        newButton.innerHTML = availableOps.length > 0 ? 'Dossier (+)' : 'Dossier';
        if (availableOps.length > 0) newButton.style.boxShadow = '0 0 8px rgba(255, 215, 0, 0.6)';
        newButton.addEventListener('click', openDossier);
        refButton.insertAdjacentElement('afterend', newButton);
    }

    function positionDossierWindow(popOutMenu, event) {
        let leftPos, topPos;
        const menuWidth = popOutMenu.offsetWidth || 480;
        let menuHeight = popOutMenu.offsetHeight || 600;
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;
        popOutMenu.style.maxHeight = (viewportHeight * 0.9) + 'px';
        menuHeight = popOutMenu.offsetHeight;
        if (dossierSavedX !== null && dossierSavedY !== null) {
            if (isPositionVisible(dossierSavedX, dossierSavedY, menuWidth, menuHeight)) {
                leftPos = dossierSavedX;
                topPos = dossierSavedY;
            } else {
                const btnRect = (event?.target || document.getElementById('dossier_button'))?.getBoundingClientRect();
                if (btnRect) {
                    leftPos = btnRect.right + 25;
                    topPos = Math.max(btnRect.top - 42, 10);
                } else {
                    leftPos = (viewportWidth - menuWidth) / 2;
                    topPos = (viewportHeight - menuHeight) / 2;
                }
            }
        } else {
            const btnRect = (event?.target || document.getElementById('dossier_button'))?.getBoundingClientRect();
            if (btnRect) {
                leftPos = btnRect.right + 25;
                topPos = Math.max(btnRect.top - 42, 10);
            } else {
                leftPos = (viewportWidth - menuWidth) / 2;
                topPos = (viewportHeight - menuHeight) / 2;
            }
        }
        if (leftPos + menuWidth > viewportWidth) leftPos = Math.max(viewportWidth - menuWidth - 20, 10);
        if (leftPos < 10) leftPos = 10;
        if (topPos + menuHeight > viewportHeight) topPos = Math.max(viewportHeight - menuHeight - 20, 10);
        if (topPos < 10) topPos = 10;
        popOutMenu.style.opacity = '0';
        popOutMenu.style.left = leftPos + 'px';
        popOutMenu.style.top = topPos + 'px';
        requestAnimationFrame(() => { popOutMenu.style.opacity = '1'; });
    }

    function isPositionVisible(x, y, width, height) { const vpW = window.innerWidth; const vpH = window.innerHeight; return (x >= 0 && y >= 0 && x + width <= vpW && y + height <= vpH); }

    function centerMenuOnScreen(menu) {
        const vpW = window.innerWidth;
        const vpH = window.innerHeight;
        const mW = menu.offsetWidth;
        const mH = menu.offsetHeight;
        const lP = Math.max((vpW - mW) / 2, 10);
        const tP = Math.max((vpH - mH) / 2, 10);
        menu.style.left = lP + 'px';
        menu.style.top = tP + 'px';
        dossierSavedX = lP;
        dossierSavedY = tP;
    }

    function closeDossier() {
        const menu = document.getElementById('popOutMenu');
        if (!menu) return;
        dossierSavedX = parseInt(menu.style.left);
        dossierSavedY = parseInt(menu.style.top);
        if (menu._escHandler) document.removeEventListener('keydown', menu._escHandler);
        menu.style.opacity = '0';
        setTimeout(() => menu.remove(), 300);
    }

    function makeDraggable(element) {
        let isDragging = false,
            startX, startY, startLeft, startTop;
        const header = element.querySelector('.dossier-drag-header');
        if (!header) { console.warn("Draggable header .dossier-drag-header not found."); return; } header.style.cursor = 'grab';
        header.style.userSelect = 'none';
        const getCoords = (e) => e.touches ? e.touches[0] : e;
        const startDrag = (e) => {
            const coords = getCoords(e);
            if (e.touches && (e.target === header || header.contains(e.target))) e.preventDefault();
            isDragging = true;
            startX = coords.clientX;
            startY = coords.clientY;
            startLeft = parseInt(element.style.left) || 0;
            startTop = parseInt(element.style.top) || 0;
            header.style.cursor = 'grabbing';
            document.addEventListener('mousemove', drag);
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchend', stopDrag);
        };
        const drag = (e) => {
            if (!isDragging) return;
            if (e.touches) e.preventDefault();
            const coords = getCoords(e);
            const dX = coords.clientX - startX;
            const dY = coords.clientY - startY;
            let nL = startLeft + dX;
            let nT = startTop + dY;
            const vpW = window.innerWidth;
            const vpH = window.innerHeight;
            const mW = element.offsetWidth;
            const mH = element.offsetHeight;
            const minVis = 30;
            nL = Math.min(Math.max(minVis - mW, nL), vpW - minVis);
            nT = Math.min(Math.max(minVis - mH, nT), vpH - minVis);
            element.style.left = nL + 'px';
            element.style.top = nT + 'px';
            dossierSavedX = nL;
            dossierSavedY = nT;
        };
        const stopDrag = () => {
            if (!isDragging) return;
            isDragging = false;
            header.style.cursor = 'grab';
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('touchmove', drag);
            document.removeEventListener('mouseup', stopDrag);
            document.removeEventListener('touchend', stopDrag);
        };
        header.addEventListener('mousedown', startDrag);
        header.addEventListener('touchstart', startDrag, { passive: false });
    }

    function setupButtonObserver() {
        const obs = new MutationObserver(() => { if (!document.getElementById('dossier_button') && document.getElementById('view_electoral_map')) addDossierButton(); });
        obs.observe(document.body, { childList: true, subtree: true });
    }

    // game state monitor
    function startGameStateMonitor() {
        setInterval(() => {
            const currentQ = getCurrentQuestionNumber();

            // if the question number has changed since our last check...
            if (currentQ !== lastKnownQuestionNumber) {
                // update our tracker
                lastKnownQuestionNumber = currentQ;

                // refresh the dossier content if it's open
                refreshDossierContent();

                // also update the button indicator, as operations might be available now
                const button = document.getElementById('dossier_button');
                if (button) {
                    const availableOps = getAvailableOperations(); // check current state
                    button.innerHTML = availableOps.length > 0 ? 'Dossier (+)' : 'Dossier';
                    button.style.boxShadow = availableOps.length > 0 ? '0 0 8px rgba(255, 215, 0, 0.6)' : '';
                }
            }
        }, 1000); // check every second or so
    }

    function initialize() {
        if (document.getElementById('view_electoral_map')) addDossierButton();
        setupButtonObserver();
        
        startGameStateMonitor();

        function tryAddBtn(r = 0, mR = 7) {
            if (document.getElementById('dossier_button')) return;
            if (document.getElementById('view_electoral_map')) addDossierButton();
            else if (r < mR) setTimeout(() => tryAddBtn(r + 1, mR), 50 * Math.pow(1.5, r));
        }
        tryAddBtn();
    }

    initialize();
})();

// This is for the recommended reading box. Specifically, it sets up
// the styling for the tab system we have here.
(function() {
    'use strict';

    let stylesAdded = false;
    let tabSystemInitializedForCurrentBox = false;

    function addStyles() {
        if (stylesAdded) return;

        const styleElement = document.createElement('style');
        document.head.appendChild(styleElement);
        const sheet = styleElement.sheet;

        const styles = [
            "#recommended_reading_box { border-style: double none; margin-inline: auto; width: 95%; background: linear-gradient(rgb(247, 247, 247), rgb(241, 241, 241)); height: 30em;}",
			"#recommended_reading_box #tab-select {width:100%;height:32px;display:flex;justify-content:center;margin-bottom:1em;border-bottom:5px solid #1b146c;border-image:linear-gradient(#3c3ff6,#9f0c0c) 40}",
            "#recommended_reading_box .ftab, #recommended_reading_box .ftab-active {font-family: Trebuchet MS, sans-serif;width: 98px;height: 32px;margin-top: 0px;padding-top: 7px;box-sizing: border-box; cursor: pointer; user-select:none; -webkit-user-select: none; background: linear-gradient(to bottom, #f7f7f7, #e0e0e0); border: 1px solid #ccc; border-radius: 10px 10px 0 0; }",
			"#recommended_reading_box .ftab:hover { background: linear-gradient(to bottom, #fff, #ddd);}",
            "#recommended_reading_box .ftab-active { background: #ffeded; border-color: #aa2525; cursor: default; }",
            "#recommended_reading_box #start.ftab {width: 100px;}",
            "#recommended_reading_box #start.ftab-active {width: 100px;}",
        ];

        styles.forEach(rule => {
            try {
                sheet.insertRule(rule, sheet.cssRules.length);
            } catch (e) {
                console.warn('Could not insert CSS rule:', rule, e);
            }
        });
        stylesAdded = true;
        //console.log('Styles for recommended reading added.');
    }

    function initializeTabs() {
        const recommendedReadingBox = document.getElementById('recommended_reading_box');
        if (!recommendedReadingBox) {
            tabSystemInitializedForCurrentBox = false;
            return;
        }

        if (recommendedReadingBox._tabsInitialized) {
            const tabContainer = recommendedReadingBox.querySelector('#tab-select');
            const contentContainer = tabContainer ? tabContainer.nextElementSibling : null;
            if(tabContainer && contentContainer) {
                 const tabs = Array.from(tabContainer.children).filter(child => child.tagName === 'P');
                 const activeTabElement = tabs.find(tab => tab.classList.contains('ftab-active'));
                 if (activeTabElement) {
                    const activeIndex = tabs.indexOf(activeTabElement);
                    const contentPanes = [];
                    tabs.forEach((_t, idx) => {
                        const pane = contentContainer.querySelector(`#rpage${idx}`);
                        if(pane) contentPanes.push(pane);
                    });
                    contentPanes.forEach((pane, index) => {
                        if(pane) pane.style.display = (index === activeIndex) ? 'inline-block' : 'none';
                    });
                 }
            }
            return;
        }

        const tabContainer = recommendedReadingBox.querySelector('#tab-select');
        if (!tabContainer) {
            console.error('Element with ID "tab-select" not found within "recommended_reading_box".');
            return;
        }

        const contentContainer = tabContainer.nextElementSibling;
        if (!contentContainer) {
            console.error('Content container not found. Expected as next sibling of "tab-select".');
            return;
        }

        // get all tab elements (p tags) and content panes
        const tabs = Array.from(tabContainer.children).filter(child => child.tagName === 'P');
        const contentPanes = [];
        tabs.forEach((tab, index) => {
            const paneId = `rpage${index}`;
            const pane = contentContainer.querySelector(`#${paneId}`);
            if (pane) {
                contentPanes.push(pane);
            } else {
                console.warn(`Content pane #${paneId} not found.`);
            }
        });

        if (tabs.length === 0) {
            console.error('No tab elements found in #tab-select.');
            return;
        }
        if (contentPanes.length === 0 && tabs.length > 0) {
            console.warn('No content panes found. Tabs will not function correctly.');
        }

        function setActiveTab(activeIndex) {
            tabs.forEach((tab, index) => {
                if (!tab) return;
                tab.classList.toggle('ftab-active', index === activeIndex);
                tab.classList.toggle('ftab', index !== activeIndex);
            });

            contentPanes.forEach((pane, index) => {
                if (!pane) return;
                pane.style.display = (index === activeIndex) ? 'inline-block' : 'none';
            });
        }

        if (tabContainer._delegatedTabClickHandler) {
            tabContainer.removeEventListener('click', tabContainer._delegatedTabClickHandler);
        }

        tabContainer._delegatedTabClickHandler = function(event) {
            // find the <p> element that was clicked, or its <p> ancestor if a child inside p was clicked
            const clickedTabElement = event.target.closest('p.ftab, p.ftab-active');

            // ensure the clicked element is one of our direct tab children
            if (clickedTabElement && tabContainer.contains(clickedTabElement) && tabs.includes(clickedTabElement)) {
                const clickedIndex = tabs.indexOf(clickedTabElement);
                if (clickedIndex !== -1) {
                    if (clickedIndex < contentPanes.length && contentPanes[clickedIndex]) {
                        setActiveTab(clickedIndex);
                    } else if (clickedIndex >= contentPanes.length) {
                        console.warn(`Tab at index ${clickedIndex} clicked, but no content pane found. Tab made active visually.`);
                    }
                }
            }
        };
        tabContainer.addEventListener('click', tabContainer._delegatedTabClickHandler);

        // remove inline onclick attributes from HTML if they exist
        tabs.forEach(tab => {
            if (tab.hasAttribute('onclick')) {
                tab.removeAttribute('onclick');
            }
        });

        // determine and set the initial active tab
        let initialActiveIndex = tabs.findIndex(tab => tab && tab.classList.contains('ftab-active'));
        if (initialActiveIndex === -1 && tabs.length > 0) {
            initialActiveIndex = 0;
        }

        if (initialActiveIndex !== -1) {
            if (initialActiveIndex < contentPanes.length && contentPanes[initialActiveIndex]) {
                setActiveTab(initialActiveIndex);
            } else {
                tabs.forEach((tab, index) => {
                    if (!tab) return;
                    tab.classList.toggle('ftab-active', index === initialActiveIndex);
                    tab.classList.toggle('ftab', index !== initialActiveIndex);
                });
                contentPanes.forEach(pane => { if (pane) pane.style.display = 'none'; });
                if (tabs.length > 0 && contentPanes.length === 0) {
                     //console.log(`Initial tab set to index ${initialActiveIndex} visually, but no content panes available.`);
                } else if (tabs.length > 0) {
                     //console.log(`Initial tab set to index ${initialActiveIndex} visually, corresponding content pane missing.`);
                }
            }
        } else if (tabs.length > 0) {
            contentPanes.forEach(pane => { if (pane) pane.style.display = 'none'; });
        }

        recommendedReadingBox._tabsInitialized = true;
        tabSystemInitializedForCurrentBox = true;
        console.log('Recommended reading tabs initialized.');
    }

    function setupObserver() {
        const targetNode = document.body;
        if (!targetNode) {
            console.error("Cannot set up MutationObserver: document.body not found.");
            return;
        }

        const config = { childList: true, subtree: true };

        const callback = function(mutationsList, observer) {
            const recommendedReadingBox = document.getElementById('recommended_reading_box');

            if (recommendedReadingBox) {
                if (!stylesAdded) {
                    addStyles();
                }
                if (!recommendedReadingBox._tabsInitialized) {
                    initializeTabs();
                }
            } else {
                if (tabSystemInitializedForCurrentBox) {
                    //console.log('Recommended reading box removed from DOM.');
                    tabSystemInitializedForCurrentBox = false;
                }
            }
        };

        const observer = new MutationObserver(callback);
        observer.observe(targetNode, config);
        //console.log('MutationObserver set up to watch for recommended_reading_box appearance/disappearance.');

        const existingBox = document.getElementById('recommended_reading_box');
        if (existingBox) {
            //console.log('recommended_reading_box already in DOM. Initializing immediately.');
            if (!stylesAdded) {
                addStyles();
            }
            if (!existingBox._tabsInitialized) {
                initializeTabs();
            }
        }
    }

    // start the process
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', setupObserver);
    } else {
        // DOMContentLoaded has already fired
        setupObserver();
    }
})();

// CYOA function to get everything going
// in particular this is for the final results table + the dossier,
// hence why this is a global function and not within an IIFE like
// most codes here.
campaignTrail_temp.cyoa = true;

window.populistScore = 0;
window.aggressiveScore = 0;
window.tookResponsibilityForEmails = false;
window.embracedSanders = false;
let feelthebern = 0;
let yeshillaryyes = 0;
let hipnfly = 0;
let hawkhill = 0;
let goodtimes = 0;
let floor13 = false;

cyoAdventure = function (a) {
    let ans = campaignTrail_temp.player_answers[campaignTrail_temp.player_answers.length - 1];
	//console.log("ans is: " + ans); // @todo: remove this for release

    if (ans == 5146) {
        window.aggressiveScore -= 2;
        window.tookResponsibilityForEmails = true;
    }
    else if (ans == 5170) {
        window.populistScore += 2;
        window.embracedSanders = true;
    }

    else if (ans == 5141 || ans == 20798 || ans == 5151) {
        window.populistScore += 2;
    }
    else if (ans == 20803 || ans == 5143 || ans == 5144 || ans == 5147 || ans == 5153) {
        window.aggressiveScore += 2;
    }
    else if (ans == 5142 || ans == 5148 || ans == 5152 || ans == 5157) {
        window.populistScore += 1;
    }
    else if (ans == 5139) {
        window.aggressiveScore += 1;
    }

    else if (ans == 5140 || ans == 5155 || ans == 5156 || ans == 5171) {
        window.populistScore -= 1;
    }
    else if (ans == 5145 || ans == 5149) {
        window.aggressiveScore -= 1;
    }
    else if (ans == 5172) {
        window.populistScore -= 2;
    }
    else if (ans == 5154) {
        window.populistScore -= 1;
        window.aggressiveScore -= 1;
    }
	
	if (ans == 5170 || ans == 5151 || ans == 5189 || ans == 20798 || ans == 20938 || ans == 5200 || ans == 5201 || ans == 5202 || ans == 21115) {
		feelthebern++;
	}
	
	if (ans == 20988 || ans == 5251 || ans == 5172 || ans == 20988 || ans == 5198) {
        yeshillaryyes++;
    }
	
	if (ans == 20893 || ans == 5179 || ans == 20893 || ans == 5261 || ans == 21156) { 
		hipnfly++;
	}
	
	if (ans == 5215 || ans == 21013 || ans == 21108 || ans == 21001 || ans == 5231) {
		hawkhill++;
	}
	
	if (ans == 5175 || ans == 5220 || ans == 5142 || ans == 5184 || ans == 5223) {
		goodtimes++;
	}
	if (ans == 5215) {
        goodtimes--;
    }
};

// There are a couple of veep possibilities here for Trump, Johnson, and Stein.
// this function will adjust the issue scores and boost them - or not - depending
// on who has been selected.
// This is a wonky function though, and very likely to break. In fact, I'm kinda
// surprised it does work. I think.
(function() {
    'use strict';

    let vpEffectsApplied = false;

    const vpEffectProfiles = {
		// psst: base scores are: Ideology (-0.4), Trade (0.5), Foreign Policy (0.1), Social Issues (-0.5) and Immigration (-0.6)
		// the closer to 0, the better Trump does
		"Mike Pence": {
			nationalMultiplier: 1.0, homeState: "Indiana",
			issue_scores: { "1000": 0.05, "1001": -0.1, "1002": 0.0, "1003": 0.15, "1004": 0.1 }
		},
		"Chris Christie": {
			nationalMultiplier: 0.99, homeState: "New Jersey",
			issue_scores: { "1000": -0.1, "1001": -0.2, "1002": -0.1, "1003": 0.0, "1004": 0.1 }
		},
		"Newt Gingrich": {
			nationalMultiplier: 0.985, homeState: "Georgia",
			issue_scores: { "1000": 0.12, "1001": -0.08, "1002": -0.1, "1003": 0.2, "1004": 0.16 }
		},
		"Mike Flynn": {
			nationalMultiplier: 1.005, homeState: "Rhode Island",
			issue_scores: { "1000": 0.1, "1001": 0.0, "1002": -0.1, "1003": 0.07, "1004": 0.05 }
		},
		"Sarah Palin": {
			nationalMultiplier: 1.01, homeState: "Alaska",
			issue_scores: { "1000": 0.12, "1001": -0.05, "1002": 0.0, "1003": 0.3, "1004": 0.05 }
		},
		"Ted Cruz": {
			nationalMultiplier: 0.992, homeState: "Texas",
			issue_scores: { "1000": 0.12, "1001": -0.1, "1002": -0.05, "1003": 0.12, "1004": 0.1 }
		},
		"Tom Cotton": {
			nationalMultiplier: 1.0, homeState: "Arkansas",
			issue_scores: { "1000": 0.12, "1001": -0.1, "1002": -0.2, "1003": 0.15, "1004": 0.18 }
		},
		"Jeff Sessions": {
			nationalMultiplier: 1.008, homeState: "Alabama",
			issue_scores: { "1000": 0.11, "1001": 0.0, "1002": 0.0, "1003": 0.05, "1004": 0.15 }
		},
		"Scott Brown": {
			nationalMultiplier: 0.99, homeState: "New Hampshire",
			issue_scores: { "1000": 0.0, "1001": -0.2, "1002": -0.1, "1003": -0.1, "1004": 0.0 }
		},
		"Bob Corker": {
			nationalMultiplier: 0.995, homeState: "Tennessee",
			issue_scores: { "1000": 0.1, "1001": -0.2, "1002": -0.1, "1003": 0.1, "1004": 0.05 }
		},
		"Mary Fallin": {
			nationalMultiplier: 1.0, homeState: "Oklahoma",
			issue_scores: { "1000": 0.1, "1001": 0.0, "1002": 0.0, "1003": 0.1, "1004": 0.1 }
		}
	};
	
	 function applyIssueShift(candidateId, shifts) {
        const arr = campaignTrail_temp.candidate_issue_score_json;
        for (const [key, delta] of Object.entries(shifts)) {
            if (delta === 0) continue; // don't process zero-value shifts

            // first try matching on issue
            let entry = arr.find(s => s.fields.candidate === candidateId && s.fields.issue == key);
            
            // if not found, try matching against the entry's PK
            if (!entry) {
                entry = arr.find(s => s.fields.candidate === candidateId && s.pk == key);
            }
            
            if (!entry) {
                console.warn(`No issue-score row for candidate ${candidateId}, key ${key}`);
                continue;
            }
            
            const oldScore = entry.fields.issue_score;
            entry.fields.issue_score += delta;
            //console.log(
            //    `Candidate ${candidateId} · issue ${entry.fields.issue} (entry PK ${entry.pk}): ` +
            //    `score changed from ${oldScore.toFixed(3)} to ${entry.fields.issue_score.toFixed(3)} (mod: ${delta})`
            //);
        }
    }

    function applyVpEffects() {
        const vpName = getTrumpVP(
            window.populistScore,
            window.aggressiveScore,
            window.embracedSanders,
            window.tookResponsibilityForEmails
        );
        const profile = vpEffectProfiles[vpName] || vpEffectProfiles["Mike Pence"]; // fallback to Pence
		const TRUMP_CANDIDATE_ID = 200;
        const CLINTON_CANDIDATE_ID = 201;

        //console.log(`Applying effects for VP: ${vpName}`);

        // home state bonus
        if (profile.homeState) {
            const stateData = campaignTrail_temp.states_json.find(s => s.fields.name === profile.homeState);
            if (stateData) {
                const homeStateMultiplier = campaignTrail_temp.candidate_state_multiplier_json.find(
                    m => m.fields.candidate === TRUMP_CANDIDATE_ID && m.fields.state === stateData.pk
                );
                if (homeStateMultiplier) {
                    homeStateMultiplier.fields.state_multiplier *= 1.006;
                }
            }
        }

        // apply issue shifts
        //console.log("Applying issue score shifts...");
        applyIssueShift(TRUMP_CANDIDATE_ID, profile.issue_scores);
		
        //console.log(`Effects applied!`);
    }

    function handleGameUpdate(mutationsList, observer) {
        if (vpEffectsApplied) return;
        const questionHead = document.getElementById("progress_bar");
        if (questionHead && questionHead.innerText.includes("Question 8")) {
            applyVpEffects();
            vpEffectsApplied = true;
            observer.disconnect();
        }
    }

    const gameWindow = document.getElementById("game_window");
    if (gameWindow) {
        const observer = new MutationObserver(handleGameUpdate);
        observer.observe(gameWindow, { childList: true, subtree: true });
    } else {
        console.error("Could not find #game_window to attach observer.");
    }

})();

// This function replaces the advisor image for specific answers,
// sometimes based on additional game state conditions.
(function() {
    'use strict';

    const SPECIAL_CASES = {
        5176: {
            imageUrl: "https://i.imgur.com/zHD8eKr.png",
            condition: () => true
        },
        5179: {
            imageUrl: "https://i.imgur.com/oglH2YP.jpeg",
            condition: () => window.campaignTrail_temp && window.campaignTrail_temp.running_mate_id == 215
        }
    };

    const FEEDBACK_IMAGE_SELECTOR = "#visit_content img";
    let isProcessing = false;

    function handleAdvisorUpdate() {
        if (isProcessing) {
            return;
        }

        const feedbackImage = document.querySelector(FEEDBACK_IMAGE_SELECTOR);
        if (!feedbackImage) {
            return;
        }

        isProcessing = true;
        try {
            if (!window.campaignTrail_temp || !Array.isArray(window.campaignTrail_temp.player_answers)) {
                //console.log("Game state not ready, skipping image check.");
                return;
            }

            const answers = window.campaignTrail_temp.player_answers;
            if (answers.length === 0) {
                return;
            }

            const lastAnswerId = answers[answers.length - 1];
            const specialCase = SPECIAL_CASES[lastAnswerId];

            // check if the last answer is a special case and if its condition is met
            if (specialCase && specialCase.condition()) {
                if (feedbackImage.src !== specialCase.imageUrl) {
                    feedbackImage.src = specialCase.imageUrl;
                }
            }
        } catch (error) {
            console.error("Error during advisor image update:", error);
        } finally {
            isProcessing = false;
        }
    }

    const observerConfig = {
        childList: true,
        subtree: true
    };

    const observer = new MutationObserver(() => {
        handleAdvisorUpdate();
    });

    observer.observe(document.body, observerConfig);

})();

// For changing running mates at the ending screens.
// historical running mates
const vpTableHistorical2016 = {
    "Donald Trump": "Mike Pence",
    "Hillary Clinton": "Tim Kaine",
    "Gary Johnson/Others": "Bill Weld",
    "Jill Stein": "Ajamu Baraka"
};

function getTrumpVP(populistScore, aggressiveScore, embracedSanders, tookResponsibilityForEmails) {
	if (aggressiveScore <= -2 && tookResponsibilityForEmails) return "Scott Brown";
    if (populistScore >= 4 && embracedSanders) return "Ted Cruz";
    if (aggressiveScore >= 4 && populistScore >= 2) return "Mike Flynn";
	
	if (aggressiveScore >= 6) return "Newt Gingrich";
    if (populistScore >= 6) return "Sarah Palin";
    if (aggressiveScore >= 4) return "Chris Christie";
    if (populistScore >= 5) return "Tom Cotton";
    if (populistScore >= 4) return "Jeff Sessions";

    if (aggressiveScore <= -2) return "Bob Corker";
    if (populistScore <= -2) return "Mary Fallin";
    
    if (aggressiveScore >= -1 && aggressiveScore <= 3 && populistScore >= -1 && populistScore <= 3) return "Mike Pence";
    return "Mike Pence";
}

function getClintonVP() {
    const runningMateId = campaignTrail_temp.running_mate_id;
    
    switch (runningMateId) {
        case 211: return "Cory Booker";
        case 212: return "Deval Patrick";
		case 213: return "Joe Biden";
		case 214: return "Julian Castro";
		case 215: return "Eric Garcetti";
        case 209:
        default:
            return "Tim Kaine";
    }
}

function getJohnsonVP(populistScore, aggressiveScore) {
    if (populistScore >= 4 && aggressiveScore >= 4) return "Vermin Supreme";
    if (aggressiveScore >= 4) return "Jesse Ventura";
    if (populistScore >= 4) return "Austin Petersen";
	if (aggressiveScore <= -2) return "James P. Gray";
    if (populistScore <= -2 || aggressiveScore <= -1) return "Bill Weld";
    return "Bill Weld";
}

function getSteinVP(populistScore, aggressiveScore) {
	if (populistScore <= -3) return "Susan Sarandon";
    if (aggressiveScore >= 4) return "Chris Hedges";
    if (populistScore >= 4) return "Cheri Honkala";
	if (aggressiveScore >= 3) return "Rosa Clemente";
    if (populistScore <= -1) return "Nina Turner";
    return "Ajamu Baraka";
}

function addVPColumn(table, vpLookup) {
    if (!table || !table.rows) return;

    for (let i = 0; i < table.rows.length; i++) {
        const row = table.rows[i];
        if (i === 0) { // header row
            const headerCell = document.createElement('th');
            headerCell.innerText = "Running Mate";
            row.insertBefore(headerCell, row.cells[1]);
        } else { // data row
            const candidateNameCell = row.cells[0];
            if (!candidateNameCell) continue;

            // clean up the name to ensure a good match in our lookup table
            const name = candidateNameCell.innerText.replaceAll("-", "").trim();
            
            const dataCell = document.createElement('td');
            dataCell.innerText = vpLookup[name] || "N/A";
            row.insertBefore(dataCell, row.cells[1]);
        }
    }
}

function onGameWindowChangeCandidates() {
    const resultsTableHolder = document.getElementById("overall_details_container");

    if (!resultsTableHolder || resultsTableHolder.classList.contains("done-vp")) {
        return;
    }
    resultsTableHolder.classList.add("done-vp"); // mark as processed

    const dynamicVPs = {
        "Donald Trump": getTrumpVP(window.populistScore, window.aggressiveScore, window.embracedSanders, window.tookResponsibilityForEmails),
        "Hillary Clinton": getClintonVP(),
        "Gary Johnson/Others": getJohnsonVP(window.populistScore, window.aggressiveScore),
        "Jill Stein": getSteinVP(window.populistScore, window.aggressiveScore)
    };

    const tables = resultsTableHolder.querySelectorAll('table');
    if (tables.length < 2) {
        console.warn("Could not find one or both results tables.");
        return;
    }

    addVPColumn(tables[0], dynamicVPs);            // the main results table
    addVPColumn(tables[1], vpTableHistorical2016); // the historical comparison table
}

const gameWindowNode = document.getElementById("game_window");
if (gameWindowNode) {
    const candidateWatcherConfig = { childList: true, subtree: true };
    const candidateObserver = new MutationObserver(onGameWindowChangeCandidates);
    candidateObserver.observe(gameWindowNode, candidateWatcherConfig);
    onGameWindowChangeCandidates();
} else {
    console.error("Game window element not found for VP script.");
}